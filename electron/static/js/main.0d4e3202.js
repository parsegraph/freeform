/*! For license information please see main.0d4e3202.js.LICENSE.txt */
(()=>{var e={445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],u=o[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,u)),c=0,h=u>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(u(e,a,a+s>l?l:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},382:(e,t,n)=>{"use strict";const r=n(445),i=n(900),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=u,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||q(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:X(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(l(e,o+r)!==l(t,r)){n=!1;break}if(n)return o}return-1}function N(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(q(r))return s;e[n+s]=r}return s}function x(e,t,n,r){return K(X(t,e.length-n),e,n,r)}function D(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return K(Y(t),e,n,r)}function w(e,t,n,r){return K(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n);for(let u=0;u<a;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return N(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return D(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function S(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=$[e[o]];return i}function L(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function T(e,t,n,r,i){U(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function I(e,t,n,r,i){U(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||j(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||j(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||j(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||j(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){k(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){k(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q((function(e){return T(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q((function(e){return T(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(e){return I(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return G(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return G(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const W={};function F(e,t,n){W[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function U(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(o+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(o+1)-1).concat(r,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||j(t,e.length-(n+1))}(r,i,o)}function V(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function j(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i),r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function X(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!==e}const $=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"===typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},31:(e,t)=>{var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n="undefined"!==typeof Buffer;function r(e){for(var n=-1,r=0,i=e.length-7;r<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<i+7;)n=n>>>8^t[255&(n^e[r++])];return-1^n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var i=-1,o=e.length-1,s=0;s<o;)i=t[255&(i^e.charCodeAt(s++))]^i>>>8,i=t[255&(i^e.charCodeAt(s++))]^i>>>8;return s===o&&(i=i>>>8^t[255&(i^e.charCodeAt(s))]),-1^i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,i=0,o=e.length-3;i<o;)n=(n=(n=(n=n>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])];for(;i<o+3;)n=n>>>8^t[255&(n^e[i++])];return-1^n},e.str=function(e){for(var n,r,i=-1,o=0,s=e.length;o<s;)(n=e.charCodeAt(o++))<128?i=i>>>8^t[255&(i^n)]:n<2048?i=(i=i>>>8^t[255&(i^(192|n>>6&31))])>>>8^t[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^t[255&(i^(240|n>>8&7))])>>>8^t[255&(i^(128|n>>2&63))])>>>8^t[255&(i^(128|r>>6&15|3&n))])>>>8^t[255&(i^(128|63&r))]):i=(i=(i=i>>>8^t[255&(i^(224|n>>12&15))])>>>8^t[255&(i^(128|n>>6&63))])>>>8^t[255&(i^(128|63&n))];return-1^i}},"undefined"===typeof DO_NOT_EXPORT_CRC?n(t):n({})},698:(e,t,n)=>{var r=n(663);e.exports={create:function(e,t){if(e instanceof(t=t||(0,eval)("this")).ArrayBuffer){var i=n(917);return new r(new i(e,0,e.byteLength,!0,t))}var o=n(14);return new r(new o(e,0,e.length,!0))}}},14:e=>{function t(e,t,n,r){this.buffer=e,this.offset=t||0,n="number"===typeof n?n:e.length,this.endPosition=this.offset+n,this.setBigEndian(r)}t.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new t(e.buffer,n,e.endPosition-n,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,n){return n="number"===typeof n?n:this.endPosition-(this.offset+e),new t(this.buffer,this.offset+e,n,this.bigEndian)}},e.exports=t},384:e=>{function t(e){return parseInt(e,10)}var n=3600,r=60;function i(e,n){e=e.map(t),n=n.map(t);var r=e[0],i=e[1]-1,o=e[2],s=n[0],a=n[1],u=n[2];return Date.UTC(r,i,o,s,a,u,0)/1e3}function o(e){var o=e.substr(0,10).split("-"),s=e.substr(11,8).split(":"),a=e.substr(19,6).split(":").map(t),u=a[0]*n+a[1]*r,l=i(o,s);if("number"===typeof(l-=u)&&!isNaN(l))return l}function s(e){var t=e.split(" "),n=i(t[0].split(":"),t[1].split(":"));if("number"===typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:o,parseExifDate:function(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?o(e):t?s(e):void 0}}},917:e=>{function t(e,t,n,r,i,o){this.global=i,t=t||0,n=n||e.byteLength-t,this.arrayBuffer=e.slice(t,t+n),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(r),this.offset=0,this.parentOffset=(o||0)+t}t.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new t(e.arrayBuffer,n,e.arrayBuffer.byteLength-n,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,n){return n="number"===typeof n?n:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,n,!this.littleEndian,this.global,this.parentOffset)}},e.exports=t},298:e=>{e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},86:e=>{function t(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function n(e,n){var r,i,o=n.nextUInt16(),s=n.nextUInt16(),a=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(s),u=n.nextUInt32(),l=a*u;if(l>4&&(n=e.openWithOffset(n.nextUInt32())),2===s){var c=(r=n.nextString(u)).indexOf("\0");-1!==c&&(r=r.substr(0,c))}else if(7===s)r=n.nextBuffer(u);else if(0!==s)for(r=[],i=0;i<u;++i)r.push(t(s,n));return l<4&&n.skip(4-l),[o,r,s]}function r(e,t,r){var i,o,s=t.nextUInt16();for(o=0;o<s;++o)r((i=n(e,t))[0],i[1],i[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,i,o,s;try{n=function(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),n=e.nextUInt16();if(18761===n)e.setBigEndian(!1);else{if(19789!==n)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}(e)}catch(g){return!1}var a=n.openWithOffset(e.nextUInt32()),u=this.IFD0;r(n,a,(function(e,n,r){switch(e){case 34853:o=n[0];break;case 34665:i=n[0];break;default:t(u,e,n,r)}}));var l=a.nextUInt32();if(0!==l){var c=n.openWithOffset(l);r(n,c,t.bind(null,this.IFD1))}if(o){var h=n.openWithOffset(o);r(n,h,t.bind(null,this.GPSIFD))}if(i){var d=n.openWithOffset(i),f=this.InteropIFD;r(n,d,(function(e,n,r){40965===e?s=n[0]:t(f,e,n,r)}))}if(s){var p=n.openWithOffset(s);r(n,p,t.bind(null,this.InteropIFD))}return!0}}},569:e=>{e.exports={parseSections:function(e,t){var n,r;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==r;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");n=(r=e.nextUInt8())>=208&&r<=217||218===r?0:e.nextUInt16()-2,t(r,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var r={name:t};return"number"===typeof n&&(r.index=n),r}}},663:(e,t,n)=>{var r=n(569),i=n(86),o=n(979);function s(e,t,n,r,i,o,s){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=s}function a(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}s.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!==typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return r.parseSections(t,(function(t,n){"SOF"===r.getSectionName(t).name&&(e=r.getSizeFromSOFSection(n))})),e}},a.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,a,u,l,c,h,d,f,p=this.stream.mark(),g=p.openWithOffset(0),y=this.flags;return y.resolveTagNames&&(h=n(298)),y.resolveTagNames?(e={},d=function(t){return e[t.name]},f=function(t,n){e[t.name]=n}):(e=[],d=function(t){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return e.value},f=function(t,n){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return void(e.value=n)}),r.parseSections(g,(function(n,s){var d=s.offsetFrom(p);225===n?i.parseTags(s,(function(t,n,r,s){if(y.readBinaryTags||7!==s){if(513===n){if(a=r[0],y.hidePointers)return}else if(514===n){if(u=r[0],y.hidePointers)return}else if(259===n&&(l=r[0],y.hidePointers))return;if(y.returnTags)if(y.simplifyValues&&(r=o.simplifyValue(r,s)),y.resolveTagNames){var c=(t===i.GPSIFD?h.gps:h.exif)[n];c||(c=h.exif[n]),e.hasOwnProperty(c)||(e[c]=r)}else e.push({section:t,type:n,value:r})}}))&&(c=d):y.imageSize&&"SOF"===r.getSectionName(n).name&&(t=r.getSizeFromSOFSection(s))})),y.simplifyValues&&(o.castDegreeValues(d,f),o.castDateValues(d,f)),new s(p,e,t,a,u,l,c)}},e.exports=a},979:(e,t,n)=>{var r=n(86),i=n(384),o=[{section:r.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:r.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],s=[{section:r.SubIFD,type:306,name:"ModifyDate"},{section:r.SubIFD,type:36867,name:"DateTimeOriginal"},{section:r.SubIFD,type:36868,name:"CreateDate"},{section:r.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(e,t){o.forEach((function(n){var r=e(n);if(r){var i=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,o=(r[0]+r[1]/60+r[2]/3600)*i;t(n,o)}}))},castDateValues:function(e,t){s.forEach((function(n){var r=e(n);if(r){var o=i.parseExifDate(r);"undefined"!==typeof o&&t(n,o)}}))},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map((function(e){return 10===t||5===t?e[0]/e[1]:e}))).length&&(e=e[0]),e}}},654:(e,t,n)=>{var r=n(213);e.exports=function(e){var t=0;if("MM\0"!==e.toString("ascii",0,3)&&"II*"!==e.toString("ascii",0,3)&&(t=6,"Exif\0"!==e.toString("ascii",0,5)))throw new Error('Invalid EXIF data: buffer should start with "Exif", "MM" or "II".');var n=null;if(73===e[t]&&73===e[t+1])n=!1;else{if(77!==e[t]||77!==e[t+1])throw new Error("Invalid EXIF data: expected byte order marker.");n=!0}if(e.length<t+4||42!==h(e,t+2,n))throw new Error("Invalid EXIF data: expected 0x002A.");if(e.length<=t+8)throw new Error("Invalid EXIF data: Ends before ifdOffset");var i=d(e,t+4,n)+t;if(i<8)throw new Error("Invalid EXIF data: ifdOffset < 8");var s={bigEndian:n};if(s.Image=o(e,i,n,r.Image,t),e.length>=i+2){var a=h(e,i,n);e.length>=i+2+12*a+4&&0!==(i=d(e,i+2+12*a,n))&&(s.Thumbnail=o(e,i+t,n,r.Image,t))}return s.Image&&(c(s.Image.ExifTag)&&(s.Photo=o(e,s.Image.ExifTag+t,n,r.Photo,t)),c(s.Image.GPSTag)&&(s.GPSInfo=o(e,s.Image.GPSTag+t,n,r.GPSInfo,t))),s.Photo&&c(s.Photo.InteroperabilityTag)&&(s.Iop=o(e,s.Photo.InteroperabilityTag+t,n,r.Iop,t)),s};var i={DateTimeOriginal:!0,DateTimeDigitized:!0,DateTime:!0};function o(e,t,n,r,o){if(e.length<t+2)return null;var s=h(e,t,n);t+=2;for(var u={},c=0;c<s;c++){if(!(e.length>=t+2))return null;var d=h(e,t,n);t+=2;var f=r[d]||d,p=a(e,t,n,o);f in i&&(p=l(p)),u[f]=p,t+=10}return u}var s=[1,1,2,4,8,1,1,2,4,8];function a(e,t,n,r){if(e.length<t+7)return null;var i=h(e,t,n);if(!i||i>s.length)return null;var o,a=d(e,t+2,n),l=s[i-1];if(l*a<=4)o=t+6;else{if(!(e.length>=t+10))return null;o=d(e,t+6,n)+r}if(2===i){var c=e.slice(o,o+a);if(c.some((e=>e>>7>0)))return c;var f=c.toString("ascii");return"\0"===f[f.length-1]&&(f=f.slice(0,-1)),f}if(7===i)return e.slice(o,o+a);if(1===a)return u(e,o,n,i);for(var p=[],g=0;g<a&&o<e.length;g++)p.push(u(e,o,n,i)),o+=l;return p}function u(e,t,n,r){switch(r){case 1:return e.length<t+1?null:e[t];case 3:return e.length<t+2?null:h(e,t,n);case 4:return e.length<t+4?null:d(e,t,n);case 5:return e.length<t+8?null:d(e,t,n)/d(e,t+4,n);case 6:return e.length<t+1?null:e.readInt8(t);case 8:return e.length<t+2?null:function(e,t,n){return n?e.readInt16BE(t):e.readInt16LE(t)}(e,t,n);case 9:return e.length<t+4?null:f(e,t,n);case 10:return e.length<t+8?null:f(e,t,n)/f(e,t+4,n)}}function l(e){if("string"!==typeof e)return null;var t=e.match(/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/);return t?new Date(Date.UTC(t[1],t[2]-1,t[3],t[4],t[5],t[6],0)):null}function c(e){return"number"===typeof e&&Math.floor(e)===e&&e>0}function h(e,t,n){return n?e.readUInt16BE(t):e.readUInt16LE(t)}function d(e,t,n){return n?e.readUInt32BE(t):e.readUInt32LE(t)}function f(e,t,n){return n?e.readInt32BE(t):e.readInt32LE(t)}},213:(e,t)=>{t.Image={11:"ProcessingSoftware",254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMLPacket",18246:"Rating",18249:"RatingPercent",28722:"VignettingCorrParams",28725:"ChromaticAberrationCorrParams",28727:"DistortionCorrParams",32781:"ImageID",33421:"CFARepeatPatternDim",33422:"CFAPattern",33423:"BatteryLevel",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTCNAA",34377:"ImageResources",34665:"ExifTag",34675:"InterColorProfile",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSTag",34855:"ISOSpeedRatings",34856:"OECF",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",36867:"DateTimeOriginal",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectLocation",37397:"ExposureIndex",37398:"TIFFEPStandardID",37399:"SensingMethod",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",50341:"PrintImageMatching",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50933:"ExtraCameraProfiles",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51105:"CameraLabel",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",51177:"DepthFormat",51178:"DepthNear",51179:"DepthFar",51180:"DepthUnits",51181:"DepthMeasureType",51182:"EnhanceParams",52525:"ProfileGainTableMap",52526:"SemanticName",52528:"SemanticInstanceID",52529:"CalibrationIlluminant3",52530:"CameraCalibration3",52531:"ColorMatrix3",52532:"ForwardMatrix3",52533:"IlluminantData1",52534:"IlluminantData2",52535:"IlluminantData3",52536:"MaskSubArea",52537:"ProfileHueSatMapData3",52538:"ReductionMatrix3",52539:"RGBTables"},t.Photo={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37888:"Temperature",37889:"Humidity",37890:"Pressure",37891:"WaterDepth",37892:"Acceleration",37893:"CameraElevationAngle",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"InteroperabilityTag",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42080:"CompositeImage",42081:"SourceImageNumberOfCompositeImage",42082:"SourceExposureTimesOfCompositeImage",42240:"Gamma"},t.Iop={1:"InteroperabilityIndex",2:"InteroperabilityVersion",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageLength"},t.GPSInfo={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}},900:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+f]=255&s,f+=p,s/=256,l-=8);e[n+f-p]|=128*g}},319:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{LispCell:()=>a,LispEnvironment:()=>n,LispType:()=>r,default:()=>p,lispAtom:()=>h,parseTokens:()=>f,tokenize:()=>d});const n=function(){function e(e,t,n){if(this._procedures=new Map,this._variables=new Map,this._outer=e,t)for(var r=0;r<t.length;++r){var i=t[r];this._variables.set(i.val,n[r])}}return e.prototype.variables=function(){return this._variables},e.prototype.procedures=function(){return this._procedures},e.prototype.outerEnv=function(){return this._outer},e.prototype.setVar=function(e,t){this._variables.set(e,t)},e.prototype.setProc=function(e,t){if(o===i)return this.setVar(e,t);this._procedures.set(e,t)},e.prototype.findVar=function(e){if(e in this._variables)return this;if(this._outer)return this._outer.findVar(e);throw new Error("unbound symbol '"+e+"'")},e.prototype.getVar=function(e){return this._variables.get(e)},e.prototype.getProc=function(e){return o===i?this.getVar(e):this._procedures.get(e)},e.prototype.findProc=function(e){if(o===i)return this.findVar(e);if(this._procedures.get(e))return this;if(this._outer)return this._outer.findProc(e);throw new Error("unbound procedure '"+e)},e}();var r;!function(e){e[e.Symbol=0]="Symbol",e[e.Number=1]="Number",e[e.List=2]="List",e[e.Proc=3]="Proc",e[e.Lambda=4]="Lambda"}(r||(r={}));var i="scheme",o=i,s=function(){function e(e,t){this.newLined=!1,arguments.length>1?(this.type=e,this.val=t):arguments.length>0&&"function"==typeof arguments[0]?(this.type=r.Proc,this.val="",this.proc=e):arguments.length>0?(this.type=e,this.val=""):(this.type=r.Symbol,this.val=""),this.list=[],this._offset=NaN,this._len=NaN}return e.prototype.setReplace=function(e,t){this._offset=e,this._len=t},e.prototype.offset=function(){return this._offset},e.prototype.len=function(){return this._len},e.prototype.eval=function(e){if(this.type==r.Symbol)return e.findVar(this.val).getVar(this.val);if(this.type==r.Number)return this;if(0===this.list.length)return u;if(this.list[0].type==r.Symbol){if("quote"==this.list[0].val)return this.list[1];if("if"==this.list[0].val)return this.list[1].eval(e)===l?this.list.length<4?u:this.list[3].eval(e):this.list[2].eval(e);if(o===i){if("set!"===this.list[0].val){var t=e.findVar(this.list[1].val),s=this.list[2].eval(e);return t.setVar(this.list[1].val,s),s}if("define"===this.list[0].val)return s=this.list[2].eval(e),e.setVar(this.list[1].val,s),s;if("begin"==this.list[0].val){for(var a=1;a<this.list.length-1;++a)this.list[a].eval(e);return this.list[this.list.length-1].eval(e)}}else if("common_lisp"===o){if("setq"===this.list[0].val&&(t=e.findVar(this.list[1].val)).setVar(this.list[1].val,this.list[2].eval(e)),"defvar"===this.list[0].val)return e.findVar(this.list[1].val)||e.setVar(this.list[1].val,this.list[2].eval(e)),this.list[1];if("defun"===this.list[0].val)return e.setProc(this.list[1].val,this.list[2].eval(e)),this.list[1];if("progn"==this.list[0].val){for(a=1;a<this.list.length-1;++a)this.list[a].eval(e);return this.list[this.list.length-1].eval(e)}}if("lambda"==this.list[0].val)return this.type=r.Lambda,this.env=e,this}var c=e.findProc(this.list[0].val).getProc(this.list[0].val);if(!c)throw new Error("Proc must not be null");var h=[];for(a=1;a<this.list.length;++a)h.push(this.list[a].eval(e));if(c.type==r.Lambda)return c.list[2].eval(new n(c.env,c.list[1].list,h));if(c.type==r.Proc)return c.proc.apply(c,h);throw new Error("not a function\n")},e.prototype.toString=function(){if(this.type===r.List){for(var e=[],t=0;t<this.list.length;++t)e.push(this.list[t].toString());return"("+e.join(" ")+")"}return this.type==r.Lambda?"<Lambda>":this.type==r.Proc?"<Proc>":this.val},e}();const a=s;var u=new s(r.Symbol,"nil"),l=o===i?new s(r.Symbol,"#f"):u;function c(e){return!!e.match(/\d+/)}function h(e){return c(e.val[0])||"-"===e.val[0]&&e.val.length>1&&c(e.val[1])?new a(r.Number,e.val):new a(r.Symbol,e.val)}function d(e){var t=[];e=e.toString();for(var n=0;n<e.length;){var r=e.charAt(n);if(";"!==r)if(" "!==r)if("\n"!==r)if("("!==r&&")"!==r)if('"'!==r){for(var i=n,o=0;n<e.length&&" "!==r&&"\n"!==r&&"("!==r&&")"!==r;)++o,r=e.charAt(n++);--o,--n,t.push({val:e.substring(i,i+o),offset:i,len:o})}else{var s=++n,a=0;for(r=e.charAt(n);'"'!=r&&n<e.length;)++a,++n,r=e.charAt(n);t.push({val:e.substring(s,s+a),offset:s-1,len:a+1}),++n}else t.push({val:r,offset:n,len:1}),++n;else t.push({val:r,offset:n,len:1}),++n;else++n;else{for(;"\n"!==r&&n<e.length;)r=e.charAt(++n);++n}}return t}function f(e){for(var t=e.shift();"\n"==t.val;)t=e.shift();if("("===t.val){for(var n=t.offset,i=new a(r.List),o=!1;e.length>1&&")"!==e[0].val;)if("\n"!==e[0].val){var s=f(e);o&&(s.newLined=!0,o=!1),i.list.push(s)}else e.shift(),o=!0;var u=e.shift();return i.setReplace(n,u.offset+u.len-n),i}return(i=h(t)).setReplace(t.offset,t.len),i}const p=function(e){return f(d("("+e+")"))};return t})()},444:function(e,t,n){var r;r=e=>(()=>{var t={345:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{clamp:()=>n,default:()=>o,mix:()=>r});var n=function(e,t,n){return Math.min(n,Math.max(t,e))},r=function(e,t,n){return e+(t-e)*n},i=function(){function e(e,t,n,r){if(1===arguments.length)t=e,n=e,r=1;else if(3===arguments.length)r=1;else if(4!==arguments.length)throw new Error("Color must be given initial component values.");this._r=Math.min(1,Math.max(0,e)),this._g=Math.min(1,Math.max(0,t)),this._b=Math.min(1,Math.max(0,n)),this._a=Math.min(1,Math.max(0,r))}return e.prototype.r=function(){return this._r},e.prototype.g=function(){return this._g},e.prototype.b=function(){return this._b},e.prototype.a=function(){return this._a},e.prototype.setA=function(e){return this._a=Math.min(1,Math.max(0,e)),this},e.prototype.setR=function(e){return this._r=Math.min(1,Math.max(0,e)),this},e.prototype.setG=function(e){return this._g=Math.min(1,Math.max(0,e)),this},e.prototype.setB=function(e){return this._b=Math.min(1,Math.max(0,e)),this},e.prototype.multiply=function(t){return new e(this.r()*t.r(),this.g()*t.g(),this.b()*t.b(),this.a()*t.a())},e.prototype.premultiply=function(t){return new e(this.a()*this.r()+t.r()*(1-this.a()),this.a()*this.g()+t.g()*(1-this.a()),this.a()*this.b()+t.b()*(1-this.a()),1)},e.prototype.asRGB=function(){return"rgb("+Math.round(255*this._r)+", "+Math.round(255*this._g)+", "+Math.round(255*this._b)+")"},e.prototype.asRGBA=function(){return"rgba("+Math.round(255*this._r)+", "+Math.round(255*this._g)+", "+Math.round(255*this._b)+", "+this._a+")"},e.prototype.luminance=function(){return.648431*e.inverseSRGBCompanding(this.r())+.321152*e.inverseSRGBCompanding(this.g())+.155886*e.inverseSRGBCompanding(this.b())},e.prototype.toLCH=function(){var t,n,r,i,o=e.inverseSRGBCompanding(this.r()),s=e.inverseSRGBCompanding(this.g()),a=e.inverseSRGBCompanding(this.b());return r=[.96422,1,.82521],t=[116*(i=[o,s,a].map((function(e,t){return e/r[t]})).map((function(e){return e>.008856451679035631?Math.cbrt(e):(903.2962962962963*e+16)/116})))[1]-16,500*(i[0]-i[1]),200*(i[1]-i[2])],n=180*Math.atan2(t[2],t[1])/Math.PI,[t[0],Math.sqrt(Math.pow(t[1],2)+Math.pow(t[2],2)),n>=0?n:n+360]},e.prototype.interpolate=function(t,i){i=n(i,0,1);var o=this.toLCH(),s=o[0],a=o[1],u=o[2],l=t.toLCH(),c=l[0],h=l[1],d=l[2],f=r(s,c,i),p=r(a,h,i),g=r(u,d,i);return e.fromLCH(f,p,g,r(this.a(),t.a(),i))},e.prototype.clone=function(){return new e(this.r(),this.g(),this.b(),this.a())},e.prototype.equals=function(e){return this.r()===e.r()&&this.g()===e.g()&&this.b()===e.b()&&this.a()===e.a()},e.fromLCH=function(t,n,r,i){var o,s,a,u,l,c,h=(o=[(c=[t,n,r])[0],c[1]*Math.cos(c[2]*Math.PI/180),c[1]*Math.sin(c[2]*Math.PI/180)],s=24389/27,a=216/24389,u=[.96422,1,.82521],(l=[])[1]=(o[0]+16)/116,l[0]=o[1]/500+l[1],l[2]=l[1]-o[2]/200,[Math.pow(l[0],3)>a?Math.pow(l[0],3):(116*l[0]-16)/s,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/s,Math.pow(l[2],3)>a?Math.pow(l[2],3):(116*l[2]-16)/s].map((function(e,t){return e*u[t]}))),d=h[0],f=h[1],p=h[2];return new e(e.sRGBCompanding(d),e.sRGBCompanding(f),e.sRGBCompanding(p),i)},e.inverseSRGBCompanding=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},e.sRGBCompanding=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},e.fromRGB=function(t,n){1===arguments.length&&(n=255);var r=[];if(t.trim().substring(4,t.length-1).split(",").forEach((function(e){r.push(parseInt(e.trim()))})),r.length<3)throw new Error("Failed to parse color");return 3===r.length&&r.push(n),new e(r[0]/255,r[1]/255,r[2]/255,r[3]/255)},e.random=function(t,n){void 0===t&&(t=1),void 0===n&&(n=1);var r=1-(t=Math.min(Math.max(0,t),1));return new e(t*Math.random()+r/2,t*Math.random()+r/2,t*Math.random()+r/2,n)},e}();const o=i;return t})()},459:function(e,t,n){var r;r=e=>(()=>{var t={243:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t){this.set(e,t)}return e.prototype.canCall=function(){return null!=this._func},e.prototype.clear=function(){this.set(null,null)},e.prototype.set=function(e,t){this._func=e,this._funcThisArg=t},e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.canCall())return this._func.apply(this._funcThisArg,e)},e.prototype.apply=function(e){if(this.canCall())return this._func.apply(this._funcThisArg,e)},e}();const r=n;return t})()},462:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t,n,r){this._x=e,this._y=t,this._width=n,this._height=r}return e.prototype.isNaN=function(){return isNaN(this._x)||isNaN(this._y)||isNaN(this._width)||isNaN(this._height)},e.prototype.toNaN=function(){this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN},e.prototype.clear=function(){this.toNaN()},e.prototype.reset=function(){this.toNaN()},e.prototype.x=function(){return this._x},e.prototype.setX=function(e){this._x=e},e.prototype.y=function(){return this._y},e.prototype.setY=function(e){this._y=e},e.prototype.clone=function(t){return t?(this.copy(t),t):new e(this.x(),this.y(),this.width(),this.height())},e.prototype.copy=function(e){return e?(e.setX(this.x()),e.setY(this.y()),e.setWidth(this.width()),e.setHeight(this.height()),e):this.clone()},e.prototype.translate=function(e,t){this.setX(this.x()+e),this.setY(this.y()+t)},e.prototype.scale=function(e,t){arguments.length<2&&(t=e),this.setX(this.x()*e),this.setY(this.y()*t),this.setWidth(this.width()*e),this.setHeight(this.height()*t)},e.prototype.height=function(){return this._height},e.prototype.setHeight=function(e){this._height=e},e.prototype.width=function(){return this._width},e.prototype.w=function(){return this.width()},e.prototype.h=function(){return this.height()},e.prototype.setWidth=function(e){this._width=e},e.prototype.toString=function(){return"[Rect x="+this.x()+", y="+this.y()+", w="+this.width()+", h="+this.height()+"]"},e.prototype.vMin=function(){return this.y()-this.height()/2},e.prototype.vMax=function(){return this.y()+this.height()/2},e.prototype.hMin=function(){return this.x()-this.width()/2},e.prototype.hMax=function(){return this.x()+this.width()/2},e.prototype.include=function(e,t,n,r){if(this.isNaN())return this._x=e,this._y=t,this._width=n,void(this._height=r);var i=this._x,o=this._y,s=this._width,a=this._height,u=Math.min(i-s/2,e-n/2),l=Math.max(i+s/2,e+n/2),c=Math.min(o-a/2,t-r/2),h=l-u,d=Math.max(o+a/2,t+r/2)-c,f=u+h/2,p=c+d/2;this._x=f,this._y=p,this._width=h,this._height=d},e}();const r=n;return t})()},402:function(e,t,n){var r;e.exports=(r=n(561),(()=>{"use strict";var e={561:e=>{e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{n.r(i),n.d(i,{compileShader:()=>t,createProgram:()=>r,createProgramFromScripts:()=>s,createShaderFromScriptTag:()=>o});var e=n(561);function t(t,n,r,i){var o=t.createShader(r);if(t.shaderSource(o,n),t.compileShader(o),!(0,e.ignoreGLErrors)()&&!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Could not compile "+(r===t.FRAGMENT_SHADER?"fragment":"vertex")+" shader "+i+": "+t.getShaderInfoLog(o));return o}function r(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error("program filed to link:"+e.getProgramInfoLog(r));return r}function o(e,n,r){var i=document.getElementById(n);if(!i)throw new Error("*** Error: unknown script element: "+n);var o=i.text;if(!r)if("x-shader/x-vertex"==i.type)r=e.VERTEX_SHADER;else if("x-shader/x-fragment"==i.type)r=e.FRAGMENT_SHADER;else if(!r)throw new Error("*** Error: shader type not set");return t(e,o,r)}function s(e,t,n){return r(e,o(e,t),o(e,n))}})(),i})())},561:t=>{"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";r.r(i),r.d(i,{BasicGLProvider:()=>u,ProxyGLProvider:()=>d,WebGL2Provider:()=>h,compileProgram:()=>p});var e=r(561),t=r.n(e),n=r(462),o=r.n(n),s=r(243),a=r.n(s);const u=function(){function e(){this._shaders={},this._gl=null,this._contextChangedListener=new(a()),this._container=document.createElement("div"),this._explicitWidth=null,this._explicitHeight=null}return e.prototype.onContextChanged=function(e){if(e){var t=[];for(var n in this._shaders)Object.prototype.hasOwnProperty.call(this._shaders,n)&&t.push(n);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&delete this._shaders[t[r]]}this._contextChangedListener.call(e)},e.prototype.setOnContextChanged=function(e,t){this._contextChangedListener.set(e,t)},e.prototype.shaders=function(){return this._shaders},e.prototype.hasGL=function(){return!!this._gl},e.prototype.createGL=function(){return this.canvas().getContext("webgl")},e.prototype.gl=function(){if(this.hasGL())return this._gl;if(this._gl=this.createGL(),this._gl)return t()(this._gl,"WebGL creation"),this._gl;throw new Error("GL context is not supported")},e.prototype.hasCanvas=function(){return!!this._canvas},e.prototype.createCanvas=function(){var e=this,t=document.createElement("canvas");return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),e.onContextChanged(!0)}),!1),t.addEventListener("webglcontextrestored",(function(){e.onContextChanged(!1)}),!1),t.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),t.style.display="block",t},e.prototype.canvas=function(){return this.hasCanvas()||(this._canvas=this.createCanvas(),this.container().appendChild(this._canvas)),this._canvas},e.prototype.getSize=function(e){return e||(e=new(o())),e.setX(0),e.setY(0),e.setWidth(this.width()),e.setHeight(this.height()),e},e.prototype.resize=function(e,t){this.container().style.width="number"==typeof e?e+"px":e,1===arguments.length&&(t=e),this.container().style.height="number"==typeof t?t+"px":t},e.prototype.setExplicitSize=function(e,t){this._explicitWidth=e,this._explicitHeight=t,this.resize(e,t)},e.prototype.getWidth=function(){return this._explicitWidth||this.container().clientWidth},e.prototype.width=function(){return this.getWidth()},e.prototype.getHeight=function(){return this._explicitHeight||this.container().clientHeight},e.prototype.height=function(){return this.getHeight()},e.prototype.container=function(){return this._container},e.prototype.setBackground=function(e){this.container().style.backgroundColor=e.asRGBA(),this.hasGL()&&!this.gl().isContextLost()&&this.gl().clearColor(e.r(),e.g(),e.b(),e.a())},e.prototype.canProject=function(){var e=this.getWidth(),t=this.getHeight();return 0!=e&&0!=t},e.prototype.render=function(){if(this.hasGL()&&this.gl().isContextLost())return!0;if(!this.canProject())throw new Error("Refusing to render to an unprojectable window. Use canProject() to handle, and parent this window's container to fix.");if(this.hasCanvas()){var e=this.width(),t=this.height();this.canvas().width==e&&this.canvas().height==t||(this.canvas().width=e,this.canvas().height=t)}return!1},e}();var l,c=(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},l(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.createGL=function(){return this.canvas().getContext("webgl2",{antialias:!0})},t}(u),d=function(){function e(e){this._glProvider=e}return e.prototype.setOnContextChanged=function(e,t){this.glProvider().setOnContextChanged(e,t)},e.prototype.glProvider=function(){return this._glProvider},e.prototype.width=function(){return this.glProvider().width()},e.prototype.canProject=function(){return this.glProvider().canProject()},e.prototype.render=function(){return this.glProvider().render()},e.prototype.height=function(){return this.glProvider().height()},e.prototype.shaders=function(){return this.glProvider().shaders()},e.prototype.container=function(){return this.glProvider().container()},e.prototype.hasCanvas=function(){return this.glProvider().hasCanvas()},e.prototype.canvas=function(){return this.glProvider().canvas()},e.prototype.hasGL=function(){return this.glProvider().hasGL()},e.prototype.gl=function(){return this.glProvider().gl()},e}();var f=r(402);function p(n,r,i,o){var s=n.gl(),a=n.shaders();if(!s.isContextLost()){if(a[r])return a[r];var u=s.createProgram();t()(s,"compileProgram.createProgram(shaderName='",r,")");var l=(0,f.compileShader)(s,i,s.VERTEX_SHADER,r);t()(s,"compileProgram.compile vertex shader(shaderName='",r,")"),s.attachShader(u,l),t()(s,"compileProgram.attach vertex shader(shaderName='",r,")");var c=(0,f.compileShader)(s,o,s.FRAGMENT_SHADER,r);if(t()(s,"compileProgram.compile fragment shader(shaderName='",r,")"),s.attachShader(u,c),t()(s,"compileProgram.attach fragment shader(shaderName='",r,")"),s.linkProgram(u),!(0,e.ignoreGLErrors)()){if(!s.getProgramParameter(u,s.LINK_STATUS))throw new Error("'"+r+"' shader program failed to link:\n"+s.getProgramInfoLog(u));var h=s.getError();if(h!=s.NO_ERROR&&h!=s.CONTEXT_LOST_WEBGL)throw new Error("'"+r+"' shader program failed to link: "+h)}return a[r]=u,u}}})(),i})(),e.exports=r(n(561))},462:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t,n,r){this._x=e,this._y=t,this._width=n,this._height=r}return e.prototype.isNaN=function(){return isNaN(this._x)||isNaN(this._y)||isNaN(this._width)||isNaN(this._height)},e.prototype.toNaN=function(){this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN},e.prototype.clear=function(){this.toNaN()},e.prototype.reset=function(){this.toNaN()},e.prototype.x=function(){return this._x},e.prototype.setX=function(e){this._x=e},e.prototype.y=function(){return this._y},e.prototype.setY=function(e){this._y=e},e.prototype.clone=function(t){return t?(this.copy(t),t):new e(this.x(),this.y(),this.width(),this.height())},e.prototype.copy=function(e){return e?(e.setX(this.x()),e.setY(this.y()),e.setWidth(this.width()),e.setHeight(this.height()),e):this.clone()},e.prototype.translate=function(e,t){this.setX(this.x()+e),this.setY(this.y()+t)},e.prototype.scale=function(e,t){arguments.length<2&&(t=e),this.setX(this.x()*e),this.setY(this.y()*t),this.setWidth(this.width()*e),this.setHeight(this.height()*t)},e.prototype.height=function(){return this._height},e.prototype.setHeight=function(e){this._height=e},e.prototype.width=function(){return this._width},e.prototype.w=function(){return this.width()},e.prototype.h=function(){return this.height()},e.prototype.setWidth=function(e){this._width=e},e.prototype.toString=function(){return"[Rect x="+this.x()+", y="+this.y()+", w="+this.width()+", h="+this.height()+"]"},e.prototype.vMin=function(){return this.y()-this.height()/2},e.prototype.vMax=function(){return this.y()+this.height()/2},e.prototype.hMin=function(){return this.x()-this.width()/2},e.prototype.hMax=function(){return this.x()+this.width()/2},e.prototype.include=function(e,t,n,r){if(this.isNaN())return this._x=e,this._y=t,this._width=n,void(this._height=r);var i=this._x,o=this._y,s=this._width,a=this._height,u=Math.min(i-s/2,e-n/2),l=Math.max(i+s/2,e+n/2),c=Math.min(o-a/2,t-r/2),h=l-u,d=Math.max(o+a/2,t+r/2)-c,f=u+h/2,p=c+d/2;this._x=f,this._y=p,this._width=h,this._height=d},e}();const r=n;return t})()},561:t=>{"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";var e;function t(t){switch(t){case e.CURLY:return"CURLY";case e.ROUNDED:return"ROUNDED";case e.PARENTHESIS:return"PARENTHESIS";case e.ANGLE:return"ANGLE";case e.SQUARE:return"SQUARE";case e.SIMPLE:return"SIMPLE"}}function n(t){switch(t){case"ROUNDED":return e.ROUNDED;case"CURLY":return e.CURLY;case"PARENTHESIS":return e.PARENTHESIS;case"ANGLE":return e.ANGLE;case"SQUARE":return e.SQUARE;case"SIMPLE":return e.SIMPLE}}r.r(i),r.d(i,{AbstractBlockPainter:()=>c,BlockType:()=>o,CanvasBlockPainter:()=>y,WebGLBlockPainter:()=>p,nameBlockType:()=>t,readBlockType:()=>n}),function(e){e[e.SIMPLE=0]="SIMPLE",e[e.ROUNDED=1]="ROUNDED",e[e.SQUARE=2]="SQUARE",e[e.ANGLE=3]="ANGLE",e[e.PARENTHESIS=4]="PARENTHESIS",e[e.CURLY=5]="CURLY"}(e||(e={}));const o=e;var s=r(345),a=r.n(s),u=r(462),l=r.n(u);const c=function(){function e(e){void 0===e&&(e=o.ROUNDED),this._backgroundColor=new(a())(1,1,1,.15),this._borderColor=new(a())(1,1,1,1),this._bounds=new(l())(NaN,NaN,NaN,NaN),this._blockType=e,this._maxSize=0,this._numAllocated=0,this._numDrawn=0}return e.prototype.initBuffer=function(e){this._numAllocated=e,this._bounds.toNaN(),this._maxSize=0,this._numDrawn=0},e.prototype.hasBuffer=function(){return this._numAllocated>0},e.prototype.bounds=function(){return this._bounds},e.prototype.includeBounds=function(e,t,n,r){this._bounds.include(e,t,n,r)},e.prototype.borderColor=function(){return this._borderColor},e.prototype.blockType=function(){return this._blockType},e.prototype.setBlockType=function(e){this._blockType!==e&&(this._blockType=e)},e.prototype.setBorderColor=function(e){this._borderColor=e},e.prototype.backgroundColor=function(){return this._backgroundColor},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.clear=function(){this.initBuffer(0)},e.prototype.usingSimple=function(e){return void 0===e&&(e=1),this.blockType()===o.SIMPLE||this._maxSize*e<5},e.prototype.drawBlock=function(e,t,n,r,i,o){if("number"!=typeof e||isNaN(e))throw new Error("cx must be a number, but was "+e);if("number"!=typeof t||isNaN(t))throw new Error("cy must be a number, but was "+t);if("number"!=typeof n||isNaN(n))throw new Error("width must be a number, but was "+n);if("number"!=typeof r||isNaN(r))throw new Error("height must be a number, but was "+r);if("number"!=typeof i||isNaN(i))throw new Error("borderRoundedness must be a number, but was "+i);if("number"!=typeof o||isNaN(o))throw new Error("borderThickness must be a number, but was "+o);if(!this.hasBuffer())throw new Error("BlockPainter.initBuffer(numBlocks) must be called first.");if(this._numDrawn>=this._numAllocated)throw new Error("BlockPainter is full and cannot draw any more blocks.");this.includeBounds(e,t,n,r),this._maxSize=Math.max(this._maxSize,Math.max(n,r)),this._numDrawn++},e}();var h,d=r(459),f=(h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},h(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const p=function(e){function n(t,n){void 0===n&&(n=o.ROUNDED);var r=e.call(this,n)||this;return r._glProvider=t,r._blockBuffer=null,r._blockBufferNumVertices=null,r._blockBufferVertexIndex=0,r._blockProgram=null,r._blockProgramSimple=null,r._stride=60,r._vertexBuffer=new Float32Array(r._stride/4),r._dataBufferVertexIndex=0,r._dataBufferNumVertices=6,r._dataBuffer=new Float32Array(r._dataBufferNumVertices*r._stride/4),r}return f(n,e),n.prototype.gl=function(){return this.glProvider().gl()},n.prototype.glProvider=function(){return this._glProvider},n.prototype.setBlockType=function(t){this.blockType()!==t&&(this._blockProgram=null,e.prototype.setBlockType.call(this,t))},n.prototype.initBuffer=function(t){if(e.prototype.initBuffer.call(this,t),this._blockBufferNumVertices/6===t)return this._blockBufferVertexIndex=0,void(this._dataBufferVertexIndex=0);var n=this.gl();this._blockBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this._blockBuffer),n.bufferData(n.ARRAY_BUFFER,6*this._stride*t,n.STATIC_DRAW),this._blockBufferNumVertices=6*t},n.prototype.clear=function(){var t=this.gl();this._blockBuffer&&!t.isContextLost()&&t.deleteBuffer(this._blockBuffer),this._blockBuffer=null,e.prototype.clear.call(this),this._blockBufferNumVertices=null,this._dataBufferVertexIndex=0,this._blockBufferVertexIndex=0},n.prototype.writeVertex=function(){var e=this._dataBufferVertexIndex++*this._stride/4;this._dataBuffer.set(this._vertexBuffer,e),this._dataBufferVertexIndex>=this._dataBufferNumVertices&&this.flush()},n.prototype.flush=function(){if(0!==this._dataBufferVertexIndex){var e=this.gl(),t=this._stride;if(e.bindBuffer(e.ARRAY_BUFFER,this._blockBuffer),this._dataBufferVertexIndex+this._blockBufferVertexIndex>this._blockBufferNumVertices)throw new Error("GL buffer of "+this._blockBufferNumVertices+" vertices is full; cannot flush all "+this._dataBufferVertexIndex+" vertices because the GL buffer already has "+this._blockBufferVertexIndex+" vertices.");this._dataBufferVertexIndex>=this._dataBufferNumVertices?e.bufferSubData(e.ARRAY_BUFFER,this._blockBufferVertexIndex*t,this._dataBuffer):e.bufferSubData(e.ARRAY_BUFFER,this._blockBufferVertexIndex*t,this._dataBuffer.slice(0,this._dataBufferVertexIndex*t/4)),this._blockBufferVertexIndex+=this._dataBufferVertexIndex,this._dataBufferVertexIndex=0}},n.prototype.drawBlock=function(t,n,r,i,o,s){e.prototype.drawBlock.call(this,t,n,r,i,o,s);var a=this._vertexBuffer,u=this.backgroundColor();a[4]=u.r(),a[5]=u.g(),a[6]=u.b(),a[7]=u.a();var l=this.borderColor();a[8]=l.r(),a[9]=l.g(),a[10]=l.b(),a[11]=l.a(),i<r?(a[12]=o/i,a[13]=s/i):(a[12]=o/r,a[13]=s/r),a[14]=i/r,a[0]=t-r/2,a[1]=n-i/2,a[2]=0,a[3]=0,this.writeVertex(),a[0]=t+r/2,a[1]=n-i/2,a[2]=1,a[3]=0,this.writeVertex(),a[0]=t+r/2,a[1]=n+i/2,a[2]=1,a[3]=1,this.writeVertex(),a[0]=t-r/2,a[1]=n-i/2,a[2]=0,a[3]=0,this.writeVertex(),a[0]=t+r/2,a[1]=n+i/2,a[2]=1,a[3]=1,this.writeVertex(),a[0]=t-r/2,a[1]=n+i/2,a[2]=0,a[3]=1,this.writeVertex()},n.prototype.render=function(e,n){if(this.flush(),0!==this._blockBufferVertexIndex){var r=this.gl(),i=this.usingSimple(n);if(i)null===this._blockProgramSimple&&(this._blockProgramSimple=(0,d.compileProgram)(this.glProvider(),"BlockPainterSimple","uniform mat3 u_world;\n\nattribute vec2 a_position;\nattribute vec4 a_color;\n\nvarying highp vec4 contentColor;\n\nvoid main() {\n    gl_Position = vec4((u_world * vec3(a_position, 1.0)).xy, 0.0, 1.0);\n    contentColor = a_color;\n}\n","#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying highp vec4 contentColor;\n\nvoid main() {\n    gl_FragColor = contentColor;\n}\n"),this.simpleUWorld=r.getUniformLocation(this._blockProgramSimple,"u_world"),this.simpleAPosition=r.getAttribLocation(this._blockProgramSimple,"a_position"),this.simpleAColor=r.getAttribLocation(this._blockProgramSimple,"a_color")),r.useProgram(this._blockProgramSimple),r.uniformMatrix3fv(this.simpleUWorld,!1,e),r.enableVertexAttribArray(this.simpleAPosition),r.enableVertexAttribArray(this.simpleAColor);else{if(null===this._blockProgram){var s=function(e,t){var n,r=null!=e.getExtension("OES_standard_derivatives");switch(t){case o.ROUNDED:n="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nvoid main() {\n    highp vec2 st = texCoord;\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    // Calculate the distance function.\n    highp float d = length(max(abs(st) - (1.0 - borderRoundedness), 0.0));\n\n    // Default antialias implementation.\n    highp float inBorder = 1.0 - smoothstep(\n        borderRoundedness,\n        borderRoundedness,\n        d\n    );\n    highp float inContent = 0.0;\n    if (borderRoundedness >= borderThickness) {\n        inContent = 1.0 - smoothstep(\n        borderRoundedness - borderThickness,\n        borderRoundedness - borderThickness,\n        d);\n    } else if (abs(st.x) < 1.0 - borderThickness && abs(st.y) < 1.0 - borderThickness) {\n        inContent = 1.0;\n    }\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = vec4(borderColor.rgb, borderColor.a * inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inBorder * inContent);\n}\n",r&&(n="#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nhighp float aastep(float threshold, float value)\n{\n    highp float afwidth = 0.9 * length(vec2(dFdx(value), dFdy(value)));\n    return smoothstep(threshold - afwidth, threshold + afwidth, value);\n}\n\nvoid main() {\n    highp vec2 st = texCoord;\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    // Calculate the distance function.\n    highp float d = length(max(abs(st) - (1.0 - borderRoundedness), 0.0));\n\n    // Using 'OpenGL insights' antialias implementation\n    highp float inBorder = 1.0 - aastep(borderRoundedness, d);\n\n    highp float inContent = 0.0;\n    if (borderRoundedness >= borderThickness) {\n        inContent = 1.0 - aastep(borderRoundedness - borderThickness, d);\n    } else if (abs(st.x) < 1.0 - borderThickness && abs(st.y) < 1.0 - borderThickness) {\n        inContent = 1.0;\n    }\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = vec4(borderColor.rgb, borderColor.a * inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inBorder * inContent);\n}\n");break;case o.SQUARE:n="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nvoid main() {\n    highp vec2 st = texCoord;\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n    highp float cornerFunc = -st.x+(1.0 - borderRoundedness*borderThickness)*2.0;\n    highp float inCorner = step(0.0, cornerFunc - st.y);\n\n    if(st.y < 1.0 - borderThickness && st.x < 1.0 - borderThickness) {\n        gl_FragColor = contentColor;\n    } else {\n        gl_FragColor = borderColor;\n    }\n    gl_FragColor = mix(vec4(0.0, 0.0, 0.0, 0.0), gl_FragColor, step(1.0, inCorner));\n}\n";break;case o.ANGLE:n="#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\n// borderThickness is in [0, 1] terms.\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nvoid main() {\n    highp vec2 st = texCoord;\n\n    // Move origin to (0, 0) with size=2\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    // Flatten to positive quadrant.\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n\n    highp float minRoundness = 0.01;\n    highp float roundness = max(minRoundness, borderRoundedness);\n\n    // Calculate the Y position of the border at the given X\n    highp float borderAngle = 1.0/roundness;\n    highp float borderFunc = -borderAngle*st.x+1.0/roundness;\n\n    // The given position is within the angle if it is under borderFunc.\n    highp float inBorder = step(0.0, borderFunc - st.y);\n\n    // Determine the content's border by adjusting the borderFunc value.\n    highp float contentFunc = -borderAngle*(st.x+borderThickness)+1.0/roundness;\n\n    // The given position is within the angle's content if it is under contentFunc.\n    highp float inContent = step(0.0, contentFunc - st.y);\n\n    // Calculate whether the given position is under the latitude.\n    highp float latitudeFunc = 1.0 - borderThickness;\n    highp float inLatitude = step(0.0, latitudeFunc - st.y);\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = mix(gl_FragColor, borderColor, inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inLatitude*inContent);\n}\n",r&&(n="#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\n// borderThickness is in [0, 1] terms.\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nhighp float aastep(float threshold, float value)\n{\n    highp float afwidth = 0.9 * length(vec2(dFdx(value), dFdy(value)));\n    return smoothstep(threshold - afwidth, threshold + afwidth, value);\n}\n\nvoid main() {\n    highp vec2 st = texCoord;\n\n    // Move origin to (0, 0) with size=2\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    // Flatten to positive quadrant.\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n\n    highp float minRoundness = 0.01;\n    highp float roundness = max(minRoundness, borderRoundedness);\n\n    // Calculate the Y position of the border at the given X\n    highp float borderAngle = 1.0/roundness;\n    highp float borderFunc = -borderAngle*st.x+1.0/roundness;\n\n    // The given position is within the angle if it is under borderFunc.\n    highp float inBorder = aastep(0.0, borderFunc - st.y);\n\n    // Determine the content's border by adjusting the borderFunc value.\n    highp float contentFunc = -borderAngle*(st.x+borderThickness)+1.0/roundness;\n\n    // The given position is within the angle's content if it is under contentFunc.\n    highp float inContent = aastep(0.0, contentFunc - st.y);\n\n    // Calculate whether the given position is under the latitude.\n    highp float latitudeFunc = 1.0 - borderThickness;\n    highp float inLatitude = step(0.0, latitudeFunc - st.y);\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = mix(gl_FragColor, borderColor, inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inLatitude*inContent);\n}\n\n");break;case o.PARENTHESIS:n="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nhighp float calculate(float x, float y) {\n    highp float minRoundness = 0.01;\n    highp float roundness = max(minRoundness, borderRoundedness);\n    return length(vec2(x, y*roundness));\n}\n\nvoid main() {\n    highp vec2 st = vec2(texCoord);\n\n    // Move origin to (0, 0) with size=2\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n\n    // Flatten to positive quadrant.\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n\n    highp float borderFunc = calculate(st.x, st.y);\n\n    // The given position is within the angle if it is under borderFunc.\n    highp float inBorder = 1.0 - step(1.0, borderFunc);\n\n    // Determine the content's border by adjusting the borderFunc value.\n    highp float contentFunc = calculate(st.x+borderThickness, st.y);\n\n    // The given position is within the angle's content if it is under contentFunc.\n    highp float inContent = 1.0 - step(1.0, contentFunc);\n\n    // Calculate whether the given position is under the latitude.\n    highp float latitudeFunc = 1.0 - borderThickness;\n    highp float inLatitude = 0.0;\n    if (latitudeFunc > abs(2.0 * texCoord.y - 1.0)) {\n        inLatitude = 1.0;\n    }\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = mix(gl_FragColor, borderColor, inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inBorder*inLatitude*inContent);\n}\n";break;case o.CURLY:r&&(n="#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\n// borderThickness is in [0, 1] terms.\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nvoid main() {\n    // Adjust for the aspect ratio.\n    highp vec2 st = texCoord;\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n\n    highp float inBorder = step(st.y, smoothstep(0.0, borderRoundedness, 1.0 - st.x));\n    highp float inContent = step(1.0, step(st.y, (1.0-borderThickness)*smoothstep(0.0, borderRoundedness, 1.0 - (st.x + borderThickness))));\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = vec4(borderColor.rgb, borderColor.a * inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inBorder * inContent);\n}\n"),n="#extension GL_OES_standard_derivatives : enable\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n// Derived from https://thebookofshaders.com/07/\nvarying highp vec4 contentColor;\nvarying highp vec4 borderColor;\nvarying highp float borderRoundedness;\nvarying highp vec2 texCoord;\n// borderThickness is in [0, 1] terms.\nvarying highp float borderThickness;\nvarying highp float aspectRatio;\n\nvoid main() {\n    // Adjust for the aspect ratio.\n    highp vec2 st = texCoord;\n    st = st * 2.0 - 1.0;\n\n    // Adjust for the aspect ratio.\n    st.x = mix(st.x, pow(abs(st.x), 1.0/aspectRatio), step(aspectRatio, 1.0));\n    st.y = mix(st.y, pow(abs(st.y), aspectRatio), 1.0 - step(aspectRatio, 1.0));\n    st.x = abs(st.x);\n    st.y = abs(st.y);\n\n    highp float t = borderRoundedness;\n    highp float inBorder = step(st.y, smoothstep(0.0, t, 1.0 - st.x));\n    t = borderRoundedness - borderThickness;\n    highp float inContent = step(1.0, step(st.y, (1.0-borderThickness)*smoothstep(0.0, borderRoundedness, 1.0 - (st.x + borderThickness))));\n\n    // Map the two calculated indicators to their colors.\n    gl_FragColor = vec4(borderColor.rgb, borderColor.a * inBorder);\n    gl_FragColor = mix(gl_FragColor, contentColor, inBorder * inContent);\n}\n";break;default:throw new Error("Unsupported block type: "+t)}return n}(r,this.blockType());this._blockProgram=(0,d.compileProgram)(this.glProvider(),"BlockPainter-"+t(this.blockType()),"uniform mat3 u_world;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nattribute vec4 a_borderColor;\nattribute highp float a_borderRoundedness;\nattribute highp float a_borderThickness;\nattribute highp float a_aspectRatio;\n\nvarying highp vec2 texCoord;\nvarying highp float borderThickness;\nvarying highp float borderRoundedness;\nvarying highp vec4 borderColor;\nvarying highp vec4 contentColor;\nvarying highp float aspectRatio;\n\nvoid main() {\n    gl_Position = vec4((u_world * vec3(a_position, 1.0)).xy, 0.0, 1.0);\n    contentColor = a_color;\n    borderColor = a_borderColor;\n    borderRoundedness = max(0.001, a_borderRoundedness);\n    texCoord = a_texCoord;\n    borderThickness = a_borderThickness;\n    aspectRatio = a_aspectRatio;\n}\n",s),this.uWorld=r.getUniformLocation(this._blockProgram,"u_world"),this.aPosition=r.getAttribLocation(this._blockProgram,"a_position"),this.aTexCoord=r.getAttribLocation(this._blockProgram,"a_texCoord"),this.aColor=r.getAttribLocation(this._blockProgram,"a_color"),this.aBorderColor=r.getAttribLocation(this._blockProgram,"a_borderColor"),this.aBorderRoundedness=r.getAttribLocation(this._blockProgram,"a_borderRoundedness"),this.aBorderThickness=r.getAttribLocation(this._blockProgram,"a_borderThickness"),this.aAspectRatio=r.getAttribLocation(this._blockProgram,"a_aspectRatio")}r.useProgram(this._blockProgram),r.uniformMatrix3fv(this.uWorld,!1,e),r.enableVertexAttribArray(this.aPosition),r.enableVertexAttribArray(this.aTexCoord),r.enableVertexAttribArray(this.aColor),r.enableVertexAttribArray(this.aBorderColor),r.enableVertexAttribArray(this.aBorderRoundedness),r.enableVertexAttribArray(this.aBorderThickness),r.enableVertexAttribArray(this.aAspectRatio)}var a=this._stride;if(!this._blockBuffer)throw new Error("No block buffer to render; BlockPainter.initBuffer(numBlocks) must be called first.");r.bindBuffer(r.ARRAY_BUFFER,this._blockBuffer),i?(r.vertexAttribPointer(this.simpleAPosition,2,r.FLOAT,!1,a,0),r.vertexAttribPointer(this.simpleAColor,4,r.FLOAT,!1,a,16)):(r.vertexAttribPointer(this.aPosition,2,r.FLOAT,!1,a,0),r.vertexAttribPointer(this.aTexCoord,2,r.FLOAT,!1,a,8),r.vertexAttribPointer(this.aColor,4,r.FLOAT,!1,a,16),r.vertexAttribPointer(this.aBorderColor,4,r.FLOAT,!1,a,32),r.vertexAttribPointer(this.aBorderRoundedness,1,r.FLOAT,!1,a,48),r.vertexAttribPointer(this.aBorderThickness,1,r.FLOAT,!1,a,52),r.vertexAttribPointer(this.aAspectRatio,1,r.FLOAT,!1,a,56)),r.drawArrays(r.TRIANGLES,0,this._blockBufferVertexIndex),i?(r.disableVertexAttribArray(this.simpleAPosition),r.disableVertexAttribArray(this.simpleAColor)):(r.disableVertexAttribArray(this.aPosition),r.disableVertexAttribArray(this.aTexCoord),r.disableVertexAttribArray(this.aColor),r.disableVertexAttribArray(this.aBorderColor),r.disableVertexAttribArray(this.aBorderRoundedness),r.disableVertexAttribArray(this.aBorderThickness),r.disableVertexAttribArray(this.aAspectRatio))}},n}(c);var g=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y=function(e){function t(t,n){void 0===n&&(n=o.ROUNDED);var r=e.call(this,n)||this;return r._ctx=t,r._blocks=[],r}return g(t,e),t.prototype.clear=function(){e.prototype.clear.call(this),this._blocks=[]},t.prototype.initBuffer=function(t){e.prototype.initBuffer.call(this,t)},t.prototype.ctx=function(){return this._ctx},t.prototype.drawBlock=function(t,n,r,i,o,s,a){void 0===a&&(a=null),e.prototype.drawBlock.call(this,t,n,r,i,o,s),this._blocks.push({cx:t,cy:n,width:r,height:i,borderRoundness:o/2,borderThickness:s/2,blockType:this.blockType(),bgColor:this.backgroundColor(),borderColor:this.borderColor(),dashed:a})},t.prototype.strokeRoundedRect=function(e,t,n,r,i){var o=this.ctx();n<2*i&&(i=n/2),r<2*i&&(i=r/2),o.beginPath(),o.moveTo(e+i,t),o.arcTo(e+n,t,e+n,t+r,i),o.arcTo(e+n,t+r,e,t+r,i),o.arcTo(e,t+r,e,t,i),o.arcTo(e,t,e+n,t,i),o.closePath()},t.prototype.render=function(e,t){var n=this;void 0===t&&(t=1);var r=this.ctx();this._blocks.forEach((function(e){if(n.usingSimple(t)){r.fillStyle=e.bgColor.asRGBA();var i=e.cx,o=e.cy,s=e.width,a=e.height;r.fillRect(i-s/2,o-a/2,s,a)}else{i=e.cx,o=e.cy,s=e.width,a=e.height;var u=e.bgColor,l=e.borderColor,c=e.borderRoundness,h=e.borderThickness;r.fillStyle=u.asRGBA(),e.dashed?r.setLineDash(e.dashed):r.setLineDash([]),n.strokeRoundedRect(i+h/2-s/2,o+h/2-a/2,s-h,a-h,c),r.fill(),h>0&&(r.strokeStyle=l.asRGBA(),r.lineWidth=h,n.strokeRoundedRect(i+h/2-s/2,o+h/2-a/2,s-h,a-h,c),r.stroke())}}))},t}(c)})(),i})(),e.exports=r(n(717))},505:function(e){var t;t=()=>(()=>{var e={255:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t,n,r){return[e-n/2,t-r/2,e+n/2,t-r/2,e+n/2,t+r/2,e-n/2,t-r/2,e+n/2,t+r/2,e-n/2,t+r/2]}function r(e,t,n){return[[-e,t,n],[e,t,n],[e,t,-n],[-e,t,-n],[e,-t,n],[-e,-t,n],[-e,-t,-n],[e,-t,-n],[e,t,n],[e,-t,n],[e,-t,-n],[e,t,-n],[-e,-t,n],[-e,t,n],[-e,t,-n],[-e,-t,-n],[e,t,n],[-e,t,n],[-e,-t,n],[e,-t,n],[e,-t,-n],[-e,-t,-n],[-e,t,-n],[e,t,-n]]}function i(){return[0,0,1,0,1,1,0,0,1,1,0,1]}function o(){var e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function s(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("At least two matrices must be provided.");if(1===e.length)return e[0];for(var n=s(e[0]),r=1;r<e.length;++r){var i=n,o=e[r];n=[i[0]*o[0]+i[1]*o[3]+i[2]*o[6],i[0]*o[1]+i[1]*o[4]+i[2]*o[7],i[0]*o[2]+i[1]*o[5]+i[2]*o[8],i[3]*o[0]+i[4]*o[3]+i[5]*o[6],i[3]*o[1]+i[4]*o[4]+i[5]*o[7],i[3]*o[2]+i[4]*o[5]+i[5]*o[8],i[6]*o[0]+i[7]*o[3]+i[8]*o[6],i[6]*o[1]+i[7]*o[4]+i[8]*o[7],i[6]*o[2]+i[7]*o[5]+i[8]*o[8]]}return n}function u(e,t,n){return p(e,t[0]*n[0]+t[1]*n[3]+t[2]*n[6],t[0]*n[1]+t[1]*n[4]+t[2]*n[7],t[0]*n[2]+t[1]*n[5]+t[2]*n[8],t[3]*n[0]+t[4]*n[3]+t[5]*n[6],t[3]*n[1]+t[4]*n[4]+t[5]*n[7],t[3]*n[2]+t[4]*n[5]+t[5]*n[8],t[6]*n[0]+t[7]*n[3]+t[8]*n[6],t[6]*n[1]+t[7]*n[4]+t[8]*n[7],t[6]*n[2]+t[7]*n[5]+t[8]*n[8])}function l(e,t,n){return[e[0]*t+e[1]*n+e[2],e[3]*t+e[4]*n+e[5]]}function c(e,t){return h(o(),e,t)}function h(e,t,n){return p(e,1,0,0,0,1,0,t,n,1)}function d(e){var t=Math.cos(e),n=Math.sin(e);return[t,-n,0,n,t,0,0,0,1]}function f(e,t){return 1===arguments.length&&(t=e),g(o(),e,t)}function p(e,t,n,r,i,o,s,a,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=l,e}function g(e,t,n){return 2===arguments.length&&(n=t),p(e,t,0,0,0,n,0,0,0,1)}function y(e){var t=function(t,n){return e[3*n+t]},n=1/(t(0,0)*(t(1,1)*t(2,2)-t(2,1)*t(1,2))-t(0,1)*(t(1,0)*t(2,2)-t(1,2)*t(2,0))+t(0,2)*(t(1,0)*t(2,1)-t(1,1)*t(2,0)));return[(t(1,1)*t(2,2)-t(2,1)*t(1,2))*n,(t(0,2)*t(2,1)-t(0,1)*t(2,2))*n,(t(0,1)*t(1,2)-t(0,2)*t(1,1))*n,(t(1,2)*t(2,0)-t(1,0)*t(2,2))*n,(t(0,0)*t(2,2)-t(0,2)*t(2,0))*n,(t(1,0)*t(0,2)-t(0,0)*t(1,2))*n,(t(1,0)*t(2,1)-t(2,0)*t(1,1))*n,(t(2,0)*t(0,1)-t(0,0)*t(2,1))*n,(t(0,0)*t(1,1)-t(1,0)*t(0,1))*n]}function v(e,t,n,r){return[e+.5*(n-e),t+.5*(r-t)]}e.r(t),e.d(t,{generateRectangleVertices:()=>n,getVerts:()=>r,generateRectangleTexcoords:()=>i,matrixIdentity3x3:()=>o,matrixCopy3x3:()=>s,matrixMultiply3x3:()=>a,matrixMultiply3x3I:()=>u,matrixTransform2D:()=>l,makeTranslation3x3:()=>c,makeTranslation3x3I:()=>h,makeRotation3x3:()=>d,makeScale3x3:()=>f,matrixSet3x3:()=>p,makeScale3x3I:()=>g,makeInverse3x3:()=>y,midPoint:()=>v,getVFlip:()=>b,setVFlip:()=>N,flipVFlip:()=>x,make2DProjection:()=>D,subtractVectors3D:()=>A,normalize3D:()=>w,cross3D:()=>_,makePerspective:()=>P,makeTranslation4x4:()=>E,makeXRotation:()=>S,makeYRotation:()=>R,makeZRotation:()=>C,makeScale4x4:()=>L,matrixMultiply4x4:()=>O,makeInverse4x4:()=>k,matrixVectorMultiply4x4:()=>T,makeLookAt:()=>I});var m=!1;function b(){return m}function N(e){m=!!e}function x(){m=!m}function D(e,t,n){void 0===n&&(n=b());var r=(n=!0===n)?-1:1;return[2/e,0,0,0,-2/(r*t),0,-1,r,1]}function A(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function w(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0]}function _(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function P(e,t,n,r){var i=Math.tan(.5*Math.PI-.5*e),o=1/(n-r);return[i/t,0,0,0,0,i,0,0,0,0,(n+r)*o,-1,0,0,n*r*o*2,0]}function E(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]}function S(e){var t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1]}function R(e){var t=Math.cos(e),n=Math.sin(e);return[t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1]}function C(e){var t=Math.cos(e),n=Math.sin(e);return[t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1]}function L(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]}function O(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],y=e[14],v=e[15],m=t[0],b=t[1],N=t[2],x=t[3],D=t[4],A=t[5],w=t[6],_=t[7],P=t[8],E=t[9],S=t[10],R=t[11],C=t[12],L=t[13],O=t[14],k=t[15];return[n*m+r*D+i*P+o*C,n*b+r*A+i*E+o*L,n*N+r*w+i*S+o*O,n*x+r*_+i*R+o*k,s*m+a*D+u*P+l*C,s*b+a*A+u*E+l*L,s*N+a*w+u*S+l*O,s*x+a*_+u*R+l*k,c*m+h*D+d*P+f*C,c*b+h*A+d*E+f*L,c*N+h*w+d*S+f*O,c*x+h*_+d*R+f*k,p*m+g*D+y*P+v*C,p*b+g*A+y*E+v*L,p*N+g*w+y*S+v*O,p*x+g*_+y*R+v*k]}function k(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],g=e[14],y=e[15],v=h*y,m=g*d,b=a*y,N=g*u,x=a*d,D=h*u,A=r*y,w=g*i,_=r*d,P=h*i,E=r*u,S=a*i,R=l*p,C=f*c,L=o*p,O=f*s,k=o*c,T=l*s,I=t*p,B=f*n,G=t*c,M=l*n,W=t*s,F=o*n,z=v*s+N*c+x*p-(m*s+b*c+D*p),U=m*n+A*c+P*p-(v*n+w*c+_*p),V=b*n+w*s+E*p-(N*n+A*s+S*p),j=D*n+_*s+S*c-(x*n+P*s+E*c),H=1/(t*z+o*U+l*V+f*j);return[H*z,H*U,H*V,H*j,H*(m*o+b*l+D*f-(v*o+N*l+x*f)),H*(v*t+w*l+_*f-(m*t+A*l+P*f)),H*(N*t+A*o+S*f-(b*t+w*o+E*f)),H*(x*t+P*o+E*l-(D*t+_*o+S*l)),H*(R*u+O*d+k*y-(C*u+L*d+T*y)),H*(C*i+I*d+M*y-(R*i+B*d+G*y)),H*(L*i+B*u+W*y-(O*i+I*u+F*y)),H*(T*i+G*u+F*d-(k*i+M*u+W*d)),H*(L*h+T*g+C*a-(k*g+R*a+O*h)),H*(G*g+R*r+B*h-(I*h+M*g+C*r)),H*(I*a+F*g+O*r-(W*g+L*r+B*a)),H*(W*h+k*r+M*a-(G*a+F*h+T*r))]}function T(e,t){for(var n=[],r=0;r<4;++r){n[r]=0;for(var i=0;i<4;++i)n[r]+=e[i]*t[4*i+r]}return n}function I(e,t,n){var r=w(A(e,t)),i=_(n,r),o=_(r,i);return[i[0],i[1],i[2],0,o[0],o[1],o[2],0,r[0],r[1],r[2],0,e[0],e[1],e[2],1]}return t})()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";function e(e,t,n,r,i,o,s,a){var u=n/2,l=r/2,c=s/2,h=a/2;return!(i-c>e+u||i+c<e-u||o-h>t+l||o+h<t-l)}function t(e,t,n,r,i,o,s,a){var u=n/2,l=r/2,c=s/2,h=a/2;return!(i+c>e+u||i-c<e-u||o+h>t+l||o-h<t-l)}n.r(r),n.d(r,{containsAll:()=>t,containsAny:()=>e,default:()=>o});var i=n(255);const o=function(){function e(){this._cameraX=0,this._cameraY=0,this._scale=1,this._width=NaN,this._height=NaN,this._aspectRatio=NaN,this._changeVersion=0,this._vflip=(0,i.getVFlip)()}return e.prototype.setSize=function(e,t){return(this._width!==e||this._height!==t)&&(isNaN(this._width)||isNaN(this._height)||this.adjustOrigin((e-this._width)/(2*this._scale),(t-this._height)/(2*this._scale)),this._width=e,this._height=t,this._aspectRatio=this._width/this._height,this.hasChanged(),!0)},e.prototype.transform=function(e,t){var n=(0,i.matrixTransform2D)((0,i.makeInverse3x3)(this.worldMatrix()),e,t);return[n[0],n[1]]},e.prototype.zoomToPoint=function(e,t,n){var r=this.transform(t,n);this.setScale(this.scale()*e);var o=(0,i.matrixTransform2D)((0,i.makeInverse3x3)(this.worldMatrix()),t,n);this.adjustOrigin(o[0]-r[0],o[1]-r[1])},e.prototype.setOrigin=function(e,t){e==this._cameraX&&t==this._cameraY||(this._cameraX=e,this._cameraY=t,this.hasChanged())},e.prototype.changeVersion=function(){return this._changeVersion},e.prototype.hasChanged=function(){++this._changeVersion,this._worldMatrix=null},e.prototype.toJSON=function(){return{cameraX:this._cameraX,cameraY:this._cameraY,scale:this._scale,width:this._width,height:this._height}},e.prototype.restore=function(e){this.setOrigin(e.cameraX,e.cameraY),this.setScale(e.scale)},e.prototype.copy=function(e){this.setSize(e.width(),e.height()),this.setOrigin(e.x(),e.y()),this.setScale(e.scale())},e.prototype.scale=function(){return this._scale},e.prototype.x=function(){return this._cameraX},e.prototype.y=function(){return this._cameraY},e.prototype.setScale=function(e){this._scale=e,this.hasChanged()},e.prototype.toString=function(){return"("+this._cameraX+", "+this._cameraY+", "+this._scale+")"},e.prototype.adjustOrigin=function(e,t){if(0!=e||0!=t){if(Number.isNaN(e)||Number.isNaN(t))throw new Error("Adjusted origin must not be null. (Given "+e+", "+t+")");this._cameraX+=e,this._cameraY+=t,this.hasChanged()}},e.prototype.worldMatrix=function(){return(0,i.matrixMultiply3x3)((0,i.makeTranslation3x3)(this.x(),this.y()),(0,i.makeScale3x3)(this.scale(),this.scale()))},e.prototype.aspectRatio=function(){return this._aspectRatio},e.prototype.width=function(){return this._width},e.prototype.height=function(){return this._height},e.prototype.canProject=function(){return!Number.isNaN(this._width)&&!Number.isNaN(this._height)},e.prototype.projectionMatrix=function(){if(!this.canProject())throw new Error("Camera cannot create a projection matrix because the target canvas has no size. Use canProject() to handle.");return(0,i.make2DProjection)(this._width,this._height)},e.prototype.project=function(){return this._worldMatrix&&(0,i.getVFlip)()===this._vflip||(this._vflip=(0,i.getVFlip)(),this._worldMatrix=(0,i.matrixMultiply3x3)(this.worldMatrix(),this.projectionMatrix())),this._worldMatrix},e.prototype.containsAny=function(e){if(e.isNaN())return!1;var t=-this.x()+this.width()/(2*this.scale());if(e.x()-e.width()/2>t+this.width()/this.scale()/2)return!1;if(e.x()+e.width()/2<t-this.width()/this.scale()/2)return!1;var n=-this.y()+this.height()/(2*this.scale());return!(e.y()-e.height()/2>n+this.height()/this.scale()/2||e.y()+e.height()/2<n-this.height()/this.scale()/2)},e.prototype.containsAll=function(e){if(e.isNaN())return!1;var n=this;return t(-n.x()+n.width()/(2*n.scale()),-n.y()+n.height()/(2*n.scale()),n.width()/n.scale(),n.height()/n.scale(),e.x(),e.y(),e.width(),e.height())},e}()})(),r})(),e.exports=t()},717:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{setIgnoreGLErrors:()=>r,ignoreGLErrors:()=>i,glErrorString:()=>o,default:()=>s});var n=!0;function r(e){console.log("Setting ignore GL errors to: "+e),n=e}function i(){return n}function o(e,t){if(arguments.length<2)throw new Error("A GL context must be provided with the error");switch(0+t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return t}}function s(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!n){var i,s;if(t.length>1){i=t[0];for(var a=1;a<t.length;++a)i+=t[a]}if((s=e.getError())!=e.NO_ERROR&&s!=e.CONTEXT_LOST_WEBGL)throw i?new Error("WebGL error during "+i+": "+o(e,s)):new Error("WebGL error: "+o(e,s))}}return t})()},41:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{clamp:()=>n,default:()=>o,mix:()=>r});var n=function(e,t,n){return Math.min(n,Math.max(t,e))},r=function(e,t,n){return e+(t-e)*n},i=function(){function e(e,t,n,r){if(1===arguments.length)t=e,n=e,r=1;else if(3===arguments.length)r=1;else if(4!==arguments.length)throw new Error("Color must be given initial component values.");this._r=Math.min(1,Math.max(0,e)),this._g=Math.min(1,Math.max(0,t)),this._b=Math.min(1,Math.max(0,n)),this._a=Math.min(1,Math.max(0,r))}return e.prototype.r=function(){return this._r},e.prototype.g=function(){return this._g},e.prototype.b=function(){return this._b},e.prototype.a=function(){return this._a},e.prototype.setA=function(e){return this._a=Math.min(1,Math.max(0,e)),this},e.prototype.setR=function(e){return this._r=Math.min(1,Math.max(0,e)),this},e.prototype.setG=function(e){return this._g=Math.min(1,Math.max(0,e)),this},e.prototype.setB=function(e){return this._b=Math.min(1,Math.max(0,e)),this},e.prototype.multiply=function(t){return new e(this.r()*t.r(),this.g()*t.g(),this.b()*t.b(),this.a()*t.a())},e.prototype.premultiply=function(t){return new e(this.a()*this.r()+t.r()*(1-this.a()),this.a()*this.g()+t.g()*(1-this.a()),this.a()*this.b()+t.b()*(1-this.a()),1)},e.prototype.asRGB=function(){return"rgb("+Math.round(255*this._r)+", "+Math.round(255*this._g)+", "+Math.round(255*this._b)+")"},e.prototype.asRGBA=function(){return"rgba("+Math.round(255*this._r)+", "+Math.round(255*this._g)+", "+Math.round(255*this._b)+", "+this._a+")"},e.prototype.luminance=function(){return.648431*e.inverseSRGBCompanding(this.r())+.321152*e.inverseSRGBCompanding(this.g())+.155886*e.inverseSRGBCompanding(this.b())},e.prototype.toLCH=function(){var t,n,r,i,o=e.inverseSRGBCompanding(this.r()),s=e.inverseSRGBCompanding(this.g()),a=e.inverseSRGBCompanding(this.b());return r=[.96422,1,.82521],t=[116*(i=[o,s,a].map((function(e,t){return e/r[t]})).map((function(e){return e>.008856451679035631?Math.cbrt(e):(903.2962962962963*e+16)/116})))[1]-16,500*(i[0]-i[1]),200*(i[1]-i[2])],n=180*Math.atan2(t[2],t[1])/Math.PI,[t[0],Math.sqrt(Math.pow(t[1],2)+Math.pow(t[2],2)),n>=0?n:n+360]},e.prototype.interpolate=function(t,i){i=n(i,0,1);var o=this.toLCH(),s=o[0],a=o[1],u=o[2],l=t.toLCH(),c=l[0],h=l[1],d=l[2],f=r(s,c,i),p=r(a,h,i),g=r(u,d,i);return e.fromLCH(f,p,g,r(this.a(),t.a(),i))},e.prototype.clone=function(){return new e(this.r(),this.g(),this.b(),this.a())},e.prototype.equals=function(e){return this.r()===e.r()&&this.g()===e.g()&&this.b()===e.b()&&this.a()===e.a()},e.fromLCH=function(t,n,r,i){var o,s,a,u,l,c,h=(o=[(c=[t,n,r])[0],c[1]*Math.cos(c[2]*Math.PI/180),c[1]*Math.sin(c[2]*Math.PI/180)],s=24389/27,a=216/24389,u=[.96422,1,.82521],(l=[])[1]=(o[0]+16)/116,l[0]=o[1]/500+l[1],l[2]=l[1]-o[2]/200,[Math.pow(l[0],3)>a?Math.pow(l[0],3):(116*l[0]-16)/s,o[0]>8?Math.pow((o[0]+16)/116,3):o[0]/s,Math.pow(l[2],3)>a?Math.pow(l[2],3):(116*l[2]-16)/s].map((function(e,t){return e*u[t]}))),d=h[0],f=h[1],p=h[2];return new e(e.sRGBCompanding(d),e.sRGBCompanding(f),e.sRGBCompanding(p),i)},e.inverseSRGBCompanding=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},e.sRGBCompanding=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},e.fromRGB=function(t,n){1===arguments.length&&(n=255);var r=[];if(t.trim().substring(4,t.length-1).split(",").forEach((function(e){r.push(parseInt(e.trim()))})),r.length<3)throw new Error("Failed to parse color");return 3===r.length&&r.push(n),new e(r[0]/255,r[1]/255,r[2]/255,r[3]/255)},e.random=function(t,n){void 0===t&&(t=1),void 0===n&&(n=1);var r=1-(t=Math.min(Math.max(0,t),1));return new e(t*Math.random()+r/2,t*Math.random()+r/2,t*Math.random()+r/2,n)},e}();const o=i;return t})()},773:function(e,t,n){var r;r=e=>(()=>{var t={243:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t){this.set(e,t)}return e.prototype.canCall=function(){return null!=this._func},e.prototype.clear=function(){this.set(null,null)},e.prototype.set=function(e,t){this._func=e,this._funcThisArg=t},e.prototype.call=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.canCall())return this._func.apply(this._funcThisArg,e)},e.prototype.apply=function(e){if(this.canCall())return this._func.apply(this._funcThisArg,e)},e}();const r=n;return t})()},462:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t,n,r){this._x=e,this._y=t,this._width=n,this._height=r}return e.prototype.isNaN=function(){return isNaN(this._x)||isNaN(this._y)||isNaN(this._width)||isNaN(this._height)},e.prototype.toNaN=function(){this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN},e.prototype.clear=function(){this.toNaN()},e.prototype.reset=function(){this.toNaN()},e.prototype.x=function(){return this._x},e.prototype.setX=function(e){this._x=e},e.prototype.y=function(){return this._y},e.prototype.setY=function(e){this._y=e},e.prototype.clone=function(t){return t?(this.copy(t),t):new e(this.x(),this.y(),this.width(),this.height())},e.prototype.copy=function(e){return e?(e.setX(this.x()),e.setY(this.y()),e.setWidth(this.width()),e.setHeight(this.height()),e):this.clone()},e.prototype.translate=function(e,t){this.setX(this.x()+e),this.setY(this.y()+t)},e.prototype.scale=function(e,t){arguments.length<2&&(t=e),this.setX(this.x()*e),this.setY(this.y()*t),this.setWidth(this.width()*e),this.setHeight(this.height()*t)},e.prototype.height=function(){return this._height},e.prototype.setHeight=function(e){this._height=e},e.prototype.width=function(){return this._width},e.prototype.w=function(){return this.width()},e.prototype.h=function(){return this.height()},e.prototype.setWidth=function(e){this._width=e},e.prototype.toString=function(){return"[Rect x="+this.x()+", y="+this.y()+", w="+this.width()+", h="+this.height()+"]"},e.prototype.vMin=function(){return this.y()-this.height()/2},e.prototype.vMax=function(){return this.y()+this.height()/2},e.prototype.hMin=function(){return this.x()-this.width()/2},e.prototype.hMax=function(){return this.x()+this.width()/2},e.prototype.include=function(e,t,n,r){if(this.isNaN())return this._x=e,this._y=t,this._width=n,void(this._height=r);var i=this._x,o=this._y,s=this._width,a=this._height,u=Math.min(i-s/2,e-n/2),l=Math.max(i+s/2,e+n/2),c=Math.min(o-a/2,t-r/2),h=l-u,d=Math.max(o+a/2,t+r/2)-c,f=u+h/2,p=c+d/2;this._x=f,this._y=p,this._width=h,this._height=d},e}();const r=n;return t})()},402:function(e,t,n){var r;e.exports=(r=n(561),(()=>{"use strict";var e={561:e=>{e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{n.r(i),n.d(i,{compileShader:()=>t,createProgram:()=>r,createProgramFromScripts:()=>s,createShaderFromScriptTag:()=>o});var e=n(561);function t(t,n,r,i){var o=t.createShader(r);if(t.shaderSource(o,n),t.compileShader(o),!(0,e.ignoreGLErrors)()&&!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Could not compile "+(r===t.FRAGMENT_SHADER?"fragment":"vertex")+" shader "+i+": "+t.getShaderInfoLog(o));return o}function r(e,t,n){var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error("program filed to link:"+e.getProgramInfoLog(r));return r}function o(e,n,r){var i=document.getElementById(n);if(!i)throw new Error("*** Error: unknown script element: "+n);var o=i.text;if(!r)if("x-shader/x-vertex"==i.type)r=e.VERTEX_SHADER;else if("x-shader/x-fragment"==i.type)r=e.FRAGMENT_SHADER;else if(!r)throw new Error("*** Error: shader type not set");return t(e,o,r)}function s(e,t,n){return r(e,o(e,t),o(e,n))}})(),i})())},561:t=>{"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";r.r(i),r.d(i,{BasicGLProvider:()=>u,ProxyGLProvider:()=>d,WebGL2Provider:()=>h,compileProgram:()=>p});var e=r(561),t=r.n(e),n=r(462),o=r.n(n),s=r(243),a=r.n(s);const u=function(){function e(){this._shaders={},this._gl=null,this._contextChangedListener=new(a()),this._container=document.createElement("div"),this._explicitWidth=null,this._explicitHeight=null}return e.prototype.onContextChanged=function(e){if(e){var t=[];for(var n in this._shaders)Object.prototype.hasOwnProperty.call(this._shaders,n)&&t.push(n);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&delete this._shaders[t[r]]}this._contextChangedListener.call(e)},e.prototype.setOnContextChanged=function(e,t){this._contextChangedListener.set(e,t)},e.prototype.shaders=function(){return this._shaders},e.prototype.hasGL=function(){return!!this._gl},e.prototype.createGL=function(){return this.canvas().getContext("webgl")},e.prototype.gl=function(){if(this.hasGL())return this._gl;if(this._gl=this.createGL(),this._gl)return t()(this._gl,"WebGL creation"),this._gl;throw new Error("GL context is not supported")},e.prototype.hasCanvas=function(){return!!this._canvas},e.prototype.createCanvas=function(){var e=this,t=document.createElement("canvas");return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),e.onContextChanged(!0)}),!1),t.addEventListener("webglcontextrestored",(function(){e.onContextChanged(!1)}),!1),t.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),t.style.display="block",t},e.prototype.canvas=function(){return this.hasCanvas()||(this._canvas=this.createCanvas(),this.container().appendChild(this._canvas)),this._canvas},e.prototype.getSize=function(e){return e||(e=new(o())),e.setX(0),e.setY(0),e.setWidth(this.width()),e.setHeight(this.height()),e},e.prototype.resize=function(e,t){this.container().style.width="number"==typeof e?e+"px":e,1===arguments.length&&(t=e),this.container().style.height="number"==typeof t?t+"px":t},e.prototype.setExplicitSize=function(e,t){this._explicitWidth=e,this._explicitHeight=t,this.resize(e,t)},e.prototype.getWidth=function(){return this._explicitWidth||this.container().clientWidth},e.prototype.width=function(){return this.getWidth()},e.prototype.getHeight=function(){return this._explicitHeight||this.container().clientHeight},e.prototype.height=function(){return this.getHeight()},e.prototype.container=function(){return this._container},e.prototype.setBackground=function(e){this.container().style.backgroundColor=e.asRGBA(),this.hasGL()&&!this.gl().isContextLost()&&this.gl().clearColor(e.r(),e.g(),e.b(),e.a())},e.prototype.canProject=function(){var e=this.getWidth(),t=this.getHeight();return 0!=e&&0!=t},e.prototype.render=function(){if(this.hasGL()&&this.gl().isContextLost())return!0;if(!this.canProject())throw new Error("Refusing to render to an unprojectable window. Use canProject() to handle, and parent this window's container to fix.");if(this.hasCanvas()){var e=this.width(),t=this.height();this.canvas().width==e&&this.canvas().height==t||(this.canvas().width=e,this.canvas().height=t)}return!1},e}();var l,c=(l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},l(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.createGL=function(){return this.canvas().getContext("webgl2",{antialias:!0})},t}(u),d=function(){function e(e){this._glProvider=e}return e.prototype.setOnContextChanged=function(e,t){this.glProvider().setOnContextChanged(e,t)},e.prototype.glProvider=function(){return this._glProvider},e.prototype.width=function(){return this.glProvider().width()},e.prototype.canProject=function(){return this.glProvider().canProject()},e.prototype.render=function(){return this.glProvider().render()},e.prototype.height=function(){return this.glProvider().height()},e.prototype.shaders=function(){return this.glProvider().shaders()},e.prototype.container=function(){return this.glProvider().container()},e.prototype.hasCanvas=function(){return this.glProvider().hasCanvas()},e.prototype.canvas=function(){return this.glProvider().canvas()},e.prototype.hasGL=function(){return this.glProvider().hasGL()},e.prototype.gl=function(){return this.glProvider().gl()},e}();var f=r(402);function p(n,r,i,o){var s=n.gl(),a=n.shaders();if(!s.isContextLost()){if(a[r])return a[r];var u=s.createProgram();t()(s,"compileProgram.createProgram(shaderName='",r,")");var l=(0,f.compileShader)(s,i,s.VERTEX_SHADER,r);t()(s,"compileProgram.compile vertex shader(shaderName='",r,")"),s.attachShader(u,l),t()(s,"compileProgram.attach vertex shader(shaderName='",r,")");var c=(0,f.compileShader)(s,o,s.FRAGMENT_SHADER,r);if(t()(s,"compileProgram.compile fragment shader(shaderName='",r,")"),s.attachShader(u,c),t()(s,"compileProgram.attach fragment shader(shaderName='",r,")"),s.linkProgram(u),!(0,e.ignoreGLErrors)()){if(!s.getProgramParameter(u,s.LINK_STATUS))throw new Error("'"+r+"' shader program failed to link:\n"+s.getProgramInfoLog(u));var h=s.getError();if(h!=s.NO_ERROR&&h!=s.CONTEXT_LOST_WEBGL)throw new Error("'"+r+"' shader program failed to link: "+h)}return a[r]=u,u}}})(),i})(),e.exports=r(n(717))},235:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t,n,r){return[e-n/2,t-r/2,e+n/2,t-r/2,e+n/2,t+r/2,e-n/2,t-r/2,e+n/2,t+r/2,e-n/2,t+r/2]}function r(e,t,n){return[[-e,t,n],[e,t,n],[e,t,-n],[-e,t,-n],[e,-t,n],[-e,-t,n],[-e,-t,-n],[e,-t,-n],[e,t,n],[e,-t,n],[e,-t,-n],[e,t,-n],[-e,-t,n],[-e,t,n],[-e,t,-n],[-e,-t,-n],[e,t,n],[-e,t,n],[-e,-t,n],[e,-t,n],[e,-t,-n],[-e,-t,-n],[-e,t,-n],[e,t,-n]]}function i(){return[0,0,1,0,1,1,0,0,1,1,0,1]}function o(){var e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function s(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("At least two matrices must be provided.");if(1===e.length)return e[0];for(var n=s(e[0]),r=1;r<e.length;++r){var i=n,o=e[r];n=[i[0]*o[0]+i[1]*o[3]+i[2]*o[6],i[0]*o[1]+i[1]*o[4]+i[2]*o[7],i[0]*o[2]+i[1]*o[5]+i[2]*o[8],i[3]*o[0]+i[4]*o[3]+i[5]*o[6],i[3]*o[1]+i[4]*o[4]+i[5]*o[7],i[3]*o[2]+i[4]*o[5]+i[5]*o[8],i[6]*o[0]+i[7]*o[3]+i[8]*o[6],i[6]*o[1]+i[7]*o[4]+i[8]*o[7],i[6]*o[2]+i[7]*o[5]+i[8]*o[8]]}return n}function u(e,t,n){return p(e,t[0]*n[0]+t[1]*n[3]+t[2]*n[6],t[0]*n[1]+t[1]*n[4]+t[2]*n[7],t[0]*n[2]+t[1]*n[5]+t[2]*n[8],t[3]*n[0]+t[4]*n[3]+t[5]*n[6],t[3]*n[1]+t[4]*n[4]+t[5]*n[7],t[3]*n[2]+t[4]*n[5]+t[5]*n[8],t[6]*n[0]+t[7]*n[3]+t[8]*n[6],t[6]*n[1]+t[7]*n[4]+t[8]*n[7],t[6]*n[2]+t[7]*n[5]+t[8]*n[8])}function l(e,t,n){return[e[0]*t+e[1]*n+e[2],e[3]*t+e[4]*n+e[5]]}function c(e,t){return h(o(),e,t)}function h(e,t,n){return p(e,1,0,0,0,1,0,t,n,1)}function d(e){var t=Math.cos(e),n=Math.sin(e);return[t,-n,0,n,t,0,0,0,1]}function f(e,t){return 1===arguments.length&&(t=e),g(o(),e,t)}function p(e,t,n,r,i,o,s,a,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=l,e}function g(e,t,n){return 2===arguments.length&&(n=t),p(e,t,0,0,0,n,0,0,0,1)}function y(e){var t=function(t,n){return e[3*n+t]},n=1/(t(0,0)*(t(1,1)*t(2,2)-t(2,1)*t(1,2))-t(0,1)*(t(1,0)*t(2,2)-t(1,2)*t(2,0))+t(0,2)*(t(1,0)*t(2,1)-t(1,1)*t(2,0)));return[(t(1,1)*t(2,2)-t(2,1)*t(1,2))*n,(t(0,2)*t(2,1)-t(0,1)*t(2,2))*n,(t(0,1)*t(1,2)-t(0,2)*t(1,1))*n,(t(1,2)*t(2,0)-t(1,0)*t(2,2))*n,(t(0,0)*t(2,2)-t(0,2)*t(2,0))*n,(t(1,0)*t(0,2)-t(0,0)*t(1,2))*n,(t(1,0)*t(2,1)-t(2,0)*t(1,1))*n,(t(2,0)*t(0,1)-t(0,0)*t(2,1))*n,(t(0,0)*t(1,1)-t(1,0)*t(0,1))*n]}function v(e,t,n,r){return[e+.5*(n-e),t+.5*(r-t)]}e.r(t),e.d(t,{generateRectangleVertices:()=>n,getVerts:()=>r,generateRectangleTexcoords:()=>i,matrixIdentity3x3:()=>o,matrixCopy3x3:()=>s,matrixMultiply3x3:()=>a,matrixMultiply3x3I:()=>u,matrixTransform2D:()=>l,makeTranslation3x3:()=>c,makeTranslation3x3I:()=>h,makeRotation3x3:()=>d,makeScale3x3:()=>f,matrixSet3x3:()=>p,makeScale3x3I:()=>g,makeInverse3x3:()=>y,midPoint:()=>v,getVFlip:()=>b,setVFlip:()=>N,flipVFlip:()=>x,make2DProjection:()=>D,subtractVectors3D:()=>A,normalize3D:()=>w,cross3D:()=>_,makePerspective:()=>P,makeTranslation4x4:()=>E,makeXRotation:()=>S,makeYRotation:()=>R,makeZRotation:()=>C,makeScale4x4:()=>L,matrixMultiply4x4:()=>O,makeInverse4x4:()=>k,matrixVectorMultiply4x4:()=>T,makeLookAt:()=>I});var m=!1;function b(){return m}function N(e){m=!!e}function x(){m=!m}function D(e,t,n){void 0===n&&(n=b());var r=(n=!0===n)?-1:1;return[2/e,0,0,0,-2/(r*t),0,-1,r,1]}function A(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function w(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t>1e-5?[e[0]/t,e[1]/t,e[2]/t]:[0,0,0]}function _(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function P(e,t,n,r){var i=Math.tan(.5*Math.PI-.5*e),o=1/(n-r);return[i/t,0,0,0,0,i,0,0,0,0,(n+r)*o,-1,0,0,n*r*o*2,0]}function E(e,t,n){return[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1]}function S(e){var t=Math.cos(e),n=Math.sin(e);return[1,0,0,0,0,t,n,0,0,-n,t,0,0,0,0,1]}function R(e){var t=Math.cos(e),n=Math.sin(e);return[t,0,-n,0,0,1,0,0,n,0,t,0,0,0,0,1]}function C(e){var t=Math.cos(e),n=Math.sin(e);return[t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1]}function L(e,t,n){return[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1]}function O(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],g=e[13],y=e[14],v=e[15],m=t[0],b=t[1],N=t[2],x=t[3],D=t[4],A=t[5],w=t[6],_=t[7],P=t[8],E=t[9],S=t[10],R=t[11],C=t[12],L=t[13],O=t[14],k=t[15];return[n*m+r*D+i*P+o*C,n*b+r*A+i*E+o*L,n*N+r*w+i*S+o*O,n*x+r*_+i*R+o*k,s*m+a*D+u*P+l*C,s*b+a*A+u*E+l*L,s*N+a*w+u*S+l*O,s*x+a*_+u*R+l*k,c*m+h*D+d*P+f*C,c*b+h*A+d*E+f*L,c*N+h*w+d*S+f*O,c*x+h*_+d*R+f*k,p*m+g*D+y*P+v*C,p*b+g*A+y*E+v*L,p*N+g*w+y*S+v*O,p*x+g*_+y*R+v*k]}function k(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],g=e[14],y=e[15],v=h*y,m=g*d,b=a*y,N=g*u,x=a*d,D=h*u,A=r*y,w=g*i,_=r*d,P=h*i,E=r*u,S=a*i,R=l*p,C=f*c,L=o*p,O=f*s,k=o*c,T=l*s,I=t*p,B=f*n,G=t*c,M=l*n,W=t*s,F=o*n,z=v*s+N*c+x*p-(m*s+b*c+D*p),U=m*n+A*c+P*p-(v*n+w*c+_*p),V=b*n+w*s+E*p-(N*n+A*s+S*p),j=D*n+_*s+S*c-(x*n+P*s+E*c),H=1/(t*z+o*U+l*V+f*j);return[H*z,H*U,H*V,H*j,H*(m*o+b*l+D*f-(v*o+N*l+x*f)),H*(v*t+w*l+_*f-(m*t+A*l+P*f)),H*(N*t+A*o+S*f-(b*t+w*o+E*f)),H*(x*t+P*o+E*l-(D*t+_*o+S*l)),H*(R*u+O*d+k*y-(C*u+L*d+T*y)),H*(C*i+I*d+M*y-(R*i+B*d+G*y)),H*(L*i+B*u+W*y-(O*i+I*u+F*y)),H*(T*i+G*u+F*d-(k*i+M*u+W*d)),H*(L*h+T*g+C*a-(k*g+R*a+O*h)),H*(G*g+R*r+B*h-(I*h+M*g+C*r)),H*(I*a+F*g+O*r-(W*g+L*r+B*a)),H*(W*h+k*r+M*a-(G*a+F*h+T*r))]}function T(e,t){for(var n=[],r=0;r<4;++r){n[r]=0;for(var i=0;i<4;++i)n[r]+=e[i]*t[4*i+r]}return n}function I(e,t,n){var r=w(A(e,t)),i=_(n,r),o=_(r,i);return[i[0],i[1],i[2],0,o[0],o[1],o[2],0,r[0],r[1],r[2],0,e[0],e[1],e[2],1]}return t})()},942:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>r});var n=function(){function e(e,t,n,r){this._x=e,this._y=t,this._width=n,this._height=r}return e.prototype.isNaN=function(){return isNaN(this._x)||isNaN(this._y)||isNaN(this._width)||isNaN(this._height)},e.prototype.toNaN=function(){this._x=NaN,this._y=NaN,this._width=NaN,this._height=NaN},e.prototype.clear=function(){this.toNaN()},e.prototype.reset=function(){this.toNaN()},e.prototype.x=function(){return this._x},e.prototype.setX=function(e){this._x=e},e.prototype.y=function(){return this._y},e.prototype.setY=function(e){this._y=e},e.prototype.clone=function(t){return t?(this.copy(t),t):new e(this.x(),this.y(),this.width(),this.height())},e.prototype.copy=function(e){return e?(e.setX(this.x()),e.setY(this.y()),e.setWidth(this.width()),e.setHeight(this.height()),e):this.clone()},e.prototype.translate=function(e,t){this.setX(this.x()+e),this.setY(this.y()+t)},e.prototype.scale=function(e,t){arguments.length<2&&(t=e),this.setX(this.x()*e),this.setY(this.y()*t),this.setWidth(this.width()*e),this.setHeight(this.height()*t)},e.prototype.height=function(){return this._height},e.prototype.setHeight=function(e){this._height=e},e.prototype.width=function(){return this._width},e.prototype.w=function(){return this.width()},e.prototype.h=function(){return this.height()},e.prototype.setWidth=function(e){this._width=e},e.prototype.toString=function(){return"[Rect x="+this.x()+", y="+this.y()+", w="+this.width()+", h="+this.height()+"]"},e.prototype.vMin=function(){return this.y()-this.height()/2},e.prototype.vMax=function(){return this.y()+this.height()/2},e.prototype.hMin=function(){return this.x()-this.width()/2},e.prototype.hMax=function(){return this.x()+this.width()/2},e.prototype.include=function(e,t,n,r){if(this.isNaN())return this._x=e,this._y=t,this._width=n,void(this._height=r);var i=this._x,o=this._y,s=this._width,a=this._height,u=Math.min(i-s/2,e-n/2),l=Math.max(i+s/2,e+n/2),c=Math.min(o-a/2,t-r/2),h=l-u,d=Math.max(o+a/2,t+r/2)-c,f=u+h/2,p=c+d/2;this._x=f,this._y=p,this._width=h,this._height=d},e}();const r=n;return t})()},203:function(e){var t;t=()=>(()=>{var e={403:function(e){var t;t=()=>(()=>{"use strict";var e={"./src/Direction/constants.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Axis:()=>i,Direction:()=>r,NUM_DIRECTIONS:()=>o}),function(e){e[e.INWARD=0]="INWARD",e[e.OUTWARD=1]="OUTWARD",e[e.DOWNWARD=2]="DOWNWARD",e[e.UPWARD=3]="UPWARD",e[e.FORWARD=4]="FORWARD",e[e.BACKWARD=5]="BACKWARD"}(r||(r={}));var i,o=6;!function(e){e[e.HORIZONTAL=o]="HORIZONTAL",e[e.VERTICAL=o+1]="VERTICAL",e[e.Z=o+2]="Z"}(i||(i={}))},"./src/Direction/functions.ts":(e,t,n)=>{n.r(t),n.d(t,{alternateDirection:()=>c,directionSign:()=>N,forEachCardinalDirection:()=>u,forEachDirection:()=>l,getDirectionAxis:()=>d,getNegativeDirection:()=>v,getPerpendicularAxis:()=>g,getPositiveDirection:()=>y,isCardinalDirection:()=>a,isHorizontalDirection:()=>p,isNegativeDirection:()=>b,isPositiveDirection:()=>m,isVerticalDirection:()=>f,nameAxis:()=>h,nameDirection:()=>o,readDirection:()=>i,reverseDirection:()=>s,turnLeft:()=>x,turnNegative:()=>w,turnPositive:()=>A,turnRight:()=>D});var r=n("./src/Direction/constants.ts");function i(e){if("number"==typeof e)return e;if("string"==typeof e)switch(e.charAt(0)){case"f":case"F":return r.Direction.FORWARD;case"b":case"B":return r.Direction.BACKWARD;case"u":case"U":return r.Direction.UPWARD;case"d":case"D":return r.Direction.DOWNWARD;case"i":case"I":return r.Direction.INWARD;case"o":case"O":return r.Direction.OUTWARD}throw new Error("Unrecognized direction: "+e)}function o(e){switch(e){case r.Direction.FORWARD:return"FORWARD";case r.Direction.BACKWARD:return"BACKWARD";case r.Direction.DOWNWARD:return"DOWNWARD";case r.Direction.UPWARD:return"UPWARD";case r.Direction.INWARD:return"INWARD";case r.Direction.OUTWARD:return"OUTWARD"}}function s(e){switch(e){case r.Direction.FORWARD:return r.Direction.BACKWARD;case r.Direction.BACKWARD:return r.Direction.FORWARD;case r.Direction.DOWNWARD:return r.Direction.UPWARD;case r.Direction.UPWARD:return r.Direction.DOWNWARD;case r.Direction.INWARD:return r.Direction.OUTWARD;case r.Direction.OUTWARD:return r.Direction.INWARD}}function a(e){switch(e){case r.Direction.INWARD:case r.Direction.OUTWARD:return!1;case r.Direction.UPWARD:case r.Direction.DOWNWARD:case r.Direction.BACKWARD:case r.Direction.FORWARD:return!0}}function u(e,t){e.call(t,r.Direction.DOWNWARD),e.call(t,r.Direction.UPWARD),e.call(t,r.Direction.FORWARD),e.call(t,r.Direction.BACKWARD)}function l(e,t){e.call(t,r.Direction.DOWNWARD),e.call(t,r.Direction.UPWARD),e.call(t,r.Direction.FORWARD),e.call(t,r.Direction.BACKWARD),e.call(t,r.Direction.INWARD),e.call(t,r.Direction.OUTWARD)}function c(e){switch(e){case r.Direction.DOWNWARD:case r.Direction.INWARD:return r.Direction.FORWARD;case r.Direction.FORWARD:return r.Direction.DOWNWARD;default:throw new Error("No alternate direction for direction: "+o(e))}}function h(e){switch(e){case r.Axis.VERTICAL:return"VERTICAL";case r.Axis.HORIZONTAL:return"HORIZONTAL";case r.Axis.Z:return"Z"}}function d(e){switch(e){case r.Direction.FORWARD:case r.Direction.BACKWARD:return r.Axis.HORIZONTAL;case r.Direction.DOWNWARD:case r.Direction.UPWARD:return r.Axis.VERTICAL;case r.Direction.INWARD:case r.Direction.OUTWARD:return r.Axis.Z}throw new Error("Unknown direction: "+e)}function f(e){return d(e)===r.Axis.VERTICAL}function p(e){return d(e)===r.Axis.HORIZONTAL}function g(e){switch(e){case r.Axis.HORIZONTAL:return r.Axis.VERTICAL;case r.Axis.VERTICAL:return r.Axis.HORIZONTAL;case r.Axis.Z:return r.Axis.Z;default:return g(d(e))}}function y(e){switch(e){case r.Axis.HORIZONTAL:return r.Direction.FORWARD;case r.Axis.VERTICAL:return r.Direction.DOWNWARD;case r.Axis.Z:return r.Direction.OUTWARD}throw new Error("Unknown axis: "+h(e))}function v(e){return s(y(e))}function m(e){return e===y(d(e))}function b(e){return m(s(e))}function N(e){return m(e)?1:-1}function x(e){switch(e){case r.Direction.FORWARD:return r.Direction.UPWARD;case r.Direction.BACKWARD:return r.Direction.DOWNWARD;case r.Direction.DOWNWARD:return r.Direction.FORWARD;case r.Direction.UPWARD:return r.Direction.BACKWARD;default:throw new Error("No direction to turn when given "+o(e))}}function D(e){return s(x(e))}function A(e){return y(g(e))}function w(e){return s(A(e))}},"./src/Direction/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Axis:()=>r.Axis,Direction:()=>r.Direction,NUM_DIRECTIONS:()=>r.NUM_DIRECTIONS,alternateDirection:()=>i.alternateDirection,directionSign:()=>i.directionSign,forEachCardinalDirection:()=>i.forEachCardinalDirection,forEachDirection:()=>i.forEachDirection,getDirectionAxis:()=>i.getDirectionAxis,getNegativeDirection:()=>i.getNegativeDirection,getPerpendicularAxis:()=>i.getPerpendicularAxis,getPositiveDirection:()=>i.getPositiveDirection,isCardinalDirection:()=>i.isCardinalDirection,isHorizontalDirection:()=>i.isHorizontalDirection,isNegativeDirection:()=>i.isNegativeDirection,isPositiveDirection:()=>i.isPositiveDirection,isVerticalDirection:()=>i.isVerticalDirection,nameAxis:()=>i.nameAxis,nameDirection:()=>i.nameDirection,readDirection:()=>i.readDirection,reverseDirection:()=>i.reverseDirection,turnLeft:()=>i.turnLeft,turnNegative:()=>i.turnNegative,turnPositive:()=>i.turnPositive,turnRight:()=>i.turnRight});var r=n("./src/Direction/constants.ts"),i=n("./src/Direction/functions.ts")},"./src/DirectionCaret.ts":(e,t,n)=>{n.r(t),n.d(t,{DirectionCaret:()=>a,SHRINK_SCALE:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=.85,s=0,a=function(){function e(e){this._savedNodes=void 0,this._nodeRoot=this.doSpawn(e),this._nodes=[this._nodeRoot]}return e.prototype.doSpawn=function(e){if(e instanceof i.DirectionNode)return e;var t=new i.DirectionNode;return t.setValue(e),t},e.prototype.doReplace=function(e,t){e.setValue(t instanceof i.DirectionNode?t.value():t)},e.prototype.clone=function(){return new e(this.node())},e.prototype.node=function(){if(0===this._nodes.length)throw new Error("Caret has no node");return this._nodes[this._nodes.length-1]},e.prototype.has=function(e){return this.node().neighbors().hasNode((0,r.readDirection)(e))},e.prototype.connect=function(e,t){return this.node().connect((0,r.readDirection)(e),t),t},e.prototype.connectMove=function(e,t){return e=(0,r.readDirection)(e),this.connect(e,t),this.move(e),t},e.prototype.disconnect=function(e){return e?this.node().disconnect((0,r.readDirection)(e)):this.node().neighbors().isRoot()?this.node():this.node().neighbors().parentNode().disconnect((0,r.reverseDirection)(this.node().neighbors().parentDirection()))},e.prototype.crease=function(e){var t=this.node();e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),t.paintGroups().crease()},e.prototype.uncrease=function(e){var t=this.node();e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),t.paintGroups().uncrease()},e.prototype.isCreased=function(e){var t=this.node();return e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),!!t.paintGroups().isPaintGroup()},e.prototype.move=function(e){var t=this.node().neighbors().nodeAt((0,r.readDirection)(e));if(!t)throw new Error("No node to move to in that direction");this.moveTo(t)},e.prototype.push=function(){this._nodes.push(this.node())},e.prototype.save=function(e){return void 0===e&&(e=++s+""),this._savedNodes||(this._savedNodes={}),this._savedNodes[e]=this.node(),e},e.prototype.clearSave=function(e){this._savedNodes&&(void 0===e&&(e=""),delete this._savedNodes[e])},e.prototype.restore=function(e){if(!this._savedNodes)throw new Error("No nodes have been saved");var t=this._savedNodes[e];if(null==t)throw new Error("No node found for id: "+e);this.moveTo(t)},e.prototype.moveTo=function(e){this._nodes[this._nodes.length-1]=e},e.prototype.origin=function(){return this._nodeRoot},e.prototype.parent=function(){if(this.node().neighbors().isRoot())throw new Error("cannot get parent of root (node is "+this.node().id()+")");return this.node().neighbors().parentNode()},e.prototype.pop=function(){if(this._nodes.length<=1)throw new Error("No more nodes to pop");this._nodes.pop()},e.prototype.pull=function(e){this.node().siblings().pull((0,r.readDirection)(e))},e.prototype.root=function(){return this._nodeRoot},e.prototype.align=function(e,t){this.node().neighbors().align((0,r.readDirection)(e),(0,i.readAlignment)(t)),t!=i.Alignment.NONE&&this.node().setNodeFit(i.Fit.EXACT)},e.prototype.shrink=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t&&t.setScale(o)},e.prototype.grow=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t&&t.setScale(1)},e.prototype.fitExact=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.EXACT)},e.prototype.fitLoose=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.LOOSE)},e.prototype.fitNaive=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.NAIVE)},e.prototype.spawn=function(e,t,n){var o=this.doSpawn(t);return this.node().connect((0,r.readDirection)(e),o),o.siblings().setLayoutPreference(i.PreferredAxis.PERPENDICULAR),o.setNodeFit(this.node().nodeFit()),void 0!==n&&(n=(0,i.readAlignment)(n),this.align((0,r.readDirection)(e),n),n!==i.Alignment.NONE&&this.node().setNodeFit(i.Fit.EXACT)),o},e.prototype.replace=function(e){var t=this.value();return this.doReplace(this.node(),e),t},e.prototype.value=function(){return this.node().value()},e.prototype.spawnMove=function(e,t,n){var r=this.spawn(e,t,n);return this.move(e),r},e.prototype.at=function(e){if(this.node().neighbors().hasNode((0,r.readDirection)(e)))return this.node().neighbors().nodeAt((0,r.readDirection)(e));throw new Error("No node at direction")},e}()},"./src/DirectionNode/DirectionNode.ts":(e,t,n)=>{n.r(t),n.d(t,{DirectionNode:()=>d});var r=n("./src/DirectionNode/Fit.ts"),i=n("./src/DirectionNode/Layout/index.ts"),o=n("./src/DirectionNode/Siblings/index.ts"),s=n("./src/DirectionNode/PaintGroups/index.ts"),a=n("./src/DirectionNode/Neighbors/Neighbors.ts"),u=n("./src/DirectionNode/connectNode.ts"),l=n("./src/DirectionNode/disconnectNode.ts"),c=Date.now()+Math.random()+"-",h=0,d=function(){function e(e){this._id=c+h++,this._value=void 0,this._nodeFit=r.Fit.LOOSE,this._rightToLeft=!1,this._scale=1,this._paintGroups=new s.PaintGroups(this),this._paintGroups.setPaintGroup(new s.PaintGroup(this,!1)),void 0!==e&&this.setValue(e)}return e.prototype.layout=function(){return this._layout||(this._layout=new i.Layout(this)),this._layout},e.prototype.neighbors=function(){return this._neighbors||(this._neighbors=new a.Neighbors(this)),this._neighbors},e.prototype.invalidate=function(){for(var e=this;null!==e;){var t=e.layout().phase();if(e.layout().setPhase(i.LayoutPhase.NEEDS_COMMIT),e.neighbors().isRoot())break;if(t!==i.LayoutPhase.COMMITTED)break;e=e.neighbors().parentNode()}},e.prototype.id=function(){return this._id},e.prototype.setId=function(e){return this._id=e,this},e.prototype.value=function(){return this._value},e.prototype.setValue=function(e){var t=this.value();return t===e?t:(this._value=e,this.invalidate(),this._value)},e.prototype.rightToLeft=function(){return this._rightToLeft},e.prototype.setRightToLeft=function(e){this._rightToLeft=!!e,this.invalidate()},e.prototype.nodeFit=function(){return this._nodeFit},e.prototype.setNodeFit=function(e){this._nodeFit=e,this.invalidate()},e.prototype.scale=function(){return this._scale},e.prototype.setScale=function(e){this._scale=e,this.invalidate()},e.prototype.siblings=function(){return this._siblings||(this._siblings=new o.Siblings(this)),this._siblings},e.prototype.paintGroups=function(){return this._paintGroups},e.prototype.paintGroup=function(){return this.paintGroups().paintGroup()},e.prototype.connect=function(e,t){return(0,u.connectNode)(this,e,t)},e.prototype.disconnect=function(e){return(0,l.disconnectNode)(this,e)},e}()},"./src/DirectionNode/Fit.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Fit:()=>r,default:()=>i,nameFit:()=>o,readFit:()=>s}),function(e){e[e.NULL=14]="NULL",e[e.EXACT=15]="EXACT",e[e.LOOSE=16]="LOOSE",e[e.NAIVE=17]="NAIVE"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.EXACT:return"EXACT";case r.LOOSE:return"LOOSE";case r.NAIVE:return"NAIVE"}throw new Error("Unknown Fit: "+e)}function s(e){if("number"==typeof e)return e;switch(e=e.toLowerCase()){case"e":case"exact":return r.EXACT;case"l":case"loose":return r.LOOSE;case"n":case"naive":return r.NAIVE}return r.NULL}},"./src/DirectionNode/Layout/CommitLayout/CommitLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>c});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/commitAxisBasedLayout.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/addLineBounds.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/commitInwardLayout.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/commitRootlikeLayout.ts"),c=function(){function e(e,t){this._painter=t,this.bodySize=[NaN,NaN],this.firstSize=[NaN,NaN],this.secondSize=[NaN,NaN],this.reset(e)}return e.prototype.initExtent=function(e,t,n,r,i){var o=e.layout().extentsAt(t);o.clear(),o.appendLS(n,r),e.layout().setExtentOffsetAt(t,i)},e.prototype.reset=function(e){this.rootPaintGroup=e.neighbors().root(),this.layoutPhase=1,this.needsPosition=!1,this.root=void 0,this.node=void 0,this.paintGroup=void 0,this.bodySize[0]=NaN,this.bodySize[1]=NaN,this.firstSize[0]=NaN,this.firstSize[1]=NaN,this.secondSize[0]=NaN,this.secondSize[1]=NaN},e.prototype.startingNode=function(){return this.rootPaintGroup},e.prototype.painter=function(){return this._painter},e.prototype.commitLayout=function(e){var t=this;switch(e.layout().phase()){case o.LayoutPhase.COMMITTED:return!1;case o.LayoutPhase.NULL:throw new Error("Layout phase must not be null");case o.LayoutPhase.IN_COMMIT:throw new Error("Refusing to commit layout while it is already being committed")}e.layout().setPhase(o.LayoutPhase.IN_COMMIT);var n=this.bodySize;if(this.painter().size(e,n),e.layout().setSize(n),this.initExtent(e,r.Direction.DOWNWARD,n[0],n[1]/2,n[0]/2),this.initExtent(e,r.Direction.UPWARD,n[0],n[1]/2,n[0]/2),this.initExtent(e,r.Direction.BACKWARD,n[1],n[0]/2,n[1]/2),this.initExtent(e,r.Direction.FORWARD,n[1],n[0]/2,n[1]/2),e.layout().phase()===o.LayoutPhase.COMMITTED)return!0;if(e.nodeFit()===i.Fit.NAIVE&&(e.neighbors().isRoot()||!isNaN(e.neighbors().parentX())))return e.layout().setPhase(o.LayoutPhase.COMMITTED),!1;var c=this.painter().lineThickness,h=c?c(e):12;if(e.neighbors().isRootlike()){if((0,l.commitRootlikeLayout)(this.painter(),e,h,this.bodySize))return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0}else if((0,s.commitAxisBasedLayout)(this.painter(),e,h,this.bodySize))return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;return(0,r.forEachCardinalDirection)((function(n){(0,a.addLineBounds)(e,n,t.bodySize)})),!0===(0,u.commitInwardLayout)(this.painter(),e,this.bodySize,this.firstSize)||e.layout().setPhase(o.LayoutPhase.COMMITTED),!0},e.prototype.commitLayoutPhaseOne=function(){var e,t,n;if(this.layoutPhase>1)return!1;if(this.paintGroup||(this.paintGroup=this.rootPaintGroup.paintGroup().prev(),this.root=this.paintGroup,this.node=this.root,this.needsPosition=!1),null===(e=this.root)||void 0===e?void 0:e.layout().needsCommit()){this.needsPosition=!0;do{if(this.node=null===(t=this.node)||void 0===t?void 0:t.siblings().next(),this.node.layout().needsCommit())return this.commitLayout(this.node),this.node.layout().invalidateGroupPos(),this.node.layout().invalidateAbsolutePos(),this.node.paintGroups().setPaintGroupNode(this.paintGroup),!0}while(this.node!==this.root)}else if(this.needsPosition=Boolean(this.needsPosition||(null===(n=this.root)||void 0===n?void 0:n.layout().needsPosition())),this.needsPosition)do{if(!this.node)throw new Error("Node must not be undefined");var r=this.node.layout();r.invalidateAbsolutePos(),r.invalidateGroupPos(),r.commitGroupPos(),this.node=this.node.siblings().prev()}while(this.node!==this.root);var i=this.painter().paint;return!!(this.needsPosition&&i&&i.call(this.painter(),this.paintGroup))||(this.paintGroup===this.rootPaintGroup?(++this.layoutPhase,this.paintGroup=void 0,!1):(this.paintGroup=this.paintGroup.paintGroup().prev(),this.root=this.paintGroup,this.node=this.root,!0))},e.prototype.commitLayoutPhaseTwo=function(){var e,t,n;if(!this.needsPosition||2!==this.layoutPhase)return!1;if(this.paintGroup||(this.paintGroup=this.rootPaintGroup,this.root=this.paintGroup,this.node=void 0),(null===(e=this.paintGroup)||void 0===e?void 0:e.layout().needsCommit())||(null===(t=this.paintGroup)||void 0===t?void 0:t.layout().needsPosition())){this.node||(this.node=this.paintGroup.siblings().prev());var r=this.node.layout();return r.invalidateAbsolutePos(),r.invalidateGroupPos(),r.commitGroupPos(),this.node=this.node.siblings().prev(),!0}return this.paintGroup=null===(n=this.paintGroup)||void 0===n?void 0:n.paintGroup().next(),this.paintGroup===this.rootPaintGroup?(++this.layoutPhase,this.needsPosition=!1,this.paintGroup=void 0,!1):(this.root=this.paintGroup,this.node=void 0,!0)},e.prototype.commitLayoutPhaseThree=function(){var e;if(3!==this.layoutPhase)return!1;this.paintGroup||(this.paintGroup=this.rootPaintGroup);var t=this.paintGroup;do{var n=t.layout();n&&(n.invalidateAbsolutePos(),n.commitAbsolutePos()),t=t.siblings().next()}while(t!=this.paintGroup);return this.paintGroup=null===(e=this.paintGroup)||void 0===e?void 0:e.paintGroup().next(),this.paintGroup!==this.rootPaintGroup||(++this.layoutPhase,this.needsPosition=!1,!1)},e.prototype.crank=function(){return!!(this.commitLayoutPhaseOne()||this.commitLayoutPhaseTwo()||this.commitLayoutPhaseThree())||(this.reset(this.rootPaintGroup),!1)},e}()},"./src/DirectionNode/Layout/CommitLayout/LayoutPainter.ts":(e,t,n)=>{n.r(t)},"./src/DirectionNode/Layout/CommitLayout/addLineBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{addLineBounds:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n){if(e.neighbors().hasChild(t)){var s=(0,r.getPerpendicularAxis)(t),a=(0,r.directionSign)(t),u=e.layout().extentOffsetAt((0,r.getPositiveDirection)(s)),l=e.layout().extentOffsetAt((0,r.getNegativeDirection)(s));if(a<0){var c=function(e,t,n){return e.layout().size(n),(0,r.isVerticalDirection)(t)?n[1]/2:n[0]/2}(e,t,o);u-=c+e.neighbors().lineLengthAt(t),l-=c+e.neighbors().lineLengthAt(t)}e.nodeFit()==i.Fit.EXACT&&(c=void 0,c=s===r.Axis.VERTICAL?n[1]/2:n[0]/2,e.layout().extentsAt((0,r.getPositiveDirection)(s)).combineBound(u,e.neighbors().lineLengthAt(t),c),e.layout().extentsAt((0,r.getNegativeDirection)(s)).combineBound(l,e.neighbors().lineLengthAt(t),c))}}},"./src/DirectionNode/Layout/CommitLayout/combineExtents.ts":(e,t,n)=>{n.r(t),n.d(t,{combineExtent:()=>s,combineExtents:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN,NaN],s=function(e,t,n,r,s){var a=e.neighbors().nodeAt(t),u=e.layout().extentOffsetAt(n)+r-e.neighbors().nodeAt(t).scale()*a.layout().extentOffsetAt(n),l=e.layout().extentsAt(n),c=e.neighbors().nodeAt(t).scale();if(e.nodeFit()==i.Fit.LOOSE?l.combineExtentAndSimplify(a.layout().extentsAt(n),u,s,c,o):l.combineExtent(a.layout().extentsAt(n),u,s,c),u<0&&e.layout().setExtentOffsetAt(n,e.layout().extentOffsetAt(n)+Math.abs(u)),e.layout().extentOffsetAt(n)<0)throw new Error("Extent offset must not be negative.")},a=function(e,t,n,i){switch(t){case r.Direction.DOWNWARD:s(e,t,r.Direction.DOWNWARD,n,i),s(e,t,r.Direction.UPWARD,n,-i),s(e,t,r.Direction.FORWARD,i,n),s(e,t,r.Direction.BACKWARD,i,-n);break;case r.Direction.UPWARD:s(e,t,r.Direction.DOWNWARD,n,-i),s(e,t,r.Direction.UPWARD,n,i),s(e,t,r.Direction.FORWARD,-i,n),s(e,t,r.Direction.BACKWARD,-i,-n);break;case r.Direction.FORWARD:s(e,t,r.Direction.DOWNWARD,i,n),s(e,t,r.Direction.UPWARD,i,-n),s(e,t,r.Direction.FORWARD,n,i),s(e,t,r.Direction.BACKWARD,n,-i);break;case r.Direction.BACKWARD:s(e,t,r.Direction.DOWNWARD,-i,n),s(e,t,r.Direction.UPWARD,-i,-n),s(e,t,r.Direction.FORWARD,n,-i),s(e,t,r.Direction.BACKWARD,n,i);break;default:throw new Error("Unknown direction given: "+t)}}},"./src/DirectionNode/Layout/CommitLayout/commitAxisBasedLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitAxisBasedLayout:()=>u});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts"),a=function(e){if(e.neighbors().isRoot())throw new Error("Node is root and has no parent direction");var t=e.neighbors().parentDirection();if(void 0===t)throw new Error("A non-root node must have a parent direction");return t},u=function(e,t,n,u){if(t.siblings().canonicalLayoutPreference()==i.PreferredAxis.PERPENDICULAR){var l=(0,r.getPerpendicularAxis)(a(t)),c=t.neighbors().hasNodes(l),h=(0,r.reverseDirection)(a(t));if((0,o.layoutAxis)(e,t,c[0],c[1],!1,n,u))return!0;if(t.neighbors().hasNode(h)&&(0,s.layoutSingle)(t,h,!0,n,u,e))return!0}else{h=(0,r.reverseDirection)(a(t));var d=t.neighbors().hasNodes((0,r.getPerpendicularAxis)(a(t)));if(t.neighbors().hasNode(h)&&(0,s.layoutSingle)(t,h,void 0===d[0]&&void 0===d[1],n,u,e))return!0;if((0,o.layoutAxis)(e,t,d[0],d[1],!0,n,u))return!0}return!1}},"./src/DirectionNode/Layout/CommitLayout/commitInwardLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitInwardLayout:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),a=function(e,t,n,a){if(!t.neighbors().hasNode(r.Direction.INWARD))return!1;var u=t.neighbors().nodeAt(r.Direction.INWARD);if(u.layout().phase()!==o.LayoutPhase.COMMITTED)return t.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;u.layout().extentSize(a);var l=a;return t.neighbors().getAlignment(r.Direction.INWARD)===i.Alignment.INWARD_VERTICAL?t.neighbors().at(r.Direction.INWARD).setPos(u.scale()*(u.layout().extentOffsetAt(r.Direction.DOWNWARD)-l[0]/2),n[1]/2-(0,s.getSeparation)(e,t,r.Axis.Z,r.Direction.INWARD,!0)/2+u.scale()*(-l[1]+u.layout().extentOffsetAt(r.Direction.FORWARD))):t.neighbors().at(r.Direction.INWARD).setPos(n[0]/2-(0,s.getSeparation)(e,t,r.Axis.Z,r.Direction.INWARD,!1)/2+u.scale()*(-l[0]+u.layout().extentOffsetAt(r.Direction.DOWNWARD)),u.scale()*(u.layout().extentOffsetAt(r.Direction.FORWARD)-l[1]/2)),!1}},"./src/DirectionNode/Layout/CommitLayout/commitRootlikeLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitRootlikeLayout:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts"),s=function(e,t,n,s){if(t.siblings().getLayoutPreference()===i.PreferredAxis.HORIZONTAL||t.siblings().getLayoutPreference()===i.PreferredAxis.PERPENDICULAR){if((0,o.layoutAxis)(e,t,r.Direction.BACKWARD,r.Direction.FORWARD,!t.neighbors().hasNode(r.Direction.UPWARD)&&!t.neighbors().hasNode(r.Direction.DOWNWARD),n,s))return!0;if((0,o.layoutAxis)(e,t,r.Direction.UPWARD,r.Direction.DOWNWARD,!0,n,s))return!0}else{if((0,o.layoutAxis)(e,t,r.Direction.UPWARD,r.Direction.DOWNWARD,!t.neighbors().hasNode(r.Direction.BACKWARD)&&!t.neighbors().hasNode(r.Direction.FORWARD),n,s))return!0;if((0,o.layoutAxis)(e,t,r.Direction.BACKWARD,r.Direction.FORWARD,!0,n,s))return!0}return!1}},"./src/DirectionNode/Layout/CommitLayout/findConsecutiveLength.ts":(e,t,n)=>{n.r(t),n.d(t,{findConsecutiveLength:()=>i});var r=n("./src/Direction/index.ts"),i=function(e,t){if(!(0,r.isCardinalDirection)(t))throw new Error("Given direction is not cardinal: "+(0,r.nameDirection)(t));var n=0,i=1;if(e.neighbors().hasNode(t)){n+=e.neighbors().separationAt(t),i*=e.neighbors().nodeAt(t).scale();for(var o=e.neighbors().nodeAt(t),s=o.neighbors().nodeAt(t);s;)n+=o.neighbors().separationAt(t)*i,i*=o.neighbors().nodeAt(t).scale(),o=s,s=s.neighbors().nodeAt(t)}return n}},"./src/DirectionNode/Layout/CommitLayout/getAlignment.ts":(e,t,n)=>{n.r(t),n.d(t,{getAlignment:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/findConsecutiveLength.ts"),s=function(e,t){var n,s=e.neighbors().nodeAt(t),a=(0,r.getPerpendicularAxis)((0,r.getDirectionAxis)(t));switch(e.neighbors().getAlignment(t)){case i.Alignment.NULL:throw new Error("Node has null alignment");case i.Alignment.NONE:n=0;break;case i.Alignment.NEGATIVE:n=(0,o.findConsecutiveLength)(s,(0,r.getNegativeDirection)(a));break;case i.Alignment.CENTER:var u=(0,o.findConsecutiveLength)(s,(0,r.getNegativeDirection)(a)),l=(0,o.findConsecutiveLength)(s,(0,r.getPositiveDirection)(a)),c=(u+l)/2;n=u>l?u-c:u<l?-(l-c):0;break;case i.Alignment.POSITIVE:n=-(0,o.findConsecutiveLength)(s,(0,r.getPositiveDirection)(a))}return n*e.neighbors().nodeAt(t).scale()}},"./src/DirectionNode/Layout/CommitLayout/getSeparation.ts":(e,t,n)=>{n.r(t),n.d(t,{getSeparation:()=>r});var r=function(e,t,n,r,i){var o=e.getSeparation;return o?o(t,n,r,i):0}},"./src/DirectionNode/Layout/CommitLayout/index.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>r.CommitLayout}),n("./src/DirectionNode/Layout/CommitLayout/LayoutPainter.ts");var r=n("./src/DirectionNode/Layout/CommitLayout/CommitLayout.ts")},"./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts":(e,t,n)=>{n.r(t),n.d(t,{layoutAxis:()=>f});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/combineExtents.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/positionChild.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/getAlignment.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts"),c=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),h=[NaN,NaN],d=[NaN,NaN],f=function(e,t,n,f,p,g,y){if(n===f&&void 0!==n)throw new Error("First and second directions cannot be the same unless they are both null");if(void 0===n||t.neighbors().hasNode(n)||(n=void 0),void 0===f||t.neighbors().hasNode(f)||(f=void 0),void 0===n&&void 0===f)return!1;if(void 0===n||void 0===f){var v=void 0;if(void 0!==n)v=n;else{if(void 0===f)throw new Error("secondDirection for layout must be defined if firstDirection is undefined");v=f}return!!(0,l.layoutSingle)(t,v,p,g,y,e)&&(t.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0)}var m=t.neighbors().nodeAt(n),b=t.neighbors().nodeAt(f),N=(0,u.getAlignment)(t,n),x=(0,u.getAlignment)(t,f),D=m.layout().extentsAt(f).separation(b.layout().extentsAt(n),t.neighbors().nodeAt(f).scale()/t.neighbors().nodeAt(n).scale()*(x-b.layout().extentOffsetAt(n))-(N-m.layout().extentOffsetAt(f)),!0,t.neighbors().nodeAt(f).scale()/t.neighbors().nodeAt(n).scale(),0);D*=t.neighbors().nodeAt(n).scale();var A=p;switch(t.neighbors().nodeAt(n).neighbors().axisOverlap()){case i.AxisOverlap.PREVENTED:A=!1;break;case i.AxisOverlap.ALLOWED:A=!0}var w=p;switch(t.neighbors().nodeAt(f).neighbors().axisOverlap()){case i.AxisOverlap.PREVENTED:w=!1;break;case i.AxisOverlap.ALLOWED:w=!0}var _=t.layout().extentsAt(n).separation(m.layout().extentsAt(f),t.layout().extentOffsetAt(n)+N-t.neighbors().nodeAt(n).scale()*m.layout().extentOffsetAt(f),A,t.neighbors().nodeAt(n).scale(),g/2),P=t.layout().extentsAt(f).separation(b.layout().extentsAt(n),t.layout().extentOffsetAt(f)+x-t.neighbors().nodeAt(f).scale()*b.layout().extentOffsetAt(n),w,t.neighbors().nodeAt(f).scale(),g/2);return D>=_+P&&(_=Math.max(_,D/2),P=Math.max(P,D/2)),m.layout().size(h),b.layout().size(d),(0,r.getDirectionAxis)(n)===r.Axis.VERTICAL?(_=Math.max(_,t.neighbors().nodeAt(n).scale()*(h[1]/2)+y[1]/2),_+=(0,c.getSeparation)(e,t,r.Axis.VERTICAL,n,!0)*t.neighbors().nodeAt(n).scale(),P=Math.max(P,t.neighbors().nodeAt(f).scale()*(d[1]/2)+y[1]/2),P+=(0,c.getSeparation)(e,t,r.Axis.VERTICAL,f,!0)*t.neighbors().nodeAt(f).scale()):(_=Math.max(_,t.neighbors().nodeAt(n).scale()*(h[0]/2)+y[0]/2),_+=(0,c.getSeparation)(e,t,r.Axis.HORIZONTAL,n,!1)*t.neighbors().nodeAt(n).scale(),P=Math.max(P,t.neighbors().nodeAt(f).scale()*(d[0]/2)+y[0]/2),P+=(0,c.getSeparation)(e,t,r.Axis.HORIZONTAL,f,!1)*t.neighbors().nodeAt(f).scale()),(0,a.positionChild)(t,n,N,_),(0,a.positionChild)(t,f,x,P),(0,s.combineExtents)(t,n,N,_),(0,s.combineExtents)(t,f,x,P),!1}},"./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts":(e,t,n)=>{n.r(t),n.d(t,{layoutSingle:()=>h});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/combineExtents.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/positionChild.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/getAlignment.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),c=[NaN,NaN],h=function(e,t,n,h,d,f){if(!e.neighbors().hasNode(t))return!1;switch(e.neighbors().axisOverlap(t)){case i.AxisOverlap.PREVENTED:n=!1;break;case i.AxisOverlap.ALLOWED:n=!0}var p=(0,u.getAlignment)(e,t),g=e.neighbors().nodeAt(t),y=(0,r.reverseDirection)(t),v=g.layout().extentsAt(y);if(g.layout().phase()!==o.LayoutPhase.COMMITTED)return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;var m=e.layout().extentsAt(t).separation(v,e.layout().extentOffsetAt(t)+p-e.neighbors().nodeAt(t).scale()*g.layout().extentOffsetAt(y),n,e.neighbors().nodeAt(t).scale(),h/2);return g.layout().size(c),(0,r.getDirectionAxis)(t)==r.Axis.VERTICAL?(m=Math.max(m,e.neighbors().nodeAt(t).scale()*(c[1]/2)+d[1]/2),m+=(0,l.getSeparation)(f,e,r.Axis.VERTICAL,t,!0)*e.neighbors().nodeAt(t).scale()):(m=Math.max(m,e.neighbors().nodeAt(t).scale()*(c[0]/2)+d[0]/2),m+=(0,l.getSeparation)(f,e,r.Axis.HORIZONTAL,t,!1)*e.neighbors().nodeAt(t).scale()),(0,a.positionChild)(e,t,p,m),(0,s.combineExtents)(e,t,p,m),!1}},"./src/DirectionNode/Layout/CommitLayout/positionChild.ts":(e,t,n)=>{n.r(t),n.d(t,{positionChild:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n,s){if(s<0)throw new Error("separation must always be positive.");if(!(0,r.isCardinalDirection)(t))throw new Error("Direction used for positioning must be cardinal");var a,u=e.neighbors().nodeAt(t),l=(0,r.reverseDirection)(t);e.neighbors().at(t).setAlignmentOffset(n),e.neighbors().at(t).setSeparation(s),e.neighbors().getAlignment(t)===i.Alignment.NONE?(u.layout().size(o),a=(0,r.isVerticalDirection)(t)?o[1]/2:o[0]/2):a=u.layout().extentsAt(l).sizeAt(u.layout().extentOffsetAt(l)-n/e.neighbors().nodeAt(t).scale());var c=s-e.neighbors().nodeAt(t).scale()*a;e.neighbors().at(t).setLineLength(c);var h=(0,r.directionSign)(t);(0,r.isVerticalDirection)(t)?e.neighbors().at(t).setPos(n,h*s):e.neighbors().at(t).setPos(h*s,n)}},"./src/DirectionNode/Layout/Extent/Extent.ts":(e,t,n)=>{n.r(t),n.d(t,{Extent:()=>s});var r=n("./src/DirectionNode/Layout/Extent/fuzzyequals.ts"),i=n("./src/DirectionNode/Layout/Extent/ExtentSeparator.ts"),o=n("./src/DirectionNode/Layout/Extent/ExtentCombiner.ts"),s=function(){function e(e){void 0!==e&&e._bounds?(this._offset=e._offset,this._numBounds=e._numBounds,this._bounds=new Float32Array(e._bounds),this._start=e._start,isNaN(e._minSize)||(this._minSize=e._minSize,this._maxSize=e._maxSize,this._totalLength=e._totalLength)):(this._start=0,this._offset=0,this._numBounds=0,this._bounds=new Float32Array,this._minSize=NaN,this._maxSize=NaN,this._totalLength=NaN)}return e.prototype.setOffset=function(e){this._offset=e},e.prototype.offset=function(){return this._offset},e.prototype.forEach=function(e){for(var t=0;t<this._numBounds;++t)e(this.boundLengthAt(t),this.boundSizeAt(t),t)},e.prototype.clone=function(){return new e(this)},e.prototype.clear=function(){this._numBounds=0,this.invalidateBoundingValues()},e.prototype.numBounds=function(){return this._numBounds},e.prototype.hasBounds=function(){return this.numBounds()>0},e.prototype.boundLengthAt=function(e){return this._bounds[(this._start+e)%this.boundCapacity()*2]},e.prototype.boundSizeAt=function(e){return this._bounds[(this._start+e)%this.boundCapacity()*2+1]},e.prototype.invalidateBoundingValues=function(){this._minSize=NaN,this._maxSize=NaN,this._totalLength=NaN},e.prototype.setBoundLengthAt=function(e,t){this._bounds[(this._start+e)%this.boundCapacity()*2]=t,this.invalidateBoundingValues()},e.prototype.setBoundSizeAt=function(e,t){this._bounds[(this._start+e)%this.boundCapacity()*2+1]=t,this.invalidateBoundingValues()},e.prototype.realloc=function(e){e<1&&(e=1);var t=this._bounds,n=this.boundCapacity();if(n>=e)throw new Error("Cannot shrink Extent capacity");if(this._bounds=new Float32Array(2*e),t)if(this._start+this._numBounds>n){for(var r=this._start+this._numBounds-n,i=0;i<2*(this._numBounds-r);++i)this._bounds[i]=t[this._start+i];for(i=0;i<2*(this._numBounds-r);++i)this._bounds[this._numBounds-r+i]=t[i]}else for(i=0;i<2*this._numBounds;++i)this._bounds[i]=t[this._start+i];return this._start=0,0},e.prototype.prependLS=function(e,t){if(isNaN(e))throw new Error("Length must not be NaN");if(0!=e){if(e<0)throw new Error("Non-positive bound lengths are not allowed, but "+e+" was given anyway.");if(this.numBounds()>0){var n=this.boundSizeAt(0);if(Number.isNaN(n)&&Number.isNaN(t)||n===t)return void this.setBoundLengthAt(0,this.boundLengthAt(0)+e)}if(this.boundCapacity()==this.numBounds()){var r=1;this.boundCapacity()>0&&(r=2*this.boundCapacity()),this.realloc(r)}0==this._start?this._start=this.boundCapacity()-1:--this._start,++this._numBounds,this.setBoundLengthAt(0,e),this.setBoundSizeAt(0,t)}},e.prototype.boundCapacity=function(){return this._bounds?this._bounds.length/2:0},e.prototype.appendLS=function(e,t){if(isNaN(e))throw new Error("Length must not be NaN");if(0!==e){if(e<0)throw new Error("Non-positive bound lengths are not allowed, but "+e+" was given anyway.");if(this.numBounds()>0){var n=this.boundSizeAt(this.numBounds()-1);if(isNaN(n)&&isNaN(t)||n===t)return void this.setBoundLengthAt(this.numBounds()-1,this.boundLengthAt(this.numBounds()-1)+e)}if(this.boundCapacity()==this.numBounds()){var r=1;this.boundCapacity()>0&&(r=2*this.boundCapacity()),this.realloc(r)}++this._numBounds,this.setBoundLengthAt(this.numBounds()-1,e),this.setBoundSizeAt(this.numBounds()-1,t)}},e.prototype.prependSL=function(e,t){this.prependLS(t,e)},e.prototype.appendSL=function(e,t){this.appendLS(t,e)},e.prototype.adjustSize=function(e){for(var t=0;t<this.numBounds();++t){var n=this.boundSizeAt(t);isNaN(n)||this.setBoundSizeAt(t,n+e)}},e.prototype.simplify=function(){for(var e=0,t=NaN,n=0;n<this.numBounds();++n){e+=this.boundLengthAt(n);var r=this.boundSizeAt(n);isNaN(t)?t=r:isNaN(r)||(t=Math.max(t,r))}this.clear(),this.appendLS(e,t)},e.prototype.sizeAt=function(e){if(e<0)throw new Error("Negative offsets are not supported");for(var t=0,n=0;n<this.numBounds();){var r=this.boundLengthAt(n);if(e<=t+r)break;t+=r,++n}return n==this.numBounds()?NaN:this.boundSizeAt(n)},e.prototype.combineBound=function(t,n,r){var i=new e;i.appendLS(n,r),this.copyFrom(this.combinedExtent(i,t))},e.prototype.copyFrom=function(e){this._numBounds=e._numBounds,this._bounds=e._bounds,e.clear(),this.invalidateBoundingValues()},e.prototype.combineExtentAndSimplify=function(e,t,n,r,i){e.boundingValues(i);var o=i[0],s=i[2];this.boundingValues(i);var a,u=i[0],l=i[2];this.clear(),a=t<0?Math.max(u-t,o*r):Math.max(u,o*r+t),this.appendLS(a,Math.max(l,s*r+n))},e.prototype.combineExtent=function(e,t,n,r){var i=this.combinedExtent(e,t,n,r);this.copyFrom(i)},e.prototype.combinedExtent=function(e,t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),t<0){var i=e.combinedExtent(this,-t/r,-n/r,1/r);return i.scale(r),i.adjustSize(n),i}if(t>0){var s=e.clone();return s.prependLS(t/r,NaN),this.combinedExtent(s,0,n,r)}return new o.default(this,e,t,n,r).combine()},e.prototype.scale=function(e){var t=this;this.forEach((function(n,r,i){t.setBoundLengthAt(i,n*e),isNaN(t.boundSizeAt(i))||t.setBoundSizeAt(i,r*e)}))},e.prototype.separation=function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=0),void 0===r&&(r=1);var s=new i.default(this,e,t,n,r),a=0;if(t<0)for(;!s.givenAtEnd()&&s._givenPosition+s.givenBoundLength()<=-t;){var u=s.givenBoundSize();!n&&!isNaN(u)&&u>a&&(a=u+o),s.incrementGivenBound()}else for(;!s.thisAtEnd()&&s._thisPosition+this.boundLengthAt(s._thisBound)<=t;)u=s.thisBoundSize(),!n&&!isNaN(u)&&u>a&&(a=u),s.incrementThisBound();if(a=s.consume(a,o),!n)for(var l=0;!s.givenAtEnd();){if(l++>1e5)throw new Error("Extent separation timed out");var c=e.boundSizeAt(s._givenBound);isNaN(c)||(a=Math.max(a,r*c+o)),++s._givenBound}return a},e.prototype.boundingValues=function(e){if(e||(e=[NaN,NaN,NaN]),!isNaN(this._minSize))return e[0]=this._totalLength,e[1]=this._minSize,e[2]=this._maxSize,e;for(var t=0,n=NaN,r=NaN,i=0;i!=this.numBounds();++i){t+=this.boundLengthAt(i);var o=this.boundSizeAt(i);isNaN(n)?n=o:isNaN(o)||(n=Math.min(n,o)),isNaN(r)?r=o:isNaN(o)||(r=Math.max(r,o))}return e[0]=t,e[1]=n,e[2]=r,this._minSize=n,this._maxSize=r,this._totalLength=t,e},e.prototype.equals=function(e,t){if(this===e)return!0;if(!e||this.numBounds()!=e.numBounds())return!1;for(var n=0;n<this.numBounds();++n){if(!(0,r.default)(this.boundLengthAt(n),e.boundLengthAt(n),t))return!1;var i=this.boundSizeAt(n),o=e.boundSizeAt(n);if(!isNaN(i)||!isNaN(o)){if(isNaN(i)||isNaN(o))return!1;if(!(0,r.default)(this.boundSizeAt(n),e.boundSizeAt(n)))return!1}}return!0},e.prototype.dump=function(e){void 0!==e&&console.log(e);for(var t=0,n=0;n<this.numBounds();++n)console.log(t+": [length="+this.boundLengthAt(n)+", size="+this.boundSizeAt(n)+"]"),t+=this.boundLengthAt(n)},e}()},"./src/DirectionNode/Layout/Extent/ExtentCombiner.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n("./src/DirectionNode/Layout/Extent/Extent.ts");const i=function(){function e(e,t,n,r,i){this._thisExtent=e,this._givenExtent=t,this._lengthAdjustment=n,this._sizeAdjustment=r,this._scale=i,this.thisBound=0,this.thisPosition=0,this.givenBound=0,this.givenPosition=0}return e.prototype.getThisSize=function(){if(this.thisBound>=this._thisExtent.numBounds())throw new Error("Getting this bound's size past the end of this extent.");return this._thisExtent.boundSizeAt(this.thisBound)},e.prototype.getGivenSize=function(){if(this.givenBound>=this._givenExtent.numBounds())throw new Error("Getting given's size past the end of given's extent.");var e=this._givenExtent.boundSizeAt(this.givenBound);return isNaN(e)?NaN:this._scale*e+this._sizeAdjustment},e.prototype.getThisNextBound=function(){if(this.thisBound>=this._thisExtent.numBounds())throw new Error("Getting past end of this extent.");return this.thisPosition+=this._thisExtent.boundLengthAt(this.thisBound),++this.thisBound,this.thisBound!=this._thisExtent.numBounds()},e.prototype.getGivenNextBound=function(){if(this.givenBound>=this._givenExtent.numBounds())throw new Error("Getting past end of given bound.");return this.givenPosition+=this._scale*this._givenExtent.boundLengthAt(this.givenBound),++this.givenBound,this.givenBound!=this._givenExtent.numBounds()},e.prototype.givenReach=function(){return this.givenBound>=this._givenExtent.numBounds()?this.givenPosition:this.givenPosition+this._scale*this._givenExtent.boundLengthAt(this.givenBound)},e.prototype.thisReach=function(){return this.thisBound==this._thisExtent.numBounds()?this.thisPosition:this.thisPosition+this._thisExtent.boundLengthAt(this.thisBound)},e.prototype.combine=function(){for(var e=new r.Extent;this.givenBound!=this._givenExtent.numBounds()&&this.thisBound!=this._thisExtent.numBounds();){var t,n=this.getThisSize(),i=this.getGivenSize();t=isNaN(n)||isNaN(i)?isNaN(n)?i:n:Math.max(n,i),e.appendLS(Math.min(this.thisReach(),this.givenReach())-Math.max(this.thisPosition,this.givenPosition),t),this.thisReach()==this.givenReach()?(this.getThisNextBound(),this.getGivenNextBound()):this.thisReach()<this.givenReach()?this.getThisNextBound():this.getGivenNextBound()}if(this.givenBound!=this._givenExtent.numBounds())for(e.appendLS(this.givenReach()-this.thisReach(),this.getGivenSize());this.getGivenNextBound();)e.appendLS(this._scale*this._givenExtent.boundLengthAt(this.givenBound),this.getGivenSize());else if(this.thisBound!=this._thisExtent.numBounds())for(e.appendLS(this.thisReach()-this.givenReach(),this.getThisSize());this.getThisNextBound();)e.appendLS(this._thisExtent.boundLengthAt(this.thisBound),this.getThisSize());return e},e}()},"./src/DirectionNode/Layout/Extent/ExtentSeparator.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=function(){function e(e,t,n,r,i){this._thisExtent=e,this._givenExtent=t,this._thisBound=0,this._givenBound=0,this._thisPosition=0,this._positionAdjustment=n,this._allowAxisOverlap=r,this._givenScale=i,this._givenPosition=0}return e.prototype.incrementThisBound=function(){this._thisPosition+=this._thisExtent.boundLengthAt(this._thisBound),++this._thisBound},e.prototype.givenBoundLength=function(){return this._givenScale*this._givenExtent.boundLengthAt(this._givenBound)},e.prototype.givenBoundSize=function(){var e=this._givenExtent.boundSizeAt(this._givenBound);return isNaN(e)?e:this._givenScale*e},e.prototype.thisBoundSize=function(){return this._thisExtent.boundSizeAt(this._thisBound)},e.prototype.incrementGivenBound=function(){this._givenPosition+=this.givenBoundLength(),++this._givenBound},e.prototype.givenAtEnd=function(){return this._givenBound==this._givenExtent.numBounds()},e.prototype.thisAtEnd=function(){return this._thisBound==this._thisExtent.numBounds()},e.prototype.consume=function(e,t){for(;!this.givenAtEnd()&&!this.thisAtEnd();){var n,r=this._thisExtent.boundSizeAt(this._thisBound),i=this.givenBoundSize();(n=isNaN(r)||isNaN(i)?this._allowAxisOverlap?0:isNaN(r)?isNaN(i)?0:i+t:r+t:r+i)>e&&(e=n);var o=this._thisPosition+this._thisExtent.boundLengthAt(this._thisBound)-this._positionAdjustment-(this._givenPosition+this._givenScale*this._givenExtent.boundLengthAt(this._givenBound));0==o?(this.incrementGivenBound(),this.incrementThisBound()):o>0&&this.incrementGivenBound(),o<0&&this.incrementThisBound()}return e},e}()},"./src/DirectionNode/Layout/Extent/checkExtentsEqual.ts":(e,t,n)=>{function r(e,t,n){return e.node().layout().extentsAt(t).equals(n)}n.r(t),n.d(t,{checkExtentsEqual:()=>r})},"./src/DirectionNode/Layout/Extent/fuzzyequals.ts":(e,t,n)=>{n.r(t),n.d(t,{Fuzziness:()=>r,cloneFuzziness:()=>a,default:()=>u,getFuzziness:()=>s,setFuzziness:()=>o});var r=function(){function e(e){this.setFuzziness(e)}return e.prototype.setFuzziness=function(e){this._fuzziness=e},e.prototype.getFuzziness=function(){return void 0!==this._fuzziness?this._fuzziness:i.getFuzziness()},e.prototype.resetFuzziness=function(){this.setFuzziness(void 0)},e.prototype.check=function(e,t){var n=this.getFuzziness();return n?Math.abs(Math.abs(e)-Math.abs(t))<n:e===t},e}(),i=new r(1e-6);function o(e){i.setFuzziness(e)}function s(){return i.getFuzziness()}function a(){return new r(i.getFuzziness())}function u(e,t,n){var o=i;return void 0!==n&&(o=new r(n)),o.check(e,t)}},"./src/DirectionNode/Layout/Extent/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Extent:()=>r.Extent,checkExtentsEqual:()=>i.checkExtentsEqual});var r=n("./src/DirectionNode/Layout/Extent/Extent.ts"),i=n("./src/DirectionNode/Layout/Extent/checkExtentsEqual.ts")},"./src/DirectionNode/Layout/Layout.ts":(e,t,n)=>{n.r(t),n.d(t,{Layout:()=>a});var r=n("./src/DirectionNode/Layout/Extent/index.ts"),i=n("./src/Direction/index.ts"),o=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),s=n("./src/DirectionNode/Layout/LayoutPhase.ts"),a=function(){function e(e){this._node=e,this._extents=[new r.Extent,new r.Extent,new r.Extent,new r.Extent],this._layoutPhase=s.LayoutPhase.NEEDS_COMMIT,this._absoluteVersion=0,this._absoluteDirty=!0,this._absoluteXPos=NaN,this._absoluteYPos=NaN,this._absoluteScale=NaN,this._hasGroupPos=!1,this._groupXPos=NaN,this._groupYPos=NaN,this._groupScale=NaN,this._size=[NaN,NaN]}return e.prototype.setPhase=function(e){this._layoutPhase=e},e.prototype.phase=function(){return this._layoutPhase},e.prototype.needsCommit=function(){return this.phase()===s.LayoutPhase.NEEDS_COMMIT},e.prototype.setNode=function(e){this._node=e},e.prototype.node=function(){return this._node},e.prototype.commitAbsolutePos=function(){if(this.needsAbsolutePos()){this._absoluteXPos=NaN,this._absoluteYPos=NaN,this._absoluteScale=NaN;var e,t=this.node(),n=[],r=1,i=1;for(t.neighbors().isRoot()||(e=(0,o.findPaintGroup)(t.neighbors().parentNode()).layout()._absoluteVersion);;){if(t.neighbors().isRoot()){this._absoluteXPos=0,this._absoluteYPos=0;break}var s=t.neighbors().parentNode().layout();if(!s._absoluteDirty&&s._absoluteVersion===e){this._absoluteXPos=s._absoluteXPos,this._absoluteYPos=s._absoluteYPos,i=s._absoluteScale*t.scale(),r=s._absoluteScale;break}n.push(t.neighbors().parent().direction()),t=t.neighbors().parentNode()}for(var a=n.length-1;a>=0;--a){var u=n[a];this._absoluteXPos+=t.neighbors().parentX()*r,this._absoluteYPos+=t.neighbors().parentY()*r,r=i;var l=t.layout();l._absoluteDirty&&(l._absoluteXPos=this._absoluteXPos,l._absoluteYPos=this._absoluteYPos,l._absoluteScale=i,l._absoluteDirty=!1,t.neighbors().isRoot()||(l._absoluteVersion=(0,o.findPaintGroup)(t.neighbors().parentNode()).layout()._absoluteVersion)),i*=t.neighbors().nodeAt(u).scale(),t=t.neighbors().nodeAt(u)}this._absoluteXPos+=t.neighbors().parentX()*r,this._absoluteYPos+=t.neighbors().parentY()*r,this._absoluteScale=i,this._absoluteDirty=!1,this.node().neighbors().isRoot()||(this._absoluteVersion=(0,o.findPaintGroup)(this.node().neighbors().parentNode()).layout()._absoluteVersion)}},e.prototype.needsAbsolutePos=function(){return!!this._absoluteDirty||!this.node().neighbors().isRoot()&&this._absoluteVersion!==(0,o.findPaintGroup)(this.node().neighbors().parentNode()).layout()._absoluteVersion},e.prototype.needsPosition=function(){return this.node().layout().needsCommit()||!this._hasGroupPos},e.prototype.absoluteX=function(){return this._absoluteXPos},e.prototype.absoluteY=function(){return this._absoluteYPos},e.prototype.absoluteScale=function(){return this._absoluteScale},e.prototype.invalidateGroupPos=function(){this._hasGroupPos=!1},e.prototype.invalidateAbsolutePos=function(){this._absoluteDirty||++this._absoluteVersion,this._absoluteDirty=!0},e.prototype.commitGroupPos=function(){if(this.needsPosition()){for(var e=this.node(),t=[],n=1,r=1;;){if(e.neighbors().isRoot()||e.paintGroups().isPaintGroup()){this._groupXPos=0,this._groupYPos=0;break}var o=e.neighbors().parentNode().layout();if(!isNaN(o._groupXPos)){this._groupXPos=o._groupXPos,this._groupYPos=o._groupYPos,r=o._groupScale*e.scale(),n=o._groupScale;break}t.push((0,i.reverseDirection)(e.neighbors().parent().direction())),e=e.neighbors().parentNode()}for(var s=t.length-1;s>=0;--s){var a=t[s];s!==t.length-1&&(this._groupXPos+=e.neighbors().parentX()*n,this._groupYPos+=e.neighbors().parentY()*n),n=r,r*=e.neighbors().nodeAt(a).scale(),e=e.neighbors().nodeAt(a)}if(this._groupScale=r,this.node().paintGroups().isPaintGroup()||(this._groupXPos+=e.neighbors().parentX()*n,this._groupYPos+=e.neighbors().parentY()*n),isNaN(this._groupXPos))throw new Error("Calculated NaN group X pos");if(isNaN(this._groupYPos))throw new Error("Calculated NaN group Y pos");if(isNaN(this._groupScale))throw new Error("Calculated NaN group scale");this._hasGroupPos=!0}},e.prototype.groupX=function(){return this._groupXPos},e.prototype.groupY=function(){return this._groupYPos},e.prototype.groupScale=function(){return this._groupScale},e.prototype.extentsAt=function(e){var t=this._extents[e-i.Direction.DOWNWARD];if(void 0===t)throw new Error("No extents for direction: "+(0,i.nameDirection)(e));return t},e.prototype.extentOffsetAt=function(e){return this.extentsAt(e).offset()},e.prototype.setExtentOffsetAt=function(e,t){this.extentsAt(e).setOffset(t)},e.prototype.extentSize=function(e){e[1]=this.extentsAt(i.Direction.FORWARD).boundingValues()[0],e[0]=this.extentsAt(i.Direction.DOWNWARD).boundingValues()[0]},e.prototype.groupSizeRect=function(e){this.groupSize(e),e[2]=e[0],e[3]=e[1],e[0]=this.groupX(),e[1]=this.groupY()},e.prototype.absoluteSizeRect=function(e){this.absoluteSize(e),e[2]=e[0],e[3]=e[1],e[0]=this.absoluteX(),e[1]=this.absoluteY()},e.prototype.size=function(e){e&&(e[0]=this._size[0],e[1]=this._size[1])},e.prototype.setSize=function(e){this._size[0]=e[0],this._size[1]=e[1]},e.prototype.absoluteSize=function(e){this.size(e);var t=this.absoluteScale();e[0]*=t,e[1]*=t},e.prototype.groupSize=function(e){var t=this.groupScale();e[0]=this._size[0]*t,e[1]=this._size[1]*t},e.prototype.inNodeBody=function(e,t,n,r){this.size(r);var i=r,o=this.absoluteX(),s=this.absoluteY(),a=this.absoluteScale();return!(e<n*o-n*a*i[0]/2||e>n*o+n*a*i[0]/2||t<n*s-n*a*i[1]/2||t>n*s+n*a*i[1]/2)},e.prototype.inNodeExtents=function(e,t,n,r){var o=this.absoluteX(),s=this.absoluteY(),a=this.absoluteScale();return this.extentSize(r),!(e<n*o-n*a*this.extentOffsetAt(i.Direction.DOWNWARD)||e>n*o-n*a*this.extentOffsetAt(i.Direction.DOWNWARD)+n*a*r[0]||t<n*s-n*a*this.extentOffsetAt(i.Direction.FORWARD)||t>n*s-n*a*this.extentOffsetAt(i.Direction.FORWARD)+n*a*r[1])},e.prototype.nodeUnderCoords=function(e,t,n){var r;void 0===n&&(n=1);for(var o=[NaN,NaN],s=[this.node()],a=function(e,t){if(void 0!==t){if(!e.neighbors().hasChildAt(t))return;e=e.neighbors().nodeAt(t)}null!=e&&s.push(e)};s.length>0;){var u=s[s.length-1];if(null===u)return s.pop(),null!==(r=s.pop())&&void 0!==r?r:null;if(u.layout().inNodeBody(e,t,n,o)){if(u.neighbors().hasNode(i.Direction.INWARD)&&u.neighbors().nodeAt(i.Direction.INWARD).layout().inNodeExtents(e,t,n,o)){s.push(null),s.push(u.neighbors().nodeAt(i.Direction.INWARD));continue}return u}if(s.pop(),u.layout().inNodeExtents(e,t,n,o)){var l=u.layout();Math.abs(t-n*l.absoluteY())>Math.abs(e-n*l.absoluteX())?(n*l.absoluteX()>e?(a(u,i.Direction.BACKWARD),a(u,i.Direction.FORWARD)):(a(u,i.Direction.FORWARD),a(u,i.Direction.BACKWARD)),n*l.absoluteY()>t?(a(u,i.Direction.UPWARD),a(u,i.Direction.DOWNWARD)):(a(u,i.Direction.DOWNWARD),a(u,i.Direction.UPWARD))):(n*l.absoluteY()>t?(a(u,i.Direction.UPWARD),a(u,i.Direction.DOWNWARD)):(a(u,i.Direction.DOWNWARD),a(u,i.Direction.UPWARD)),n*l.absoluteX()>e?(a(u,i.Direction.BACKWARD),a(u,i.Direction.FORWARD)):(a(u,i.Direction.FORWARD),a(u,i.Direction.BACKWARD)))}}return null},e.prototype.dumpExtentBoundingRect=function(){var e=this.extentOffsetAt(i.Direction.BACKWARD);this.extentsAt(i.Direction.BACKWARD).dump("Backward extent (center at "+e+")");var t=this.extentOffsetAt(i.Direction.FORWARD);this.extentsAt(i.Direction.FORWARD).dump("Forward extent (center at "+t+")");var n=this.extentOffsetAt(i.Direction.DOWNWARD);this.extentsAt(i.Direction.DOWNWARD).dump("Downward extent (center at "+n+")");var r=this.extentOffsetAt(i.Direction.UPWARD);this.extentsAt(i.Direction.UPWARD).dump("Upward extent (center at "+r+")")},e}()},"./src/DirectionNode/Layout/LayoutPhase.ts":(e,t,n)=>{var r;function i(e){switch(e){case r.NULL:return"NULL";case r.NEEDS_COMMIT:return"NEEDS_COMMIT";case r.COMMITTED:return"COMMITTED";case r.IN_COMMIT:return"IN_COMMIT"}throw new Error("Unknown LayoutPhase given: "+e)}n.r(t),n.d(t,{LayoutPhase:()=>r,nameLayoutPhase:()=>i}),function(e){e[e.NULL=0]="NULL",e[e.NEEDS_COMMIT=1]="NEEDS_COMMIT",e[e.COMMITTED=2]="COMMITTED",e[e.IN_COMMIT=3]="IN_COMMIT"}(r||(r={}))},"./src/DirectionNode/Layout/index.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>o.CommitLayout,Extent:()=>i.Extent,Layout:()=>r.Layout,LayoutPhase:()=>s.LayoutPhase,checkExtentsEqual:()=>i.checkExtentsEqual,nameLayoutPhase:()=>s.nameLayoutPhase});var r=n("./src/DirectionNode/Layout/Layout.ts"),i=n("./src/DirectionNode/Layout/Extent/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/index.ts"),s=n("./src/DirectionNode/Layout/LayoutPhase.ts")},"./src/DirectionNode/Neighbors/Alignment.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Alignment:()=>r,default:()=>i,nameAlignment:()=>o,readAlignment:()=>s}),function(e){e[e.NULL=0]="NULL",e[e.NONE=1]="NONE",e[e.NEGATIVE=2]="NEGATIVE",e[e.CENTER=3]="CENTER",e[e.POSITIVE=4]="POSITIVE",e[e.INWARD_HORIZONTAL=5]="INWARD_HORIZONTAL",e[e.INWARD_VERTICAL=6]="INWARD_VERTICAL"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.NONE:return"NONE";case r.NEGATIVE:return"NEGATIVE";case r.CENTER:return"CENTER";case r.POSITIVE:return"POSITIVE";case r.INWARD_HORIZONTAL:return"HORIZONTAL";case r.INWARD_VERTICAL:return"VERTICAL"}throw new Error("Unknown Alignment given: "+e)}function s(e){if("number"==typeof e)return e;if("string"==typeof e)switch(e=e.toLowerCase()){case"none":case"no":return r.NONE;case"negative":case"neg":case"n":return r.NEGATIVE;case"positive":case"pos":case"p":return r.POSITIVE;case"center":case"c":return r.CENTER;case"vertical":case"v":return r.INWARD_VERTICAL;case"horizontal":case"h":return r.INWARD_HORIZONTAL}return r.NULL}},"./src/DirectionNode/Neighbors/AxisOverlap.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{AxisOverlap:()=>r,default:()=>i,nameAxisOverlap:()=>o,readAxisOverlap:()=>s}),function(e){e[e.NULL=18]="NULL",e[e.ALLOWED=19]="ALLOWED",e[e.PREVENTED=20]="PREVENTED",e[e.DEFAULT=21]="DEFAULT"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.ALLOWED:return"ALLOWED";case r.PREVENTED:return"PREVENTED";case r.DEFAULT:return"DEFAULT"}throw new Error("Unknown AxisOverlap given: "+e)}function s(e){if("number"==typeof e)return e;if("string"==typeof e)switch(e=e.toLowerCase()){case"a":case"allow":case"allowed":return r.ALLOWED;case"p":case"prevent":case"prevented":return r.PREVENTED;case"d":case"def":case"default":case"defaulted":return r.DEFAULT}return r.NULL}},"./src/DirectionNode/Neighbors/Neighbor.ts":(e,t,n)=>{n.r(t),n.d(t,{Neighbor:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Neighbors/Alignment.ts"),o=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),s=function(){function e(e,t){this._node=e,this._direction=t,this._neighbor=void 0,this._alignment=i.default.NULL,this._alignmentOffset=0,this._allowAxisOverlap=o.default.DEFAULT,this._separation=0,this._lineLength=0,this._xPos=NaN,this._yPos=NaN}return e.prototype.separation=function(){return this._separation},e.prototype.setSeparation=function(e){this._separation=e},e.prototype.alignmentOffset=function(){return this._alignmentOffset},e.prototype.setAlignmentOffset=function(e){this._alignmentOffset=e},e.prototype.lineLength=function(){return this._lineLength},e.prototype.setLineLength=function(e){this._lineLength=e},e.prototype.axisOverlap=function(){return this._allowAxisOverlap},e.prototype.setAxisOverlap=function(e){this._allowAxisOverlap=e},e.prototype.getAlignment=function(){return this._alignment},e.prototype.align=function(e){this._alignment=e},e.prototype.xPos=function(){return this._xPos},e.prototype.yPos=function(){return this._yPos},e.prototype.setPos=function(e,t){this._xPos=e,this._yPos=t},e.prototype.direction=function(){return this._direction},e.prototype.reverseDirection=function(){return(0,r.reverseDirection)(this._direction)},e.prototype.meet=function(e){this._neighbor=e},e.prototype.leave=function(){this._neighbor=void 0},e.prototype.neighbor=function(){return this._neighbor},e.prototype.node=function(){return this._node},e}()},"./src/DirectionNode/Neighbors/Neighbors.ts":(e,t,n)=>{n.r(t),n.d(t,{Neighbors:()=>a});var r=n("./src/DirectionNode/Neighbors/Neighbor.ts"),i=n("./src/Direction/index.ts"),o=n("./src/DirectionNode/Neighbors/Alignment.ts"),s=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),a=function(){function e(e){this._node=e,this._neighbors=new Array(i.NUM_DIRECTIONS)}return e.prototype.assignParent=function(e,t){if(e){if(void 0!==t&&(this._parentNeighbor=e.neighbors().at(t)),!this._parentNeighbor)throw new Error("Parent neighbor not found")}else this._parentNeighbor=void 0},e.prototype.parent=function(){if(!this._parentNeighbor)throw new Error("Node has no parent");return this._parentNeighbor},e.prototype.parentDirection=function(){if(!this.isRoot())return(0,i.reverseDirection)(this.parent().direction())},e.prototype.parentNode=function(){if(this.isRoot())throw new Error("Node has no parent");return this.parent().node()},e.prototype.node=function(){return this._node},e.prototype.at=function(e){return this._neighbors[e]},e.prototype.ensure=function(e){return this.at(e)||(this._neighbors[e]=new r.Neighbor(this.node(),e)),this.at(e)},e.prototype.hasNode=function(e){var t;return void 0!==e&&(!(!this.at(e)||!this.at(e).neighbor())||!this.isRoot()&&(null===(t=this.parent())||void 0===t?void 0:t.reverseDirection())===e)},e.prototype.hasNodes=function(e){var t=[void 0,void 0];return this.hasNode((0,i.getNegativeDirection)(e))&&(t[0]=(0,i.getNegativeDirection)(e)),this.hasNode((0,i.getPositiveDirection)(e))&&(t[1]=(0,i.getPositiveDirection)(e)),t},e.prototype.hasChildAt=function(e){return this.isRoot()?this.hasNode(e):this.hasNode(e)&&this.parentDirection()!==e},e.prototype.hasChild=function(e){return this.hasChildAt(e)},e.prototype.hasAncestor=function(e){for(var t,n=this.node();!n.neighbors().isRoot();){if(n==e)return!0;if(!(n=null===(t=n.neighbors().parent())||void 0===t?void 0:t.node()))throw new Error("node was not root but had no parent")}return n==e},e.prototype.hasAnyNeighbors=function(){return this.hasChildAt(i.Direction.DOWNWARD)||this.hasChildAt(i.Direction.UPWARD)||this.hasChildAt(i.Direction.FORWARD)||this.hasChildAt(i.Direction.BACKWARD)||this.hasChildAt(i.Direction.INWARD)},e.prototype.nodeAt=function(e){var t,n=this.at(e);if(n){var r=n.neighbor();if(!r)throw new Error("No node for neighbor");return r}if(!this.isRoot()&&this.parent().reverseDirection()===e){var i=null===(t=this.parent())||void 0===t?void 0:t.node();if(!i)throw new Error("Parent neighbor has no node");return i}},e.prototype.root=function(){for(var e,t=this.node();!t.neighbors().isRoot();){var n=null===(e=t.neighbors().parent())||void 0===e?void 0:e.node();if(!n)break;t=n}return t},e.prototype.isRoot=function(){return!this._parentNeighbor},e.prototype.isRootlike=function(){var e,t;return this.isRoot()||(null===(e=this.parent())||void 0===e?void 0:e.direction())===i.Direction.INWARD||(null===(t=this.parent())||void 0===t?void 0:t.direction())===i.Direction.OUTWARD},e.prototype.lineLengthAt=function(e){return this.hasNode(e)?this.at(e).lineLength():0},e.prototype.separationAt=function(e){if(!(0,i.isCardinalDirection)(e))throw new Error("Direction for separation must be cardinal");if(!this.isRoot()&&e==this.parentDirection())return this.parentNode().neighbors().separationAt((0,i.reverseDirection)(e));if(!this.node().neighbors().hasNode(e))throw new Error("Node must have a child in the given direction");return this.at(e).separation()},e.prototype.getAlignment=function(e){return this.hasNode(e)?this.at(e).getAlignment():o.Alignment.NULL},e.prototype.getParentDirection=function(){if(this.isRoot())throw new Error("Node has no parent");var e=this.parentDirection();if(void 0===e)throw new Error("Node is not root but has no parent direction");return e},e.prototype.align=function(e,t){if(void 0===t){if(this.isRoot())throw new Error("Alignment must have a parent if self-directed");return this.parentNode().neighbors().align((0,i.reverseDirection)(this.getParentDirection()),e)}this.ensure(e).align(t),this.node().invalidate()},e.prototype.axisOverlap=function(e){if(void 0===e){if(this.isRoot())throw new Error("Axis overlap must be set to a parent if no direction is given");return this.parentNode().neighbors().axisOverlap((0,i.reverseDirection)(this.getParentDirection()))}return this.hasNode(e)?this.at(e).axisOverlap():s.AxisOverlap.NULL},e.prototype.setAxisOverlap=function(e,t){if(void 0===t){if(this.isRoot())throw new Error("Axis overlap must be set to a parent if no direction is given");return this.parentNode().neighbors().setAxisOverlap((0,i.reverseDirection)(this.getParentDirection()),e)}this.ensure(e).setAxisOverlap(t),this.node().invalidate()},e.prototype.parentX=function(){var e,t;return this.isRoot()?0:null!==(t=null===(e=this.parent())||void 0===e?void 0:e.xPos())&&void 0!==t?t:NaN},e.prototype.parentY=function(){var e,t;return this.isRoot()?0:null!==(t=null===(e=this.parent())||void 0===e?void 0:e.yPos())&&void 0!==t?t:NaN},e}()},"./src/DirectionNode/Neighbors/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>r.Alignment,AxisOverlap:()=>i.AxisOverlap,Neighbor:()=>o.Neighbor,Neighbors:()=>s.Neighbors,nameAlignment:()=>r.nameAlignment,nameAxisOverlap:()=>i.nameAxisOverlap,readAlignment:()=>r.readAlignment,readAxisOverlap:()=>i.readAxisOverlap});var r=n("./src/DirectionNode/Neighbors/Alignment.ts"),i=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),o=n("./src/DirectionNode/Neighbors/Neighbor.ts"),s=n("./src/DirectionNode/Neighbors/Neighbors.ts")},"./src/DirectionNode/PaintGroups/PaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroup:()=>a});var r=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),i=n("./src/DirectionNode/PaintGroups/findPaintGroupInsert.ts"),o=n("./src/DirectionNode/PaintGroups/getLastPaintGroup.ts"),s=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),a=function(){function e(e,t){var n=this;if(this._node=e,this._next=this._node,this._prev=this._node,this._explicit=t,this.node().neighbors().isRoot()){var r=this.firstAndLast(),o=r[0],s=r[1];o&&s&&(this.connect(o.paintGroup().prev(),s.paintGroup().next()),this.connect(this.node(),o),this.connect(s,this.node()))}else{var a=this.node().neighbors().parent();if(!a)throw new Error("Node must have a parent if it is not root");a.node().siblings().removeFromLayout(a.direction());var u=a.node().paintGroup(),l=(0,i.findPaintGroupInsert)(u.node(),this.node()),c=l[0],h=l[1];this.connect(c,this.node()),this.connect(this.node(),h)}this.node().invalidate(),this.node().siblings().forEach((function(e){return e.paintGroups().setPaintGroupNode(n.node())})),this.verify()}return e.prototype.clearExplicit=function(){this._explicit=!1},e.prototype.firstAndLast=function(){var e=(0,r.findPaintGroup)(this.node());if(!e.paintGroups().isPaintGroup())return[null,null];for(var t=null,n=null,i=e.paintGroup().next();i!=e&&i.neighbors().hasAncestor(e);i=i.paintGroup().next())i.neighbors().hasAncestor(this.node())&&(t?n=i:(n=i,t=i));return t||(n=this.node(),t=this.node()),[(null==n?void 0:n.paintGroups().isPaintGroup())?n:null,t.paintGroups().isPaintGroup()?t:null]},e.prototype.node=function(){return this._node},e.prototype.connect=function(e,t){var n=e===this.node()?this:e.paintGroup();if(!n)throw new Error("a paint group is missing");n._next=t;var r=t===this.node()?this:t.paintGroup();if(!r)throw new Error("b paint group is missing");r._prev=e},e.prototype.next=function(){return this._next},e.prototype.prev=function(){return this._prev},e.prototype.explicit=function(){return this._explicit},e.prototype.append=function(e){var t=(0,i.findPaintGroupInsert)(this.node(),e),n=t[0],r=t[1],s=(0,o.getLastPaintGroup)(e);this.connect(n,e),this.connect(s,r),this.verify()},e.prototype.merge=function(e){var t=(0,i.findPaintGroupInsert)(this.node(),e),n=t[0],r=t[1],o=n,s=e.paintGroup().next(),a=e.paintGroup().prev();this.connect(o,s),this.connect(a,r),this.verify()},e.prototype.disconnect=function(){var e=(0,o.getLastPaintGroup)(this.node());this.connect(this.node().paintGroup().prev(),e.paintGroup().next()),this.connect(e,this.node()),this.verify()},e.prototype.verify=function(){for(var e=(0,s.default)(),t=this.next();t!==this.node();t=t.paintGroup().next())e();for(t=this.prev();t!==this.node();t=t.paintGroup().prev())e()},e.prototype.crease=function(){this._explicit=!0},e.prototype.uncrease=function(){if(this._explicit=!1,!this.node().neighbors().isRoot()){var e=this.node().neighbors().parent();if(!e)throw new Error("Node is root but has no parent");var t=this.node().paintGroup().last();e.node().siblings().insertIntoLayout(e.direction()),t!==this.node()?this.connect(t,this.next()):this.connect(this.prev(),this.next()),this._next=this.node(),this._prev=this.node();var n=(0,r.findPaintGroup)(e.node());n.siblings().forEach((function(e){return e.paintGroups().setPaintGroupNode(n)})),this.node().paintGroups().clearPaintGroup(),this.node().invalidate(),this.verify()}},e.prototype.last=function(){for(var e=this.node().siblings().prev();e!==this.node()&&!e.paintGroups().isPaintGroup();)e=e.siblings().prev();return e},e.prototype.forEach=function(e){var t=this.node(),n=t;do{if(!t.paintGroups().isPaintGroup())throw new Error("Paint group returned is not a paint group");if(e(t),n===(t=t.paintGroup().prev())&&t!==this.node())throw new Error("loop detected");n=t}while(t!==this.node())},e.prototype.dump=function(){var e=[],t=this.node(),n=(0,s.default)();do{e.push(t),t=t.paintGroup().next(),n()}while(t!==this.node());return e},e}()},"./src/DirectionNode/PaintGroups/PaintGroups.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroups:()=>i});var r=n("./src/DirectionNode/PaintGroups/PaintGroup.ts"),i=function(){function e(e){this._node=e,this._paintGroupNode=e,this._paintGroup=void 0}return e.prototype.node=function(){return this._node},e.prototype.isPaintGroup=function(){return!!this._paintGroup},e.prototype.clearPaintGroup=function(){this._paintGroup=void 0},e.prototype.paintGroupNode=function(){return this._paintGroupNode},e.prototype.setPaintGroupNode=function(e){if(!e)throw new Error("Refusing to set paint group root to null");this._paintGroupNode=e},e.prototype.paintGroup=function(){if(!this._paintGroup){var e=this.paintGroupNode();if(!e)throw new Error("Paint group root is null");if(e===this.node())throw new Error("This root paint group doesn't have a paint group object");return e.paintGroups().paintGroup()}return this._paintGroup},e.prototype.setPaintGroup=function(e){this._paintGroup=e},e.prototype.crease=function(){this.isPaintGroup()?this.paintGroup().crease():this._paintGroup=new r.PaintGroup(this.node(),!0)},e.prototype.uncrease=function(){this.paintGroup()&&this.paintGroup().uncrease()},e}()},"./src/DirectionNode/PaintGroups/comesBefore.ts":(e,t,n)=>{n.r(t),n.d(t,{comesBefore:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/PaintGroups/pathToRoot.ts"),o=function(e,t){if(e===t)return!1;if(e.neighbors().isRoot())return!0;if(t.neighbors().isRoot())return!1;var n=(0,i.pathToRoot)(e).reverse(),o=(0,i.pathToRoot)(t).reverse(),s=0;for(s=0;s<Math.min(o.length,n.length)&&o[s]===n[s];++s);if(--s<0)return!1;var a=n[s];if(a===e)return!0;if(a===t)return!1;var u=a.siblings().layoutOrder(),l=function(e){return u.indexOf((0,r.reverseDirection)(e[s+1].neighbors().parentDirection()))};return l(n)<l(o)}},"./src/DirectionNode/PaintGroups/findClosestPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{findClosestPaintGroup:()=>i});var r=n("./src/DirectionNode/PaintGroups/findDistance.ts"),i=function(e,t){var n=t.map((function(t){return(0,r.findDistance)(e,t)}));return t[n.reduce((function(e,t,r){return-1===e||t<=n[e]?r:e}),-1)]}},"./src/DirectionNode/PaintGroups/findDistance.ts":(e,t,n)=>{n.r(t),n.d(t,{findDistance:()=>i});var r=n("./src/DirectionNode/PaintGroups/pathToRoot.ts"),i=function(e,t){if(e===t)return 0;var n=(0,r.pathToRoot)(e).reverse(),i=(0,r.pathToRoot)(t).reverse(),o=0;for(o=0;o<Math.min(i.length,n.length)&&i[o]===n[o];++o);return 0===o?1/0:n.length-o+(i.length-o)}},"./src/DirectionNode/PaintGroups/findPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{findPaintGroup:()=>r});var r=function(e){if(!e.paintGroups().paintGroupNode()){for(var t=e;!t.neighbors().isRoot()&&!t.paintGroups().isPaintGroup();){if(t.paintGroups().paintGroupNode())return e.paintGroups().setPaintGroupNode(t.paintGroups().paintGroupNode()),e.paintGroups().paintGroupNode();t=t.neighbors().parentNode()}e.paintGroups().setPaintGroupNode(t)}return e.paintGroups().paintGroupNode()}},"./src/DirectionNode/PaintGroups/findPaintGroupInsert.ts":(e,t,n)=>{n.r(t),n.d(t,{findPaintGroupInsert:()=>a});var r=n("./src/DirectionNode/PaintGroups/findClosestPaintGroup.ts"),i=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),o=n("./src/DirectionNode/PaintGroups/comesBefore.ts"),s=n("./src/DirectionNode/PaintGroups/getLastPaintGroup.ts"),a=function e(t,n){if(!t.paintGroups().isPaintGroup())return e(t.paintGroup().node(),n);for(var a=[],u=(0,i.default)(),l=t.paintGroup().next();l!==t;)a.push(l),u(),l=l.paintGroup().next();a.push((0,s.getLastPaintGroup)(t));var c=(0,r.findClosestPaintGroup)(n,a);if((0,o.comesBefore)(c,n)){var h=(0,s.getLastPaintGroup)(c);return[h,h.paintGroup().next()]}return[c.paintGroup().prev(),c]}},"./src/DirectionNode/PaintGroups/getLastPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{getLastPaintGroup:()=>i});var r=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),i=function(e){for(var t=e.paintGroups().isPaintGroup()?e.paintGroup().next():e,n=(0,r.default)();t!==e;){if(!t.neighbors().hasAncestor(e))return t.paintGroup().prev();t=t.paintGroup().next(),n()}return t===e?t.paintGroup().prev():t}},"./src/DirectionNode/PaintGroups/index.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroup:()=>i.PaintGroup,PaintGroups:()=>r.PaintGroups});var r=n("./src/DirectionNode/PaintGroups/PaintGroups.ts"),i=n("./src/DirectionNode/PaintGroups/PaintGroup.ts")},"./src/DirectionNode/PaintGroups/makeLimit.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=function(e){void 0===e&&(e=5e4);var t=0;return function(){if(++t>e)throw new Error("Endless loop after "+t+" iterations: ")}}},"./src/DirectionNode/PaintGroups/pathToRoot.ts":(e,t,n)=>{n.r(t),n.d(t,{pathToRoot:()=>i});var r=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),i=function(e){for(var t=[],n=(0,r.default)();!e.neighbors().isRoot();)t.push(e),e=e.neighbors().parentNode(),n();return t.push(e),t}},"./src/DirectionNode/Siblings/PreferredAxis.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{PreferredAxis:()=>r,default:()=>i,namePreferredAxis:()=>o,readPreferredAxis:()=>s}),function(e){e[e.NULL=0]="NULL",e[e.PARENT=1]="PARENT",e[e.PERPENDICULAR=2]="PERPENDICULAR",e[e.HORIZONTAL=3]="HORIZONTAL",e[e.VERTICAL=4]="VERTICAL"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.PARENT:return"PARENT";case r.PERPENDICULAR:return"PERPENDICULAR";case r.HORIZONTAL:return"HORIZONTAL";case r.VERTICAL:return"VERTICAL"}throw new Error("Unknown PreferredAxis given: "+e)}function s(e){if("number"==typeof e)return e;switch(e=e.toLowerCase()){case"pa":case"par":case"parent":return r.PARENT;case"pe":case"perp":case"perpendicular":return r.PERPENDICULAR;case"v":case"vert":case"vertical":return r.VERTICAL;case"h":case"horz":case"horizontal":return r.HORIZONTAL}return r.NULL}},"./src/DirectionNode/Siblings/Siblings.ts":(e,t,n)=>{n.r(t),n.d(t,{Siblings:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Siblings/PreferredAxis.ts"),o=[r.Direction.INWARD,r.Direction.BACKWARD,r.Direction.FORWARD,r.Direction.DOWNWARD,r.Direction.UPWARD,r.Direction.OUTWARD],s=[r.Direction.INWARD,r.Direction.DOWNWARD,r.Direction.UPWARD,r.Direction.BACKWARD,r.Direction.FORWARD,r.Direction.OUTWARD],a=function(){function e(e){this._node=e,this._prev=this._node,this._next=this._node,this._layoutPreference=i.PreferredAxis.HORIZONTAL}return e.prototype.forEach=function(e){var t=this.node();do{e(t),t=t.siblings().prev()}while(t!==this.node())},e.prototype.node=function(){return this._node},e.prototype.verify=function(){for(var e=0,t=this.next();t!==this.node();t=t.siblings().next()){if(e>1e5)throw new Error;++e}},e.prototype.removeFromLayout=function(e){var t=this.node().neighbors().nodeAt(e);if(t){var n=this.node().siblings().earlier(e),r=t.siblings().head(t);n?this.connect(n,t.siblings().next()):this.connect(r.siblings().prev(),t.siblings().next()),this.connect(t,r),this.verify(),t.siblings().verify()}},e.prototype.connect=function(e,t){e.siblings()._next=t,t.siblings()._prev=e},e.prototype.insertIntoLayout=function(e){var t=this.node().neighbors().nodeAt(e);if(t){var n=t.siblings().head(),r=this.node().siblings().later(e),i=this.node().siblings().earlier(e),o=t;i?this.connect(i,n):r?this.connect(r.siblings().head().siblings().prev(),n):this.connect(this.prev(),n),r?this.connect(o,r.siblings().head()):this.connect(o,this.node()),this.verify()}},e.prototype.next=function(){return this._next},e.prototype.prev=function(){return this._prev},e.prototype.head=function(e){for(var t,n,r=this.node();;){n=!1;for(var i=r.siblings().layoutOrder(),o=0;o<i.length;++o){var s=i[o],a=r.neighbors().hasNode(s)?r.neighbors().nodeAt(s):void 0;if(a&&a!=e&&(null===(t=r.neighbors().parent())||void 0===t?void 0:t.reverseDirection())!==s&&!a.paintGroups().isPaintGroup()){r=a,n=!0;break}}if(!n)break}return r},e.prototype.earlier=function(e){for(var t,n,r=this.node().siblings().layoutOrder(),i=!1,o=r.length-1;o>=0;--o){var s=r[o];if(s!==e){if(i&&(this.node().neighbors().isRoot()||s!==(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection()))&&this.node().neighbors().hasNode(s)){var a=this.node().neighbors().nodeAt(s);if(a&&!a.paintGroups().isPaintGroup()){n=a;break}}}else i=!0}return n},e.prototype.later=function(e){for(var t,n,r=this.node().siblings().layoutOrder(),i=!1,o=0;o<r.length;++o){var s=r[o];if(s!==e){if(i&&(this.node().neighbors().isRoot()||s!==(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection()))&&this.node().neighbors().hasNode(s)){var a=this.node().neighbors().nodeAt(s);if(a&&!a.paintGroups().isPaintGroup()){n=a;break}}}else i=!0}return n},e.prototype.horzToVert=function(){var e=this.node().neighbors().isRoot()?null:this.node().neighbors().parentDirection(),t=e===r.Direction.BACKWARD?null:this.node().neighbors().nodeAt(r.Direction.BACKWARD),n=e===r.Direction.FORWARD?null:this.node().neighbors().nodeAt(r.Direction.FORWARD),i=e===r.Direction.UPWARD?null:this.node().neighbors().nodeAt(r.Direction.UPWARD),o=e===r.Direction.DOWNWARD?null:this.node().neighbors().nodeAt(r.Direction.DOWNWARD),s=t||n;s&&(s=s.siblings().head());var a=n||t,u=o||i;u&&(u=u.siblings().head());var l=i||o;if(s&&u){var c=s.siblings().prev();if(!l)throw new Error("Undefined siblings");var h=l.siblings().next();if(!l||!a||!h)throw new Error("Undefined siblings");this.connect(c,u),this.connect(a,h),this.connect(l,s),this.verify()}},e.prototype.vertToHorz=function(){var e=this.node().neighbors().isRoot()?null:this.node().neighbors().parentDirection(),t=e===r.Direction.BACKWARD?null:this.node().neighbors().nodeAt(r.Direction.BACKWARD),n=e===r.Direction.FORWARD?null:this.node().neighbors().nodeAt(r.Direction.FORWARD),i=e===r.Direction.UPWARD?null:this.node().neighbors().nodeAt(r.Direction.UPWARD),o=e===r.Direction.DOWNWARD?null:this.node().neighbors().nodeAt(r.Direction.DOWNWARD),s=t||n;s&&(s=s.siblings().head());var a=n||t,u=o||i;u&&(u=u.siblings().head());var l=i||o;if(s&&u){if(!l||!a)throw new Error("Undefined siblings");this.connect(u.siblings().prev(),s),this.connect(l,a.siblings().next()),this.connect(a,u),this.verify()}},e.prototype.dump=function(){var e=[],t=this.node();do{t=t.siblings().next(),e.push(t)}while(t!==this.node());return e},e.prototype.sanitizeLayoutPreference=function(e){var t,n=null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.direction();if(void 0===n)throw new Error("Cannot sanitize root layout preference");var o=(0,r.getDirectionAxis)(n);return e===i.PreferredAxis.VERTICAL?e=o===r.Axis.VERTICAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR:e===i.PreferredAxis.HORIZONTAL&&(e=o===r.Axis.HORIZONTAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR),e},e.prototype.getLayoutPreference=function(){return this._layoutPreference},e.prototype.convertLayoutPreference=function(e){var t=this.node();t.siblings().getLayoutPreference()===i.PreferredAxis.PARENT?r.Axis.VERTICAL===(0,r.getDirectionAxis)(e)?t.siblings()._layoutPreference=i.PreferredAxis.VERTICAL:t.siblings()._layoutPreference=i.PreferredAxis.HORIZONTAL:t.siblings().getLayoutPreference()===i.PreferredAxis.PERPENDICULAR&&(r.Axis.VERTICAL===(0,r.getDirectionAxis)(e)?t.siblings()._layoutPreference=i.PreferredAxis.HORIZONTAL:t.siblings()._layoutPreference=i.PreferredAxis.VERTICAL)},e.prototype.canonicalLayoutPreference=function(){var e;if(this.node().neighbors().isRoot())throw new Error("Root nodes do not have a canonical layout preference");var t=null===(e=this.node().neighbors().parent())||void 0===e?void 0:e.direction();if(void 0===t)throw new Error("Node is not root but has no parent");var n=this.getLayoutPreference();switch(this.getLayoutPreference()){case i.PreferredAxis.HORIZONTAL:n=(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR;break;case i.PreferredAxis.VERTICAL:n=(0,r.getDirectionAxis)(t)===r.Axis.VERTICAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR;break;case i.PreferredAxis.PERPENDICULAR:case i.PreferredAxis.PARENT:n=this.getLayoutPreference();break;case i.PreferredAxis.NULL:throw new Error("Node's PreferredAxis must not be null")}return n},e.prototype.setLayoutPreference=function(e){var t;if(this.node().neighbors().isRoot()){if(e!==i.PreferredAxis.VERTICAL&&e!==i.PreferredAxis.HORIZONTAL)throw new Error("Root layout preference can only be VERTICAL or HORIZONTAL");if(this.getLayoutPreference()===e)return;return e===i.PreferredAxis.VERTICAL?this.horzToVert():this.vertToHorz(),void(this._layoutPreference=e)}e=this.sanitizeLayoutPreference(e);var n=this.canonicalLayoutPreference();if(this._layoutPreference=e,n!==this.canonicalLayoutPreference()){var o=null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.direction();if(!o)throw new Error("unreachable");var s=(0,r.getDirectionAxis)(o);n===i.PreferredAxis.PARENT?s===r.Axis.HORIZONTAL?this.horzToVert():this.vertToHorz():s===r.Axis.VERTICAL?this.horzToVert():this.vertToHorz(),this.node().invalidate()}},e.prototype.pull=function(e){var t,n;if(this.node().neighbors().isRoot()||(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection())===r.Direction.OUTWARD)(0,r.isVerticalDirection)(e)?this.setLayoutPreference(i.PreferredAxis.VERTICAL):this.setLayoutPreference(i.PreferredAxis.HORIZONTAL);else{var o=null===(n=this.node().neighbors().parent())||void 0===n?void 0:n.direction();if(void 0===o)throw new Error("unreachable");(0,r.getDirectionAxis)(e)===(0,r.getDirectionAxis)(o)?this.setLayoutPreference(i.PreferredAxis.PARENT):this.setLayoutPreference(i.PreferredAxis.PERPENDICULAR)}},e.prototype.layoutOrder=function(){var e;if(this.node().neighbors().isRoot())return this.getLayoutPreference()===i.PreferredAxis.HORIZONTAL||this.getLayoutPreference()===i.PreferredAxis.PERPENDICULAR?o:s;var t=null===(e=this.node().neighbors().parent())||void 0===e?void 0:e.direction();if(void 0===t)throw new Error("unreachable");return this.canonicalLayoutPreference()===i.PreferredAxis.PERPENDICULAR?(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?s:o:(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?o:s},e}()},"./src/DirectionNode/Siblings/index.ts":(e,t,n)=>{n.r(t),n.d(t,{PreferredAxis:()=>i.PreferredAxis,Siblings:()=>r.Siblings,namePreferredAxis:()=>i.namePreferredAxis,readPreferredAxis:()=>i.readPreferredAxis});var r=n("./src/DirectionNode/Siblings/Siblings.ts"),i=n("./src/DirectionNode/Siblings/PreferredAxis.ts")},"./src/DirectionNode/connectNode.ts":(e,t,n)=>{n.r(t),n.d(t,{connectNode:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Neighbors/Alignment.ts"),o=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),s=function(e,t,n){if(t==r.Direction.OUTWARD)throw new Error("By rule, nodes cannot be spawned in the outward direction.");if(void 0===t)throw new Error("Direction must not be undefined");if(t===e.neighbors().parentDirection())throw new Error("Cannot connect a node in the parent's direction");e.neighbors().hasNode(t)&&e.disconnect(t),n.neighbors().isRoot()||n.disconnect(),n.neighbors().hasNode((0,r.reverseDirection)(t))&&n.disconnect((0,r.reverseDirection)(t));var s=e.neighbors().ensure(t);return s.getAlignment()===i.default.NULL&&s.align(i.default.NONE),s.meet(n),n.neighbors().assignParent(e,t),n.paintGroups().paintGroup().explicit()?(0,o.findPaintGroup)(e).paintGroups().paintGroup().append(n):(e.siblings().insertIntoLayout(t),n.paintGroups().setPaintGroupNode(e.paintGroups().paintGroupNode()),n.siblings().forEach((function(t){return t.paintGroups().setPaintGroupNode(e.paintGroups().paintGroupNode())})),n.paintGroups().paintGroup().next()!==n&&(0,o.findPaintGroup)(e).paintGroups().paintGroup().merge(n),n.paintGroups().clearPaintGroup()),e.invalidate(),n}},"./src/DirectionNode/disconnectNode.ts":(e,t,n)=>{n.r(t),n.d(t,{disconnectNode:()=>i});var r=n("./src/Direction/index.ts"),i=function(e,t){if(void 0===t)return e.neighbors().isRoot()?e:e.neighbors().parentNode().disconnect((0,r.reverseDirection)(e.neighbors().parentDirection()));if(e.neighbors().hasNode(t)){if(!e.neighbors().isRoot()&&e.neighbors().parentDirection()===t)return e.neighbors().parentNode().disconnect((0,r.reverseDirection)(e.neighbors().parentDirection()));var n=e.neighbors().at(t),i=n.neighbor(),o=!i.paintGroups().isPaintGroup();return i.paintGroups().isPaintGroup()||i.paintGroups().crease(),n.leave(),i.neighbors().assignParent(void 0),i.paintGroups().paintGroup().disconnect(),o&&i.paintGroups().paintGroup().clearExplicit(),i.siblings().convertLayoutPreference(t),e.invalidate(),i}}},"./src/DirectionNode/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>u.Alignment,AxisOverlap:()=>u.AxisOverlap,CommitLayout:()=>a.CommitLayout,DirectionNode:()=>r.DirectionNode,Extent:()=>a.Extent,Fit:()=>s.Fit,Layout:()=>a.Layout,LayoutPhase:()=>a.LayoutPhase,Neighbor:()=>u.Neighbor,Neighbors:()=>u.Neighbors,PaintGroup:()=>o.PaintGroup,PaintGroups:()=>o.PaintGroups,PreferredAxis:()=>i.PreferredAxis,Siblings:()=>i.Siblings,checkExtentsEqual:()=>a.checkExtentsEqual,nameAlignment:()=>u.nameAlignment,nameAxisOverlap:()=>u.nameAxisOverlap,nameFit:()=>s.nameFit,nameLayoutPhase:()=>a.nameLayoutPhase,namePreferredAxis:()=>i.namePreferredAxis,readAlignment:()=>u.readAlignment,readAxisOverlap:()=>u.readAxisOverlap,readFit:()=>s.readFit,readPreferredAxis:()=>i.readPreferredAxis});var r=n("./src/DirectionNode/DirectionNode.ts"),i=n("./src/DirectionNode/Siblings/index.ts"),o=n("./src/DirectionNode/PaintGroups/index.ts"),s=n("./src/DirectionNode/Fit.ts"),a=n("./src/DirectionNode/Layout/index.ts"),u=n("./src/DirectionNode/Neighbors/index.ts")},"./src/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>i.Alignment,Axis:()=>r.Axis,AxisOverlap:()=>i.AxisOverlap,CommitLayout:()=>i.CommitLayout,Direction:()=>r.Direction,DirectionCaret:()=>o.DirectionCaret,DirectionNode:()=>i.DirectionNode,Extent:()=>i.Extent,Fit:()=>i.Fit,Layout:()=>i.Layout,LayoutPhase:()=>i.LayoutPhase,NUM_DIRECTIONS:()=>r.NUM_DIRECTIONS,Neighbor:()=>i.Neighbor,Neighbors:()=>i.Neighbors,PaintGroup:()=>i.PaintGroup,PaintGroups:()=>i.PaintGroups,PreferredAxis:()=>i.PreferredAxis,SHRINK_SCALE:()=>o.SHRINK_SCALE,Siblings:()=>i.Siblings,alternateDirection:()=>r.alternateDirection,checkExtentsEqual:()=>i.checkExtentsEqual,deserializeParsegraph:()=>l.deserializeParsegraph,directionSign:()=>r.directionSign,forEachCardinalDirection:()=>r.forEachCardinalDirection,forEachDirection:()=>r.forEachDirection,getDirectionAxis:()=>r.getDirectionAxis,getNegativeDirection:()=>r.getNegativeDirection,getPerpendicularAxis:()=>r.getPerpendicularAxis,getPositiveDirection:()=>r.getPositiveDirection,isCardinalDirection:()=>r.isCardinalDirection,isHorizontalDirection:()=>r.isHorizontalDirection,isNegativeDirection:()=>r.isNegativeDirection,isPositiveDirection:()=>r.isPositiveDirection,isVerticalDirection:()=>r.isVerticalDirection,nameAlignment:()=>i.nameAlignment,nameAxis:()=>r.nameAxis,nameAxisOverlap:()=>i.nameAxisOverlap,nameDirection:()=>r.nameDirection,nameFit:()=>i.nameFit,nameLayoutPhase:()=>i.nameLayoutPhase,namePreferredAxis:()=>i.namePreferredAxis,paintGroupBounds:()=>s.paintGroupBounds,paintNodeBounds:()=>u.paintNodeBounds,paintNodeLines:()=>a.paintNodeLines,readAlignment:()=>i.readAlignment,readAxisOverlap:()=>i.readAxisOverlap,readDirection:()=>r.readDirection,readFit:()=>i.readFit,readPreferredAxis:()=>i.readPreferredAxis,reverseDirection:()=>r.reverseDirection,serializeParsegraph:()=>l.serializeParsegraph,turnLeft:()=>r.turnLeft,turnNegative:()=>r.turnNegative,turnPositive:()=>r.turnPositive,turnRight:()=>r.turnRight});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionCaret.ts"),s=n("./src/paintGroupBounds.ts"),a=n("./src/paintNodeLines.ts"),u=n("./src/paintNodeBounds.ts"),l=n("./src/serializeParsegraph.ts")},"./src/paintGroupBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{paintGroupBounds:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts");function o(e){if(!e.neighbors().isRoot()&&!e.paintGroups().isPaintGroup())throw new Error("Node must be a paint group");var t=e,n=[NaN,NaN],o={};do{(t=t.siblings().next()).value().size(n);var s={left:n[0]/2,top:n[1]/2,right:n[0]/2,bottom:n[1]/2};o[t.id()]=s;for(var a=t.siblings().layoutOrder(),u=0;u<a.length;++u){var l=a[u];if(l!==r.Direction.OUTWARD&&l!==r.Direction.INWARD&&t.neighbors().hasChildAt(l)){var c=t.neighbors().nodeAt(l);if((0,i.findPaintGroup)(c)===e){var h=o[c.id()];if(!h)throw new Error("Child paint group bounds must have been calculated before its parent");if(Number.isNaN(h.left))throw new Error("Bounds must not be NaN");var d=t.neighbors().at(l);switch(l){case r.Direction.UPWARD:s.top=Math.max(s.top,h.top+d.separation()),s.left=Math.max(s.left,h.left-d.alignmentOffset()),s.right=Math.max(s.right,h.right+d.alignmentOffset()),s.bottom=Math.max(s.bottom,h.bottom-d.separation());break;case r.Direction.DOWNWARD:s.top=Math.max(s.top,h.top-d.separation()),s.left=Math.max(s.left,h.left-d.alignmentOffset()),s.right=Math.max(s.right,h.right+d.alignmentOffset()),s.bottom=Math.max(s.bottom,h.bottom+d.separation());break;case r.Direction.FORWARD:s.top=Math.max(s.top,h.top-d.alignmentOffset()),s.left=Math.max(s.left,h.left-d.separation()),s.right=Math.max(s.right,h.right+d.separation()),s.bottom=Math.max(s.bottom,h.bottom+d.alignmentOffset());break;case r.Direction.BACKWARD:s.top=Math.max(s.top,h.top-d.alignmentOffset()),s.left=Math.max(s.left,h.left+d.separation()),s.right=Math.max(s.right,h.right-d.separation()),s.bottom=Math.max(s.bottom,h.bottom+d.alignmentOffset());break;default:throw new Error("Unexpected node direction: "+(0,r.nameDirection)(l))}}else switch(d=t.neighbors().at(l),l){case r.Direction.UPWARD:s.top=Math.max(s.top,n[1]/2+d.lineLength());break;case r.Direction.DOWNWARD:s.bottom=Math.max(s.bottom,n[1]/2+d.lineLength());break;case r.Direction.FORWARD:s.right=Math.max(s.right,n[0]/2+d.lineLength());break;case r.Direction.BACKWARD:s.left=Math.max(s.left,n[0]/2+d.lineLength());break;default:throw new Error("Unexpected node direction: "+(0,r.nameDirection)(l))}}}}while(t!==e);return o[t.id()]}},"./src/paintNodeBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{paintNodeBounds:()=>o});var r=n("./src/DirectionNode/index.ts"),i=[NaN,NaN];function o(e,t){if(2!==arguments.length||!(e instanceof r.DirectionNode)||"function"!=typeof t)throw new Error("Usage: paintNodeBounds(node, painter)");var n=e.layout();n.groupSize(i),t(n.groupX(),n.groupY(),i[0],i[1])}},"./src/paintNodeLines.ts":(e,t,n)=>{n.r(t),n.d(t,{paintNodeLines:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n,i){var s;if(i.neighbors().parentDirection()!=n&&i.neighbors().hasChild(n)){var a=i.neighbors().at(n),u=i.layout(),l=u.groupScale(),c=null===(s=a.neighbor())||void 0===s?void 0:s.layout().groupScale();if("number"!=typeof c||isNaN(c))throw console.log(a.node),new Error(a.node+"'s groupScale must be a number but was "+c);var h=e*c,d=u.groupX(),f=u.groupY();u.size(o);var p=(0,r.directionSign)(n)*l*(a.lineLength()-((0,r.isVerticalDirection)(n)?o[1]:o[0])/2);(0,r.isVerticalDirection)(n)?t(d,f+p/2+l*(0,r.directionSign)(n)*o[1]/2,h,Math.abs(p)):t(d+p/2+l*(0,r.directionSign)(n)*o[0]/2,f,Math.abs(p),h)}};function a(e,t,n){if(!(e instanceof i.DirectionNode)||3!==arguments.length||isNaN(t)||"function"!=typeof n)throw new Error("Usage: paintNodeLines(node, lineThickness, painter)");(0,r.forEachCardinalDirection)((function(r){s(t,n,r,e)}))}},"./src/serializeParsegraph.ts":(e,t,n)=>{n.r(t),n.d(t,{deserializeParsegraph:()=>s,serializeParsegraph:()=>o});var r=n("./src/index.ts"),i=n("./src/DirectionNode/DirectionNode.ts"),o=function(e){var t={};return e.paintGroup().forEach((function(e){e.siblings().forEach((function(e){t[e.id()]={value:e.value(),scale:e.scale(),layoutPreference:e.siblings().getLayoutPreference(),parentId:e.neighbors().isRoot()?null:e.neighbors().parentNode().id(),parentDir:e.neighbors().isRoot()?null:e.neighbors().parentDirection(),alignment:e.neighbors().isRoot()?r.Alignment.NONE:e.neighbors().parentNode().neighbors().getAlignment((0,r.reverseDirection)(e.neighbors().parentDirection())),paintGroup:e.paintGroups().isPaintGroup()}}))})),{__parsegraph:t}},s=function(e){e.__parsegraph&&(e=e.__parsegraph);var t={},n=null;return Object.keys(e).forEach((function(r){var o=e[r],s=new i.DirectionNode(o.value);s.setScale(o.scale),t[r]=s,null===o.parentId&&(n=t[r])})),Object.keys(e).forEach((function(n){if(null!==e[n].parentId){var i=t[e[n].parentId],o=(0,r.reverseDirection)(e[n].parentDir);e[n].paintGroup&&t[n].paintGroups().crease(),i.connect(o,t[n]),i.neighbors().align(o,e[n].alignment),t[n].siblings().setLayoutPreference(e[n].layoutPreference)}})),n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./src/index.ts")})(),e.exports=t()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{NATURAL_VIEWPORT_SCALE:()=>t,showInCamera:()=>o,showNodeInCamera:()=>i});var e=n(403),t=1,i=function(e,t){var n=e.layout(),r=[NaN,NaN];n.absoluteSize(r);var i,o=n.absoluteScale(),s=t.scale(),a=t.width(),u=t.height();(i=a/(r[0]*o)<u/(r[1]*o)?a/(r[0]*o):u/(r[1]*o))>s?i=s:t.setScale(i);var l=n.absoluteX(),c=n.absoluteY();t.setOrigin(a/(2*i)-l,u/(2*i)-c)},o=function(n,r,i){var o=n.layout(),s=[NaN,NaN];o.extentSize(s);var a,u=o.absoluteScale(),l=r.scale(),c=r.width(),h=r.height();if(Number.isNaN(c)||Number.isNaN(h))throw new Error("Camera size must be set before a node can be shown in it.");var d,f,p=c/s[0]<h/s[1],g=(a=p?c/s[0]:h/s[1])>t;g&&(a=t),i&&a/u>l?a=l:r.setScale(a/u);var y=[NaN,NaN,NaN];o.extentsAt(e.Direction.BACKWARD).boundingValues(y),d=y[2]*u,o.extentsAt(e.Direction.UPWARD).boundingValues(y),f=y[2]*u,(p||g)&&(f+=h/(2*r.scale())-u*s[1]/2),p&&!g||(d+=c/(2*r.scale())-u*s[0]/2);var v=o.absoluteX(),m=o.absoluteY();r.setOrigin(d-v,f-m)}})(),r})(),e.exports=t()},679:function(e){var t;t=()=>(()=>{"use strict";var e={"./src/Direction/constants.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Axis:()=>i,Direction:()=>r,NUM_DIRECTIONS:()=>o}),function(e){e[e.INWARD=0]="INWARD",e[e.OUTWARD=1]="OUTWARD",e[e.DOWNWARD=2]="DOWNWARD",e[e.UPWARD=3]="UPWARD",e[e.FORWARD=4]="FORWARD",e[e.BACKWARD=5]="BACKWARD"}(r||(r={}));var i,o=6;!function(e){e[e.HORIZONTAL=o]="HORIZONTAL",e[e.VERTICAL=o+1]="VERTICAL",e[e.Z=o+2]="Z"}(i||(i={}))},"./src/Direction/functions.ts":(e,t,n)=>{n.r(t),n.d(t,{alternateDirection:()=>c,directionSign:()=>N,forEachCardinalDirection:()=>u,forEachDirection:()=>l,getDirectionAxis:()=>d,getNegativeDirection:()=>v,getPerpendicularAxis:()=>g,getPositiveDirection:()=>y,isCardinalDirection:()=>a,isHorizontalDirection:()=>p,isNegativeDirection:()=>b,isPositiveDirection:()=>m,isVerticalDirection:()=>f,nameAxis:()=>h,nameDirection:()=>o,readDirection:()=>i,reverseDirection:()=>s,turnLeft:()=>x,turnNegative:()=>w,turnPositive:()=>A,turnRight:()=>D});var r=n("./src/Direction/constants.ts");function i(e){if("number"===typeof e)return e;if("string"===typeof e)switch(e.charAt(0)){case"f":case"F":return r.Direction.FORWARD;case"b":case"B":return r.Direction.BACKWARD;case"u":case"U":return r.Direction.UPWARD;case"d":case"D":return r.Direction.DOWNWARD;case"i":case"I":return r.Direction.INWARD;case"o":case"O":return r.Direction.OUTWARD}throw new Error("Unrecognized direction: "+e)}function o(e){switch(e){case r.Direction.FORWARD:return"FORWARD";case r.Direction.BACKWARD:return"BACKWARD";case r.Direction.DOWNWARD:return"DOWNWARD";case r.Direction.UPWARD:return"UPWARD";case r.Direction.INWARD:return"INWARD";case r.Direction.OUTWARD:return"OUTWARD"}}function s(e){switch(e){case r.Direction.FORWARD:return r.Direction.BACKWARD;case r.Direction.BACKWARD:return r.Direction.FORWARD;case r.Direction.DOWNWARD:return r.Direction.UPWARD;case r.Direction.UPWARD:return r.Direction.DOWNWARD;case r.Direction.INWARD:return r.Direction.OUTWARD;case r.Direction.OUTWARD:return r.Direction.INWARD}}function a(e){switch(e){case r.Direction.INWARD:case r.Direction.OUTWARD:return!1;case r.Direction.UPWARD:case r.Direction.DOWNWARD:case r.Direction.BACKWARD:case r.Direction.FORWARD:return!0}}function u(e,t){e.call(t,r.Direction.DOWNWARD),e.call(t,r.Direction.UPWARD),e.call(t,r.Direction.FORWARD),e.call(t,r.Direction.BACKWARD)}function l(e,t){e.call(t,r.Direction.DOWNWARD),e.call(t,r.Direction.UPWARD),e.call(t,r.Direction.FORWARD),e.call(t,r.Direction.BACKWARD),e.call(t,r.Direction.INWARD),e.call(t,r.Direction.OUTWARD)}function c(e){switch(e){case r.Direction.DOWNWARD:case r.Direction.INWARD:return r.Direction.FORWARD;case r.Direction.FORWARD:return r.Direction.DOWNWARD;default:throw new Error("No alternate direction for direction: "+o(e))}}function h(e){switch(e){case r.Axis.VERTICAL:return"VERTICAL";case r.Axis.HORIZONTAL:return"HORIZONTAL";case r.Axis.Z:return"Z"}}function d(e){switch(e){case r.Direction.FORWARD:case r.Direction.BACKWARD:return r.Axis.HORIZONTAL;case r.Direction.DOWNWARD:case r.Direction.UPWARD:return r.Axis.VERTICAL;case r.Direction.INWARD:case r.Direction.OUTWARD:return r.Axis.Z}throw new Error("Unknown direction: "+e)}function f(e){return d(e)===r.Axis.VERTICAL}function p(e){return d(e)===r.Axis.HORIZONTAL}function g(e){switch(e){case r.Axis.HORIZONTAL:return r.Axis.VERTICAL;case r.Axis.VERTICAL:return r.Axis.HORIZONTAL;case r.Axis.Z:return r.Axis.Z;default:return g(d(e))}}function y(e){switch(e){case r.Axis.HORIZONTAL:return r.Direction.FORWARD;case r.Axis.VERTICAL:return r.Direction.DOWNWARD;case r.Axis.Z:return r.Direction.OUTWARD}throw new Error("Unknown axis: "+h(e))}function v(e){return s(y(e))}function m(e){return e===y(d(e))}function b(e){return m(s(e))}function N(e){return m(e)?1:-1}function x(e){switch(e){case r.Direction.FORWARD:return r.Direction.UPWARD;case r.Direction.BACKWARD:return r.Direction.DOWNWARD;case r.Direction.DOWNWARD:return r.Direction.FORWARD;case r.Direction.UPWARD:return r.Direction.BACKWARD;default:throw new Error("No direction to turn when given "+o(e))}}function D(e){return s(x(e))}function A(e){return y(g(e))}function w(e){return s(A(e))}},"./src/Direction/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Axis:()=>r.Axis,Direction:()=>r.Direction,NUM_DIRECTIONS:()=>r.NUM_DIRECTIONS,alternateDirection:()=>i.alternateDirection,directionSign:()=>i.directionSign,forEachCardinalDirection:()=>i.forEachCardinalDirection,forEachDirection:()=>i.forEachDirection,getDirectionAxis:()=>i.getDirectionAxis,getNegativeDirection:()=>i.getNegativeDirection,getPerpendicularAxis:()=>i.getPerpendicularAxis,getPositiveDirection:()=>i.getPositiveDirection,isCardinalDirection:()=>i.isCardinalDirection,isHorizontalDirection:()=>i.isHorizontalDirection,isNegativeDirection:()=>i.isNegativeDirection,isPositiveDirection:()=>i.isPositiveDirection,isVerticalDirection:()=>i.isVerticalDirection,nameAxis:()=>i.nameAxis,nameDirection:()=>i.nameDirection,readDirection:()=>i.readDirection,reverseDirection:()=>i.reverseDirection,turnLeft:()=>i.turnLeft,turnNegative:()=>i.turnNegative,turnPositive:()=>i.turnPositive,turnRight:()=>i.turnRight});var r=n("./src/Direction/constants.ts"),i=n("./src/Direction/functions.ts")},"./src/DirectionCaret.ts":(e,t,n)=>{n.r(t),n.d(t,{DirectionCaret:()=>a,SHRINK_SCALE:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=.85,s=0,a=function(){function e(e){this._savedNodes=void 0,this._nodeRoot=this.doSpawn(e),this._nodes=[this._nodeRoot]}return e.prototype.doSpawn=function(e){if(e instanceof i.DirectionNode)return e;var t=new i.DirectionNode;return t.setValue(e),t},e.prototype.doReplace=function(e,t){e.setValue(t instanceof i.DirectionNode?t.value():t)},e.prototype.clone=function(){return new e(this.node())},e.prototype.node=function(){if(0===this._nodes.length)throw new Error("Caret has no node");return this._nodes[this._nodes.length-1]},e.prototype.has=function(e){return this.node().neighbors().hasNode((0,r.readDirection)(e))},e.prototype.connect=function(e,t){return this.node().connect((0,r.readDirection)(e),t),t},e.prototype.connectMove=function(e,t){return e=(0,r.readDirection)(e),this.connect(e,t),this.move(e),t},e.prototype.disconnect=function(e){return e?this.node().disconnect((0,r.readDirection)(e)):this.node().neighbors().isRoot()?this.node():this.node().neighbors().parentNode().disconnect((0,r.reverseDirection)(this.node().neighbors().parentDirection()))},e.prototype.crease=function(e){var t=this.node();e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),t.paintGroups().crease()},e.prototype.uncrease=function(e){var t=this.node();e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),t.paintGroups().uncrease()},e.prototype.isCreased=function(e){var t=this.node();return e&&(t=this.node().neighbors().nodeAt((0,r.readDirection)(e))),!!t.paintGroups().isPaintGroup()},e.prototype.move=function(e){var t=this.node().neighbors().nodeAt((0,r.readDirection)(e));if(!t)throw new Error("No node to move to in that direction");this.moveTo(t)},e.prototype.push=function(){this._nodes.push(this.node())},e.prototype.save=function(e){return void 0===e&&(e=++s+""),this._savedNodes||(this._savedNodes={}),this._savedNodes[e]=this.node(),e},e.prototype.clearSave=function(e){this._savedNodes&&(void 0===e&&(e=""),delete this._savedNodes[e])},e.prototype.restore=function(e){if(!this._savedNodes)throw new Error("No nodes have been saved");var t=this._savedNodes[e];if(null==t)throw new Error("No node found for id: "+e);this.moveTo(t)},e.prototype.moveTo=function(e){this._nodes[this._nodes.length-1]=e},e.prototype.origin=function(){return this._nodeRoot},e.prototype.parent=function(){if(this.node().neighbors().isRoot())throw new Error("cannot get parent of root (node is "+this.node().id()+")");return this.node().neighbors().parentNode()},e.prototype.pop=function(){if(this._nodes.length<=1)throw new Error("No more nodes to pop");this._nodes.pop()},e.prototype.pull=function(e){this.node().siblings().pull((0,r.readDirection)(e))},e.prototype.root=function(){return this._nodeRoot},e.prototype.align=function(e,t){this.node().neighbors().align((0,r.readDirection)(e),(0,i.readAlignment)(t)),t!=i.Alignment.NONE&&this.node().setNodeFit(i.Fit.EXACT)},e.prototype.shrink=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t&&t.setScale(o)},e.prototype.grow=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t&&t.setScale(1)},e.prototype.fitExact=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.EXACT)},e.prototype.fitLoose=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.LOOSE)},e.prototype.fitNaive=function(e){var t=this.node();e&&(t=t.neighbors().nodeAt((0,r.readDirection)(e))),t.setNodeFit(i.Fit.NAIVE)},e.prototype.spawn=function(e,t,n){var o=this.doSpawn(t);return this.node().connect((0,r.readDirection)(e),o),o.siblings().setLayoutPreference(i.PreferredAxis.PERPENDICULAR),o.setNodeFit(this.node().nodeFit()),void 0!==n&&(n=(0,i.readAlignment)(n),this.align((0,r.readDirection)(e),n),n!==i.Alignment.NONE&&this.node().setNodeFit(i.Fit.EXACT)),o},e.prototype.replace=function(e){var t=this.value();return this.doReplace(this.node(),e),t},e.prototype.value=function(){return this.node().value()},e.prototype.spawnMove=function(e,t,n){var r=this.spawn(e,t,n);return this.move(e),r},e.prototype.at=function(e){if(this.node().neighbors().hasNode((0,r.readDirection)(e)))return this.node().neighbors().nodeAt((0,r.readDirection)(e));throw new Error("No node at direction")},e}()},"./src/DirectionNode/DirectionNode.ts":(e,t,n)=>{n.r(t),n.d(t,{DirectionNode:()=>d});var r=n("./src/DirectionNode/Fit.ts"),i=n("./src/DirectionNode/Layout/index.ts"),o=n("./src/DirectionNode/Siblings/index.ts"),s=n("./src/DirectionNode/PaintGroups/index.ts"),a=n("./src/DirectionNode/Neighbors/Neighbors.ts"),u=n("./src/DirectionNode/connectNode.ts"),l=n("./src/DirectionNode/disconnectNode.ts"),c=Date.now()+Math.random()+"-",h=0,d=function(){function e(e){this._id=c+h++,this._value=void 0,this._nodeFit=r.Fit.LOOSE,this._rightToLeft=!1,this._scale=1,this._paintGroups=new s.PaintGroups(this),this._paintGroups.setPaintGroup(new s.PaintGroup(this,!1)),void 0!==e&&this.setValue(e)}return e.prototype.layout=function(){return this._layout||(this._layout=new i.Layout(this)),this._layout},e.prototype.neighbors=function(){return this._neighbors||(this._neighbors=new a.Neighbors(this)),this._neighbors},e.prototype.invalidate=function(){for(var e=this;null!==e;){var t=e.layout().phase();if(e.layout().setPhase(i.LayoutPhase.NEEDS_COMMIT),e.neighbors().isRoot())break;if(t!==i.LayoutPhase.COMMITTED)break;e=e.neighbors().parentNode()}},e.prototype.id=function(){return this._id},e.prototype.setId=function(e){return this._id=e,this},e.prototype.value=function(){return this._value},e.prototype.setValue=function(e){var t=this.value();return t===e?t:(this._value=e,this.invalidate(),this._value)},e.prototype.rightToLeft=function(){return this._rightToLeft},e.prototype.setRightToLeft=function(e){this._rightToLeft=!!e,this.invalidate()},e.prototype.nodeFit=function(){return this._nodeFit},e.prototype.setNodeFit=function(e){this._nodeFit=e,this.invalidate()},e.prototype.scale=function(){return this._scale},e.prototype.setScale=function(e){this._scale=e,this.invalidate()},e.prototype.siblings=function(){return this._siblings||(this._siblings=new o.Siblings(this)),this._siblings},e.prototype.paintGroups=function(){return this._paintGroups},e.prototype.paintGroup=function(){return this.paintGroups().paintGroup()},e.prototype.connect=function(e,t){return(0,u.connectNode)(this,e,t)},e.prototype.disconnect=function(e){return(0,l.disconnectNode)(this,e)},e}()},"./src/DirectionNode/Fit.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Fit:()=>r,default:()=>i,nameFit:()=>o,readFit:()=>s}),function(e){e[e.NULL=14]="NULL",e[e.EXACT=15]="EXACT",e[e.LOOSE=16]="LOOSE",e[e.NAIVE=17]="NAIVE"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.EXACT:return"EXACT";case r.LOOSE:return"LOOSE";case r.NAIVE:return"NAIVE"}throw new Error("Unknown Fit: "+e)}function s(e){if("number"===typeof e)return e;switch(e=e.toLowerCase()){case"e":case"exact":return r.EXACT;case"l":case"loose":return r.LOOSE;case"n":case"naive":return r.NAIVE}return r.NULL}},"./src/DirectionNode/Layout/CommitLayout/CommitLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>c});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/commitAxisBasedLayout.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/addLineBounds.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/commitInwardLayout.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/commitRootlikeLayout.ts"),c=function(){function e(e,t){this._painter=t,this.bodySize=[NaN,NaN],this.firstSize=[NaN,NaN],this.secondSize=[NaN,NaN],this.reset(e)}return e.prototype.initExtent=function(e,t,n,r,i){var o=e.layout().extentsAt(t);o.clear(),o.appendLS(n,r),e.layout().setExtentOffsetAt(t,i)},e.prototype.reset=function(e){this.rootPaintGroup=e.neighbors().root(),this.layoutPhase=1,this.needsPosition=!1,this.root=void 0,this.node=void 0,this.paintGroup=void 0,this.bodySize[0]=NaN,this.bodySize[1]=NaN,this.firstSize[0]=NaN,this.firstSize[1]=NaN,this.secondSize[0]=NaN,this.secondSize[1]=NaN},e.prototype.startingNode=function(){return this.rootPaintGroup},e.prototype.painter=function(){return this._painter},e.prototype.commitLayout=function(e){var t=this;switch(e.layout().phase()){case o.LayoutPhase.COMMITTED:return!1;case o.LayoutPhase.NULL:throw new Error("Layout phase must not be null");case o.LayoutPhase.IN_COMMIT:throw new Error("Refusing to commit layout while it is already being committed")}e.layout().setPhase(o.LayoutPhase.IN_COMMIT);var n=this.bodySize;if(this.painter().size(e,n),e.layout().setSize(n),this.initExtent(e,r.Direction.DOWNWARD,n[0],n[1]/2,n[0]/2),this.initExtent(e,r.Direction.UPWARD,n[0],n[1]/2,n[0]/2),this.initExtent(e,r.Direction.BACKWARD,n[1],n[0]/2,n[1]/2),this.initExtent(e,r.Direction.FORWARD,n[1],n[0]/2,n[1]/2),e.layout().phase()===o.LayoutPhase.COMMITTED)return!0;if(e.nodeFit()===i.Fit.NAIVE&&(e.neighbors().isRoot()||!isNaN(e.neighbors().parentX())))return e.layout().setPhase(o.LayoutPhase.COMMITTED),!1;var c=this.painter().lineThickness,h=c?c(e):12;if(e.neighbors().isRootlike()){if((0,l.commitRootlikeLayout)(this.painter(),e,h,this.bodySize))return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0}else if((0,s.commitAxisBasedLayout)(this.painter(),e,h,this.bodySize))return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;return(0,r.forEachCardinalDirection)((function(n){(0,a.addLineBounds)(e,n,t.bodySize)})),!0===(0,u.commitInwardLayout)(this.painter(),e,this.bodySize,this.firstSize)||e.layout().setPhase(o.LayoutPhase.COMMITTED),!0},e.prototype.commitLayoutPhaseOne=function(){var e,t,n;if(this.layoutPhase>1)return!1;if(this.paintGroup||(this.paintGroup=this.rootPaintGroup.paintGroup().prev(),this.root=this.paintGroup,this.node=this.root,this.needsPosition=!1),null===(e=this.root)||void 0===e?void 0:e.layout().needsCommit()){this.needsPosition=!0;do{if(this.node=null===(t=this.node)||void 0===t?void 0:t.siblings().next(),this.node.layout().needsCommit())return this.commitLayout(this.node),this.node.layout().invalidateGroupPos(),this.node.layout().invalidateAbsolutePos(),this.node.paintGroups().setPaintGroupNode(this.paintGroup),!0}while(this.node!==this.root)}else if(this.needsPosition=Boolean(this.needsPosition||(null===(n=this.root)||void 0===n?void 0:n.layout().needsPosition())),this.needsPosition)do{if(!this.node)throw new Error("Node must not be undefined");var r=this.node.layout();r.invalidateAbsolutePos(),r.invalidateGroupPos(),r.commitGroupPos(),this.node=this.node.siblings().prev()}while(this.node!==this.root);var i=this.painter().paint;return!!(this.needsPosition&&i&&i.call(this.painter(),this.paintGroup))||(this.paintGroup===this.rootPaintGroup?(++this.layoutPhase,this.paintGroup=void 0,!1):(this.paintGroup=this.paintGroup.paintGroup().prev(),this.root=this.paintGroup,this.node=this.root,!0))},e.prototype.commitLayoutPhaseTwo=function(){var e,t,n;if(!this.needsPosition||2!==this.layoutPhase)return!1;if(this.paintGroup||(this.paintGroup=this.rootPaintGroup,this.root=this.paintGroup,this.node=void 0),(null===(e=this.paintGroup)||void 0===e?void 0:e.layout().needsCommit())||(null===(t=this.paintGroup)||void 0===t?void 0:t.layout().needsPosition())){this.node||(this.node=this.paintGroup.siblings().prev());var r=this.node.layout();return r.invalidateAbsolutePos(),r.invalidateGroupPos(),r.commitGroupPos(),this.node=this.node.siblings().prev(),!0}return this.paintGroup=null===(n=this.paintGroup)||void 0===n?void 0:n.paintGroup().next(),this.paintGroup===this.rootPaintGroup?(++this.layoutPhase,this.needsPosition=!1,this.paintGroup=void 0,!1):(this.root=this.paintGroup,this.node=void 0,!0)},e.prototype.commitLayoutPhaseThree=function(){var e;if(3!==this.layoutPhase)return!1;this.paintGroup||(this.paintGroup=this.rootPaintGroup);var t=this.paintGroup;do{var n=t.layout();n&&(n.invalidateAbsolutePos(),n.commitAbsolutePos()),t=t.siblings().next()}while(t!=this.paintGroup);return this.paintGroup=null===(e=this.paintGroup)||void 0===e?void 0:e.paintGroup().next(),this.paintGroup!==this.rootPaintGroup||(++this.layoutPhase,this.needsPosition=!1,!1)},e.prototype.crank=function(){return!!(this.commitLayoutPhaseOne()||this.commitLayoutPhaseTwo()||this.commitLayoutPhaseThree())||(this.reset(this.rootPaintGroup),!1)},e}()},"./src/DirectionNode/Layout/CommitLayout/LayoutPainter.ts":(e,t,n)=>{n.r(t)},"./src/DirectionNode/Layout/CommitLayout/addLineBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{addLineBounds:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n){if(e.neighbors().hasChild(t)){var s=(0,r.getPerpendicularAxis)(t),a=(0,r.directionSign)(t),u=e.layout().extentOffsetAt((0,r.getPositiveDirection)(s)),l=e.layout().extentOffsetAt((0,r.getNegativeDirection)(s));if(a<0){var c=function(e,t,n){return e.layout().size(n),(0,r.isVerticalDirection)(t)?n[1]/2:n[0]/2}(e,t,o);u-=c+e.neighbors().lineLengthAt(t),l-=c+e.neighbors().lineLengthAt(t)}e.nodeFit()==i.Fit.EXACT&&(c=void 0,c=s===r.Axis.VERTICAL?n[1]/2:n[0]/2,e.layout().extentsAt((0,r.getPositiveDirection)(s)).combineBound(u,e.neighbors().lineLengthAt(t),c),e.layout().extentsAt((0,r.getNegativeDirection)(s)).combineBound(l,e.neighbors().lineLengthAt(t),c))}}},"./src/DirectionNode/Layout/CommitLayout/combineExtents.ts":(e,t,n)=>{n.r(t),n.d(t,{combineExtent:()=>s,combineExtents:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN,NaN],s=function(e,t,n,r,s){var a=e.neighbors().nodeAt(t),u=e.layout().extentOffsetAt(n)+r-e.neighbors().nodeAt(t).scale()*a.layout().extentOffsetAt(n),l=e.layout().extentsAt(n),c=e.neighbors().nodeAt(t).scale();if(e.nodeFit()==i.Fit.LOOSE?l.combineExtentAndSimplify(a.layout().extentsAt(n),u,s,c,o):l.combineExtent(a.layout().extentsAt(n),u,s,c),u<0&&e.layout().setExtentOffsetAt(n,e.layout().extentOffsetAt(n)+Math.abs(u)),e.layout().extentOffsetAt(n)<0)throw new Error("Extent offset must not be negative.")},a=function(e,t,n,i){switch(t){case r.Direction.DOWNWARD:s(e,t,r.Direction.DOWNWARD,n,i),s(e,t,r.Direction.UPWARD,n,-i),s(e,t,r.Direction.FORWARD,i,n),s(e,t,r.Direction.BACKWARD,i,-n);break;case r.Direction.UPWARD:s(e,t,r.Direction.DOWNWARD,n,-i),s(e,t,r.Direction.UPWARD,n,i),s(e,t,r.Direction.FORWARD,-i,n),s(e,t,r.Direction.BACKWARD,-i,-n);break;case r.Direction.FORWARD:s(e,t,r.Direction.DOWNWARD,i,n),s(e,t,r.Direction.UPWARD,i,-n),s(e,t,r.Direction.FORWARD,n,i),s(e,t,r.Direction.BACKWARD,n,-i);break;case r.Direction.BACKWARD:s(e,t,r.Direction.DOWNWARD,-i,n),s(e,t,r.Direction.UPWARD,-i,-n),s(e,t,r.Direction.FORWARD,n,-i),s(e,t,r.Direction.BACKWARD,n,i);break;default:throw new Error("Unknown direction given: "+t)}}},"./src/DirectionNode/Layout/CommitLayout/commitAxisBasedLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitAxisBasedLayout:()=>u});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts"),a=function(e){if(e.neighbors().isRoot())throw new Error("Node is root and has no parent direction");var t=e.neighbors().parentDirection();if(void 0===t)throw new Error("A non-root node must have a parent direction");return t},u=function(e,t,n,u){if(t.siblings().canonicalLayoutPreference()==i.PreferredAxis.PERPENDICULAR){var l=(0,r.getPerpendicularAxis)(a(t)),c=t.neighbors().hasNodes(l),h=(0,r.reverseDirection)(a(t));if((0,o.layoutAxis)(e,t,c[0],c[1],!1,n,u))return!0;if(t.neighbors().hasNode(h)&&(0,s.layoutSingle)(t,h,!0,n,u,e))return!0}else{h=(0,r.reverseDirection)(a(t));var d=t.neighbors().hasNodes((0,r.getPerpendicularAxis)(a(t)));if(t.neighbors().hasNode(h)&&(0,s.layoutSingle)(t,h,void 0===d[0]&&void 0===d[1],n,u,e))return!0;if((0,o.layoutAxis)(e,t,d[0],d[1],!0,n,u))return!0}return!1}},"./src/DirectionNode/Layout/CommitLayout/commitInwardLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitInwardLayout:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),a=function(e,t,n,a){if(!t.neighbors().hasNode(r.Direction.INWARD))return!1;var u=t.neighbors().nodeAt(r.Direction.INWARD);if(u.layout().phase()!==o.LayoutPhase.COMMITTED)return t.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;u.layout().extentSize(a);var l=a;return t.neighbors().getAlignment(r.Direction.INWARD)===i.Alignment.INWARD_VERTICAL?t.neighbors().at(r.Direction.INWARD).setPos(u.scale()*(u.layout().extentOffsetAt(r.Direction.DOWNWARD)-l[0]/2),n[1]/2-(0,s.getSeparation)(e,t,r.Axis.Z,r.Direction.INWARD,!0)/2+u.scale()*(-l[1]+u.layout().extentOffsetAt(r.Direction.FORWARD))):t.neighbors().at(r.Direction.INWARD).setPos(n[0]/2-(0,s.getSeparation)(e,t,r.Axis.Z,r.Direction.INWARD,!1)/2+u.scale()*(-l[0]+u.layout().extentOffsetAt(r.Direction.DOWNWARD)),u.scale()*(u.layout().extentOffsetAt(r.Direction.FORWARD)-l[1]/2)),!1}},"./src/DirectionNode/Layout/CommitLayout/commitRootlikeLayout.ts":(e,t,n)=>{n.r(t),n.d(t,{commitRootlikeLayout:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts"),s=function(e,t,n,s){if(t.siblings().getLayoutPreference()===i.PreferredAxis.HORIZONTAL||t.siblings().getLayoutPreference()===i.PreferredAxis.PERPENDICULAR){if((0,o.layoutAxis)(e,t,r.Direction.BACKWARD,r.Direction.FORWARD,!t.neighbors().hasNode(r.Direction.UPWARD)&&!t.neighbors().hasNode(r.Direction.DOWNWARD),n,s))return!0;if((0,o.layoutAxis)(e,t,r.Direction.UPWARD,r.Direction.DOWNWARD,!0,n,s))return!0}else{if((0,o.layoutAxis)(e,t,r.Direction.UPWARD,r.Direction.DOWNWARD,!t.neighbors().hasNode(r.Direction.BACKWARD)&&!t.neighbors().hasNode(r.Direction.FORWARD),n,s))return!0;if((0,o.layoutAxis)(e,t,r.Direction.BACKWARD,r.Direction.FORWARD,!0,n,s))return!0}return!1}},"./src/DirectionNode/Layout/CommitLayout/findConsecutiveLength.ts":(e,t,n)=>{n.r(t),n.d(t,{findConsecutiveLength:()=>i});var r=n("./src/Direction/index.ts"),i=function(e,t){if(!(0,r.isCardinalDirection)(t))throw new Error("Given direction is not cardinal: "+(0,r.nameDirection)(t));var n=0,i=1;if(e.neighbors().hasNode(t)){n+=e.neighbors().separationAt(t),i*=e.neighbors().nodeAt(t).scale();for(var o=e.neighbors().nodeAt(t),s=o.neighbors().nodeAt(t);s;)n+=o.neighbors().separationAt(t)*i,i*=o.neighbors().nodeAt(t).scale(),o=s,s=s.neighbors().nodeAt(t)}return n}},"./src/DirectionNode/Layout/CommitLayout/getAlignment.ts":(e,t,n)=>{n.r(t),n.d(t,{getAlignment:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/findConsecutiveLength.ts"),s=function(e,t){var n,s=e.neighbors().nodeAt(t),a=(0,r.getPerpendicularAxis)((0,r.getDirectionAxis)(t));switch(e.neighbors().getAlignment(t)){case i.Alignment.NULL:throw new Error("Node has null alignment");case i.Alignment.NONE:n=0;break;case i.Alignment.NEGATIVE:n=(0,o.findConsecutiveLength)(s,(0,r.getNegativeDirection)(a));break;case i.Alignment.CENTER:var u=(0,o.findConsecutiveLength)(s,(0,r.getNegativeDirection)(a)),l=(0,o.findConsecutiveLength)(s,(0,r.getPositiveDirection)(a)),c=(u+l)/2;n=u>l?u-c:u<l?-(l-c):0;break;case i.Alignment.POSITIVE:n=-(0,o.findConsecutiveLength)(s,(0,r.getPositiveDirection)(a))}return n*e.neighbors().nodeAt(t).scale()}},"./src/DirectionNode/Layout/CommitLayout/getSeparation.ts":(e,t,n)=>{n.r(t),n.d(t,{getSeparation:()=>r});var r=function(e,t,n,r,i){var o=e.getSeparation;return o?o(t,n,r,i):0}},"./src/DirectionNode/Layout/CommitLayout/index.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>r.CommitLayout}),n("./src/DirectionNode/Layout/CommitLayout/LayoutPainter.ts");var r=n("./src/DirectionNode/Layout/CommitLayout/CommitLayout.ts")},"./src/DirectionNode/Layout/CommitLayout/layoutAxis.ts":(e,t,n)=>{n.r(t),n.d(t,{layoutAxis:()=>f});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/combineExtents.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/positionChild.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/getAlignment.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts"),c=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),h=[NaN,NaN],d=[NaN,NaN],f=function(e,t,n,f,p,g,y){if(n===f&&void 0!==n)throw new Error("First and second directions cannot be the same unless they are both null");if(void 0===n||t.neighbors().hasNode(n)||(n=void 0),void 0===f||t.neighbors().hasNode(f)||(f=void 0),void 0===n&&void 0===f)return!1;if(void 0===n||void 0===f){var v=void 0;if(void 0!==n)v=n;else{if(void 0===f)throw new Error("secondDirection for layout must be defined if firstDirection is undefined");v=f}return!!(0,l.layoutSingle)(t,v,p,g,y,e)&&(t.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0)}var m=t.neighbors().nodeAt(n),b=t.neighbors().nodeAt(f),N=(0,u.getAlignment)(t,n),x=(0,u.getAlignment)(t,f),D=m.layout().extentsAt(f).separation(b.layout().extentsAt(n),t.neighbors().nodeAt(f).scale()/t.neighbors().nodeAt(n).scale()*(x-b.layout().extentOffsetAt(n))-(N-m.layout().extentOffsetAt(f)),!0,t.neighbors().nodeAt(f).scale()/t.neighbors().nodeAt(n).scale(),0);D*=t.neighbors().nodeAt(n).scale();var A=p;switch(t.neighbors().nodeAt(n).neighbors().axisOverlap()){case i.AxisOverlap.PREVENTED:A=!1;break;case i.AxisOverlap.ALLOWED:A=!0}var w=p;switch(t.neighbors().nodeAt(f).neighbors().axisOverlap()){case i.AxisOverlap.PREVENTED:w=!1;break;case i.AxisOverlap.ALLOWED:w=!0}var _=t.layout().extentsAt(n).separation(m.layout().extentsAt(f),t.layout().extentOffsetAt(n)+N-t.neighbors().nodeAt(n).scale()*m.layout().extentOffsetAt(f),A,t.neighbors().nodeAt(n).scale(),g/2),P=t.layout().extentsAt(f).separation(b.layout().extentsAt(n),t.layout().extentOffsetAt(f)+x-t.neighbors().nodeAt(f).scale()*b.layout().extentOffsetAt(n),w,t.neighbors().nodeAt(f).scale(),g/2);return D>=_+P&&(_=Math.max(_,D/2),P=Math.max(P,D/2)),m.layout().size(h),b.layout().size(d),(0,r.getDirectionAxis)(n)===r.Axis.VERTICAL?(_=Math.max(_,t.neighbors().nodeAt(n).scale()*(h[1]/2)+y[1]/2),_+=(0,c.getSeparation)(e,t,r.Axis.VERTICAL,n,!0)*t.neighbors().nodeAt(n).scale(),P=Math.max(P,t.neighbors().nodeAt(f).scale()*(d[1]/2)+y[1]/2),P+=(0,c.getSeparation)(e,t,r.Axis.VERTICAL,f,!0)*t.neighbors().nodeAt(f).scale()):(_=Math.max(_,t.neighbors().nodeAt(n).scale()*(h[0]/2)+y[0]/2),_+=(0,c.getSeparation)(e,t,r.Axis.HORIZONTAL,n,!1)*t.neighbors().nodeAt(n).scale(),P=Math.max(P,t.neighbors().nodeAt(f).scale()*(d[0]/2)+y[0]/2),P+=(0,c.getSeparation)(e,t,r.Axis.HORIZONTAL,f,!1)*t.neighbors().nodeAt(f).scale()),(0,a.positionChild)(t,n,N,_),(0,a.positionChild)(t,f,x,P),(0,s.combineExtents)(t,n,N,_),(0,s.combineExtents)(t,f,x,P),!1}},"./src/DirectionNode/Layout/CommitLayout/layoutSingle.ts":(e,t,n)=>{n.r(t),n.d(t,{layoutSingle:()=>h});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionNode/Layout/index.ts"),s=n("./src/DirectionNode/Layout/CommitLayout/combineExtents.ts"),a=n("./src/DirectionNode/Layout/CommitLayout/positionChild.ts"),u=n("./src/DirectionNode/Layout/CommitLayout/getAlignment.ts"),l=n("./src/DirectionNode/Layout/CommitLayout/getSeparation.ts"),c=[NaN,NaN],h=function(e,t,n,h,d,f){if(!e.neighbors().hasNode(t))return!1;switch(e.neighbors().axisOverlap(t)){case i.AxisOverlap.PREVENTED:n=!1;break;case i.AxisOverlap.ALLOWED:n=!0}var p=(0,u.getAlignment)(e,t),g=e.neighbors().nodeAt(t),y=(0,r.reverseDirection)(t),v=g.layout().extentsAt(y);if(g.layout().phase()!==o.LayoutPhase.COMMITTED)return e.layout().setPhase(o.LayoutPhase.NEEDS_COMMIT),!0;var m=e.layout().extentsAt(t).separation(v,e.layout().extentOffsetAt(t)+p-e.neighbors().nodeAt(t).scale()*g.layout().extentOffsetAt(y),n,e.neighbors().nodeAt(t).scale(),h/2);return g.layout().size(c),(0,r.getDirectionAxis)(t)==r.Axis.VERTICAL?(m=Math.max(m,e.neighbors().nodeAt(t).scale()*(c[1]/2)+d[1]/2),m+=(0,l.getSeparation)(f,e,r.Axis.VERTICAL,t,!0)*e.neighbors().nodeAt(t).scale()):(m=Math.max(m,e.neighbors().nodeAt(t).scale()*(c[0]/2)+d[0]/2),m+=(0,l.getSeparation)(f,e,r.Axis.HORIZONTAL,t,!1)*e.neighbors().nodeAt(t).scale()),(0,a.positionChild)(e,t,p,m),(0,s.combineExtents)(e,t,p,m),!1}},"./src/DirectionNode/Layout/CommitLayout/positionChild.ts":(e,t,n)=>{n.r(t),n.d(t,{positionChild:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n,s){if(s<0)throw new Error("separation must always be positive.");if(!(0,r.isCardinalDirection)(t))throw new Error("Direction used for positioning must be cardinal");var a,u=e.neighbors().nodeAt(t),l=(0,r.reverseDirection)(t);e.neighbors().at(t).setAlignmentOffset(n),e.neighbors().at(t).setSeparation(s),e.neighbors().getAlignment(t)===i.Alignment.NONE?(u.layout().size(o),a=(0,r.isVerticalDirection)(t)?o[1]/2:o[0]/2):a=u.layout().extentsAt(l).sizeAt(u.layout().extentOffsetAt(l)-n/e.neighbors().nodeAt(t).scale());var c=s-e.neighbors().nodeAt(t).scale()*a;e.neighbors().at(t).setLineLength(c);var h=(0,r.directionSign)(t);(0,r.isVerticalDirection)(t)?e.neighbors().at(t).setPos(n,h*s):e.neighbors().at(t).setPos(h*s,n)}},"./src/DirectionNode/Layout/Extent/Extent.ts":(e,t,n)=>{n.r(t),n.d(t,{Extent:()=>s});var r=n("./src/DirectionNode/Layout/Extent/fuzzyequals.ts"),i=n("./src/DirectionNode/Layout/Extent/ExtentSeparator.ts"),o=n("./src/DirectionNode/Layout/Extent/ExtentCombiner.ts"),s=function(){function e(e){void 0!==e&&e._bounds?(this._offset=e._offset,this._numBounds=e._numBounds,this._bounds=new Float32Array(e._bounds),this._start=e._start,isNaN(e._minSize)||(this._minSize=e._minSize,this._maxSize=e._maxSize,this._totalLength=e._totalLength)):(this._start=0,this._offset=0,this._numBounds=0,this._bounds=new Float32Array,this._minSize=NaN,this._maxSize=NaN,this._totalLength=NaN)}return e.prototype.setOffset=function(e){this._offset=e},e.prototype.offset=function(){return this._offset},e.prototype.forEach=function(e){for(var t=0;t<this._numBounds;++t)e(this.boundLengthAt(t),this.boundSizeAt(t),t)},e.prototype.clone=function(){return new e(this)},e.prototype.clear=function(){this._numBounds=0,this.invalidateBoundingValues()},e.prototype.numBounds=function(){return this._numBounds},e.prototype.hasBounds=function(){return this.numBounds()>0},e.prototype.boundLengthAt=function(e){return this._bounds[(this._start+e)%this.boundCapacity()*2]},e.prototype.boundSizeAt=function(e){return this._bounds[(this._start+e)%this.boundCapacity()*2+1]},e.prototype.invalidateBoundingValues=function(){this._minSize=NaN,this._maxSize=NaN,this._totalLength=NaN},e.prototype.setBoundLengthAt=function(e,t){this._bounds[(this._start+e)%this.boundCapacity()*2]=t,this.invalidateBoundingValues()},e.prototype.setBoundSizeAt=function(e,t){this._bounds[(this._start+e)%this.boundCapacity()*2+1]=t,this.invalidateBoundingValues()},e.prototype.realloc=function(e){e<1&&(e=1);var t=this._bounds,n=this.boundCapacity();if(n>=e)throw new Error("Cannot shrink Extent capacity");if(this._bounds=new Float32Array(2*e),t)if(this._start+this._numBounds>n){for(var r=this._start+this._numBounds-n,i=0;i<2*(this._numBounds-r);++i)this._bounds[i]=t[this._start+i];for(i=0;i<2*(this._numBounds-r);++i)this._bounds[this._numBounds-r+i]=t[i]}else for(i=0;i<2*this._numBounds;++i)this._bounds[i]=t[this._start+i];return this._start=0,0},e.prototype.prependLS=function(e,t){if(isNaN(e))throw new Error("Length must not be NaN");if(0!=e){if(e<0)throw new Error("Non-positive bound lengths are not allowed, but "+e+" was given anyway.");if(this.numBounds()>0){var n=this.boundSizeAt(0);if(Number.isNaN(n)&&Number.isNaN(t)||n===t)return void this.setBoundLengthAt(0,this.boundLengthAt(0)+e)}if(this.boundCapacity()==this.numBounds()){var r=1;this.boundCapacity()>0&&(r=2*this.boundCapacity()),this.realloc(r)}0==this._start?this._start=this.boundCapacity()-1:--this._start,++this._numBounds,this.setBoundLengthAt(0,e),this.setBoundSizeAt(0,t)}},e.prototype.boundCapacity=function(){return this._bounds?this._bounds.length/2:0},e.prototype.appendLS=function(e,t){if(isNaN(e))throw new Error("Length must not be NaN");if(0!==e){if(e<0)throw new Error("Non-positive bound lengths are not allowed, but "+e+" was given anyway.");if(this.numBounds()>0){var n=this.boundSizeAt(this.numBounds()-1);if(isNaN(n)&&isNaN(t)||n===t)return void this.setBoundLengthAt(this.numBounds()-1,this.boundLengthAt(this.numBounds()-1)+e)}if(this.boundCapacity()==this.numBounds()){var r=1;this.boundCapacity()>0&&(r=2*this.boundCapacity()),this.realloc(r)}++this._numBounds,this.setBoundLengthAt(this.numBounds()-1,e),this.setBoundSizeAt(this.numBounds()-1,t)}},e.prototype.prependSL=function(e,t){this.prependLS(t,e)},e.prototype.appendSL=function(e,t){this.appendLS(t,e)},e.prototype.adjustSize=function(e){for(var t=0;t<this.numBounds();++t){var n=this.boundSizeAt(t);isNaN(n)||this.setBoundSizeAt(t,n+e)}},e.prototype.simplify=function(){for(var e=0,t=NaN,n=0;n<this.numBounds();++n){e+=this.boundLengthAt(n);var r=this.boundSizeAt(n);isNaN(t)?t=r:isNaN(r)||(t=Math.max(t,r))}this.clear(),this.appendLS(e,t)},e.prototype.sizeAt=function(e){if(e<0)throw new Error("Negative offsets are not supported");for(var t=0,n=0;n<this.numBounds();){var r=this.boundLengthAt(n);if(e<=t+r)break;t+=r,++n}return n==this.numBounds()?NaN:this.boundSizeAt(n)},e.prototype.combineBound=function(t,n,r){var i=new e;i.appendLS(n,r),this.copyFrom(this.combinedExtent(i,t))},e.prototype.copyFrom=function(e){this._numBounds=e._numBounds,this._bounds=e._bounds,e.clear(),this.invalidateBoundingValues()},e.prototype.combineExtentAndSimplify=function(e,t,n,r,i){e.boundingValues(i);var o=i[0],s=i[2];this.boundingValues(i);var a,u=i[0],l=i[2];this.clear(),a=t<0?Math.max(u-t,o*r):Math.max(u,o*r+t),this.appendLS(a,Math.max(l,s*r+n))},e.prototype.combineExtent=function(e,t,n,r){var i=this.combinedExtent(e,t,n,r);this.copyFrom(i)},e.prototype.combinedExtent=function(e,t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),t<0){var i=e.combinedExtent(this,-t/r,-n/r,1/r);return i.scale(r),i.adjustSize(n),i}if(t>0){var s=e.clone();return s.prependLS(t/r,NaN),this.combinedExtent(s,0,n,r)}return new o.default(this,e,t,n,r).combine()},e.prototype.scale=function(e){var t=this;this.forEach((function(n,r,i){t.setBoundLengthAt(i,n*e),isNaN(t.boundSizeAt(i))||t.setBoundSizeAt(i,r*e)}))},e.prototype.separation=function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===o&&(o=0),void 0===r&&(r=1);var s=new i.default(this,e,t,n,r),a=0;if(t<0)for(;!s.givenAtEnd()&&s._givenPosition+s.givenBoundLength()<=-t;){var u=s.givenBoundSize();!n&&!isNaN(u)&&u>a&&(a=u+o),s.incrementGivenBound()}else for(;!s.thisAtEnd()&&s._thisPosition+this.boundLengthAt(s._thisBound)<=t;)u=s.thisBoundSize(),!n&&!isNaN(u)&&u>a&&(a=u),s.incrementThisBound();if(a=s.consume(a,o),!n)for(var l=0;!s.givenAtEnd();){if(l++>1e5)throw new Error("Extent separation timed out");var c=e.boundSizeAt(s._givenBound);isNaN(c)||(a=Math.max(a,r*c+o)),++s._givenBound}return a},e.prototype.boundingValues=function(e){if(e||(e=[NaN,NaN,NaN]),!isNaN(this._minSize))return e[0]=this._totalLength,e[1]=this._minSize,e[2]=this._maxSize,e;for(var t=0,n=NaN,r=NaN,i=0;i!=this.numBounds();++i){t+=this.boundLengthAt(i);var o=this.boundSizeAt(i);isNaN(n)?n=o:isNaN(o)||(n=Math.min(n,o)),isNaN(r)?r=o:isNaN(o)||(r=Math.max(r,o))}return e[0]=t,e[1]=n,e[2]=r,this._minSize=n,this._maxSize=r,this._totalLength=t,e},e.prototype.equals=function(e,t){if(this===e)return!0;if(!e||this.numBounds()!=e.numBounds())return!1;for(var n=0;n<this.numBounds();++n){if(!(0,r.default)(this.boundLengthAt(n),e.boundLengthAt(n),t))return!1;var i=this.boundSizeAt(n),o=e.boundSizeAt(n);if(!isNaN(i)||!isNaN(o)){if(isNaN(i)||isNaN(o))return!1;if(!(0,r.default)(this.boundSizeAt(n),e.boundSizeAt(n)))return!1}}return!0},e.prototype.dump=function(e){void 0!==e&&console.log(e);for(var t=0,n=0;n<this.numBounds();++n)console.log(t+": [length="+this.boundLengthAt(n)+", size="+this.boundSizeAt(n)+"]"),t+=this.boundLengthAt(n)},e}()},"./src/DirectionNode/Layout/Extent/ExtentCombiner.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n("./src/DirectionNode/Layout/Extent/Extent.ts");const i=function(){function e(e,t,n,r,i){this._thisExtent=e,this._givenExtent=t,this._lengthAdjustment=n,this._sizeAdjustment=r,this._scale=i,this.thisBound=0,this.thisPosition=0,this.givenBound=0,this.givenPosition=0}return e.prototype.getThisSize=function(){if(this.thisBound>=this._thisExtent.numBounds())throw new Error("Getting this bound's size past the end of this extent.");return this._thisExtent.boundSizeAt(this.thisBound)},e.prototype.getGivenSize=function(){if(this.givenBound>=this._givenExtent.numBounds())throw new Error("Getting given's size past the end of given's extent.");var e=this._givenExtent.boundSizeAt(this.givenBound);return isNaN(e)?NaN:this._scale*e+this._sizeAdjustment},e.prototype.getThisNextBound=function(){if(this.thisBound>=this._thisExtent.numBounds())throw new Error("Getting past end of this extent.");return this.thisPosition+=this._thisExtent.boundLengthAt(this.thisBound),++this.thisBound,this.thisBound!=this._thisExtent.numBounds()},e.prototype.getGivenNextBound=function(){if(this.givenBound>=this._givenExtent.numBounds())throw new Error("Getting past end of given bound.");return this.givenPosition+=this._scale*this._givenExtent.boundLengthAt(this.givenBound),++this.givenBound,this.givenBound!=this._givenExtent.numBounds()},e.prototype.givenReach=function(){return this.givenBound>=this._givenExtent.numBounds()?this.givenPosition:this.givenPosition+this._scale*this._givenExtent.boundLengthAt(this.givenBound)},e.prototype.thisReach=function(){return this.thisBound==this._thisExtent.numBounds()?this.thisPosition:this.thisPosition+this._thisExtent.boundLengthAt(this.thisBound)},e.prototype.combine=function(){for(var e=new r.Extent;this.givenBound!=this._givenExtent.numBounds()&&this.thisBound!=this._thisExtent.numBounds();){var t=this.getThisSize(),n=this.getGivenSize(),i=void 0;i=isNaN(t)||isNaN(n)?isNaN(t)?n:t:Math.max(t,n),e.appendLS(Math.min(this.thisReach(),this.givenReach())-Math.max(this.thisPosition,this.givenPosition),i),this.thisReach()==this.givenReach()?(this.getThisNextBound(),this.getGivenNextBound()):this.thisReach()<this.givenReach()?this.getThisNextBound():this.getGivenNextBound()}if(this.givenBound!=this._givenExtent.numBounds())for(e.appendLS(this.givenReach()-this.thisReach(),this.getGivenSize());this.getGivenNextBound();)e.appendLS(this._scale*this._givenExtent.boundLengthAt(this.givenBound),this.getGivenSize());else if(this.thisBound!=this._thisExtent.numBounds())for(e.appendLS(this.thisReach()-this.givenReach(),this.getThisSize());this.getThisNextBound();)e.appendLS(this._thisExtent.boundLengthAt(this.thisBound),this.getThisSize());return e},e}()},"./src/DirectionNode/Layout/Extent/ExtentSeparator.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=function(){function e(e,t,n,r,i){this._thisExtent=e,this._givenExtent=t,this._thisBound=0,this._givenBound=0,this._thisPosition=0,this._positionAdjustment=n,this._allowAxisOverlap=r,this._givenScale=i,this._givenPosition=0}return e.prototype.incrementThisBound=function(){this._thisPosition+=this._thisExtent.boundLengthAt(this._thisBound),++this._thisBound},e.prototype.givenBoundLength=function(){return this._givenScale*this._givenExtent.boundLengthAt(this._givenBound)},e.prototype.givenBoundSize=function(){var e=this._givenExtent.boundSizeAt(this._givenBound);return isNaN(e)?e:this._givenScale*e},e.prototype.thisBoundSize=function(){return this._thisExtent.boundSizeAt(this._thisBound)},e.prototype.incrementGivenBound=function(){this._givenPosition+=this.givenBoundLength(),++this._givenBound},e.prototype.givenAtEnd=function(){return this._givenBound==this._givenExtent.numBounds()},e.prototype.thisAtEnd=function(){return this._thisBound==this._thisExtent.numBounds()},e.prototype.consume=function(e,t){for(;!this.givenAtEnd()&&!this.thisAtEnd();){var n=this._thisExtent.boundSizeAt(this._thisBound),r=this.givenBoundSize(),i=void 0;(i=isNaN(n)||isNaN(r)?this._allowAxisOverlap?0:isNaN(n)?isNaN(r)?0:r+t:n+t:n+r)>e&&(e=i);var o=this._thisPosition+this._thisExtent.boundLengthAt(this._thisBound)-this._positionAdjustment-(this._givenPosition+this._givenScale*this._givenExtent.boundLengthAt(this._givenBound));0==o?(this.incrementGivenBound(),this.incrementThisBound()):o>0&&this.incrementGivenBound(),o<0&&this.incrementThisBound()}return e},e}()},"./src/DirectionNode/Layout/Extent/checkExtentsEqual.ts":(e,t,n)=>{function r(e,t,n){return e.node().layout().extentsAt(t).equals(n)}n.r(t),n.d(t,{checkExtentsEqual:()=>r})},"./src/DirectionNode/Layout/Extent/fuzzyequals.ts":(e,t,n)=>{n.r(t),n.d(t,{Fuzziness:()=>r,cloneFuzziness:()=>a,default:()=>u,getFuzziness:()=>s,setFuzziness:()=>o});var r=function(){function e(e){this.setFuzziness(e)}return e.prototype.setFuzziness=function(e){this._fuzziness=e},e.prototype.getFuzziness=function(){return void 0!==this._fuzziness?this._fuzziness:i.getFuzziness()},e.prototype.resetFuzziness=function(){this.setFuzziness(void 0)},e.prototype.check=function(e,t){var n=this.getFuzziness();return n?Math.abs(Math.abs(e)-Math.abs(t))<n:e===t},e}(),i=new r(1e-6);function o(e){i.setFuzziness(e)}function s(){return i.getFuzziness()}function a(){return new r(i.getFuzziness())}function u(e,t,n){var o=i;return void 0!==n&&(o=new r(n)),o.check(e,t)}},"./src/DirectionNode/Layout/Extent/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Extent:()=>r.Extent,checkExtentsEqual:()=>i.checkExtentsEqual});var r=n("./src/DirectionNode/Layout/Extent/Extent.ts"),i=n("./src/DirectionNode/Layout/Extent/checkExtentsEqual.ts")},"./src/DirectionNode/Layout/Layout.ts":(e,t,n)=>{n.r(t),n.d(t,{Layout:()=>a});var r=n("./src/DirectionNode/Layout/Extent/index.ts"),i=n("./src/Direction/index.ts"),o=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),s=n("./src/DirectionNode/Layout/LayoutPhase.ts"),a=function(){function e(e){this._node=e,this._extents=[new r.Extent,new r.Extent,new r.Extent,new r.Extent],this._layoutPhase=s.LayoutPhase.NEEDS_COMMIT,this._absoluteVersion=0,this._absoluteDirty=!0,this._absoluteXPos=NaN,this._absoluteYPos=NaN,this._absoluteScale=NaN,this._hasGroupPos=!1,this._groupXPos=NaN,this._groupYPos=NaN,this._groupScale=NaN,this._size=[NaN,NaN]}return e.prototype.setPhase=function(e){this._layoutPhase=e},e.prototype.phase=function(){return this._layoutPhase},e.prototype.needsCommit=function(){return this.phase()===s.LayoutPhase.NEEDS_COMMIT},e.prototype.setNode=function(e){this._node=e},e.prototype.node=function(){return this._node},e.prototype.commitAbsolutePos=function(){if(this.needsAbsolutePos()){this._absoluteXPos=NaN,this._absoluteYPos=NaN,this._absoluteScale=NaN;var e,t=this.node(),n=[],r=1,i=1;for(t.neighbors().isRoot()||(e=(0,o.findPaintGroup)(t.neighbors().parentNode()).layout()._absoluteVersion);;){if(t.neighbors().isRoot()){this._absoluteXPos=0,this._absoluteYPos=0;break}var s=t.neighbors().parentNode().layout();if(!s._absoluteDirty&&s._absoluteVersion===e){this._absoluteXPos=s._absoluteXPos,this._absoluteYPos=s._absoluteYPos,i=s._absoluteScale*t.scale(),r=s._absoluteScale;break}n.push(t.neighbors().parent().direction()),t=t.neighbors().parentNode()}for(var a=n.length-1;a>=0;--a){var u=n[a];this._absoluteXPos+=t.neighbors().parentX()*r,this._absoluteYPos+=t.neighbors().parentY()*r,r=i;var l=t.layout();l._absoluteDirty&&(l._absoluteXPos=this._absoluteXPos,l._absoluteYPos=this._absoluteYPos,l._absoluteScale=i,l._absoluteDirty=!1,t.neighbors().isRoot()||(l._absoluteVersion=(0,o.findPaintGroup)(t.neighbors().parentNode()).layout()._absoluteVersion)),i*=t.neighbors().nodeAt(u).scale(),t=t.neighbors().nodeAt(u)}this._absoluteXPos+=t.neighbors().parentX()*r,this._absoluteYPos+=t.neighbors().parentY()*r,this._absoluteScale=i,this._absoluteDirty=!1,this.node().neighbors().isRoot()||(this._absoluteVersion=(0,o.findPaintGroup)(this.node().neighbors().parentNode()).layout()._absoluteVersion)}},e.prototype.needsAbsolutePos=function(){return!!this._absoluteDirty||!this.node().neighbors().isRoot()&&this._absoluteVersion!==(0,o.findPaintGroup)(this.node().neighbors().parentNode()).layout()._absoluteVersion},e.prototype.needsPosition=function(){return this.node().layout().needsCommit()||!this._hasGroupPos},e.prototype.absoluteX=function(){return this._absoluteXPos},e.prototype.absoluteY=function(){return this._absoluteYPos},e.prototype.absoluteScale=function(){return this._absoluteScale},e.prototype.invalidateGroupPos=function(){this._hasGroupPos=!1},e.prototype.invalidateAbsolutePos=function(){this._absoluteDirty||++this._absoluteVersion,this._absoluteDirty=!0},e.prototype.commitGroupPos=function(){if(this.needsPosition()){for(var e=this.node(),t=[],n=1,r=1;;){if(e.neighbors().isRoot()||e.paintGroups().isPaintGroup()){this._groupXPos=0,this._groupYPos=0;break}var o=e.neighbors().parentNode().layout();if(!isNaN(o._groupXPos)){this._groupXPos=o._groupXPos,this._groupYPos=o._groupYPos,r=o._groupScale*e.scale(),n=o._groupScale;break}t.push((0,i.reverseDirection)(e.neighbors().parent().direction())),e=e.neighbors().parentNode()}for(var s=t.length-1;s>=0;--s){var a=t[s];s!==t.length-1&&(this._groupXPos+=e.neighbors().parentX()*n,this._groupYPos+=e.neighbors().parentY()*n),n=r,r*=e.neighbors().nodeAt(a).scale(),e=e.neighbors().nodeAt(a)}if(this._groupScale=r,this.node().paintGroups().isPaintGroup()||(this._groupXPos+=e.neighbors().parentX()*n,this._groupYPos+=e.neighbors().parentY()*n),isNaN(this._groupXPos))throw new Error("Calculated NaN group X pos");if(isNaN(this._groupYPos))throw new Error("Calculated NaN group Y pos");if(isNaN(this._groupScale))throw new Error("Calculated NaN group scale");this._hasGroupPos=!0}},e.prototype.groupX=function(){return this._groupXPos},e.prototype.groupY=function(){return this._groupYPos},e.prototype.groupScale=function(){return this._groupScale},e.prototype.extentsAt=function(e){var t=this._extents[e-i.Direction.DOWNWARD];if(void 0===t)throw new Error("No extents for direction: "+(0,i.nameDirection)(e));return t},e.prototype.extentOffsetAt=function(e){return this.extentsAt(e).offset()},e.prototype.setExtentOffsetAt=function(e,t){this.extentsAt(e).setOffset(t)},e.prototype.extentSize=function(e){e[1]=this.extentsAt(i.Direction.FORWARD).boundingValues()[0],e[0]=this.extentsAt(i.Direction.DOWNWARD).boundingValues()[0]},e.prototype.groupSizeRect=function(e){this.groupSize(e),e[2]=e[0],e[3]=e[1],e[0]=this.groupX(),e[1]=this.groupY()},e.prototype.absoluteSizeRect=function(e){this.absoluteSize(e),e[2]=e[0],e[3]=e[1],e[0]=this.absoluteX(),e[1]=this.absoluteY()},e.prototype.size=function(e){e&&(e[0]=this._size[0],e[1]=this._size[1])},e.prototype.setSize=function(e){this._size[0]=e[0],this._size[1]=e[1]},e.prototype.absoluteSize=function(e){this.size(e);var t=this.absoluteScale();e[0]*=t,e[1]*=t},e.prototype.groupSize=function(e){var t=this.groupScale();e[0]=this._size[0]*t,e[1]=this._size[1]*t},e.prototype.inNodeBody=function(e,t,n,r){this.size(r);var i=r,o=this.absoluteX(),s=this.absoluteY(),a=this.absoluteScale();return!(e<n*o-n*a*i[0]/2)&&!(e>n*o+n*a*i[0]/2)&&!(t<n*s-n*a*i[1]/2)&&!(t>n*s+n*a*i[1]/2)},e.prototype.inNodeExtents=function(e,t,n,r){var o=this.absoluteX(),s=this.absoluteY(),a=this.absoluteScale();return this.extentSize(r),!(e<n*o-n*a*this.extentOffsetAt(i.Direction.DOWNWARD))&&!(e>n*o-n*a*this.extentOffsetAt(i.Direction.DOWNWARD)+n*a*r[0])&&!(t<n*s-n*a*this.extentOffsetAt(i.Direction.FORWARD))&&!(t>n*s-n*a*this.extentOffsetAt(i.Direction.FORWARD)+n*a*r[1])},e.prototype.nodeUnderCoords=function(e,t,n){var r;void 0===n&&(n=1);for(var o=[NaN,NaN],s=[this.node()],a=function(e,t){if(void 0!==t){if(!e.neighbors().hasChildAt(t))return;e=e.neighbors().nodeAt(t)}null!=e&&s.push(e)};s.length>0;){var u=s[s.length-1];if(null===u)return s.pop(),null!==(r=s.pop())&&void 0!==r?r:null;if(u.layout().inNodeBody(e,t,n,o)){if(u.neighbors().hasNode(i.Direction.INWARD)&&u.neighbors().nodeAt(i.Direction.INWARD).layout().inNodeExtents(e,t,n,o)){s.push(null),s.push(u.neighbors().nodeAt(i.Direction.INWARD));continue}return u}if(s.pop(),u.layout().inNodeExtents(e,t,n,o)){var l=u.layout();Math.abs(t-n*l.absoluteY())>Math.abs(e-n*l.absoluteX())?(n*l.absoluteX()>e?(a(u,i.Direction.BACKWARD),a(u,i.Direction.FORWARD)):(a(u,i.Direction.FORWARD),a(u,i.Direction.BACKWARD)),n*l.absoluteY()>t?(a(u,i.Direction.UPWARD),a(u,i.Direction.DOWNWARD)):(a(u,i.Direction.DOWNWARD),a(u,i.Direction.UPWARD))):(n*l.absoluteY()>t?(a(u,i.Direction.UPWARD),a(u,i.Direction.DOWNWARD)):(a(u,i.Direction.DOWNWARD),a(u,i.Direction.UPWARD)),n*l.absoluteX()>e?(a(u,i.Direction.BACKWARD),a(u,i.Direction.FORWARD)):(a(u,i.Direction.FORWARD),a(u,i.Direction.BACKWARD)))}}return null},e.prototype.dumpExtentBoundingRect=function(){var e=this.extentOffsetAt(i.Direction.BACKWARD);this.extentsAt(i.Direction.BACKWARD).dump("Backward extent (center at "+e+")");var t=this.extentOffsetAt(i.Direction.FORWARD);this.extentsAt(i.Direction.FORWARD).dump("Forward extent (center at "+t+")");var n=this.extentOffsetAt(i.Direction.DOWNWARD);this.extentsAt(i.Direction.DOWNWARD).dump("Downward extent (center at "+n+")");var r=this.extentOffsetAt(i.Direction.UPWARD);this.extentsAt(i.Direction.UPWARD).dump("Upward extent (center at "+r+")")},e}()},"./src/DirectionNode/Layout/LayoutPhase.ts":(e,t,n)=>{var r;function i(e){switch(e){case r.NULL:return"NULL";case r.NEEDS_COMMIT:return"NEEDS_COMMIT";case r.COMMITTED:return"COMMITTED";case r.IN_COMMIT:return"IN_COMMIT"}throw new Error("Unknown LayoutPhase given: "+e)}n.r(t),n.d(t,{LayoutPhase:()=>r,nameLayoutPhase:()=>i}),function(e){e[e.NULL=0]="NULL",e[e.NEEDS_COMMIT=1]="NEEDS_COMMIT",e[e.COMMITTED=2]="COMMITTED",e[e.IN_COMMIT=3]="IN_COMMIT"}(r||(r={}))},"./src/DirectionNode/Layout/index.ts":(e,t,n)=>{n.r(t),n.d(t,{CommitLayout:()=>o.CommitLayout,Extent:()=>i.Extent,Layout:()=>r.Layout,LayoutPhase:()=>s.LayoutPhase,checkExtentsEqual:()=>i.checkExtentsEqual,nameLayoutPhase:()=>s.nameLayoutPhase});var r=n("./src/DirectionNode/Layout/Layout.ts"),i=n("./src/DirectionNode/Layout/Extent/index.ts"),o=n("./src/DirectionNode/Layout/CommitLayout/index.ts"),s=n("./src/DirectionNode/Layout/LayoutPhase.ts")},"./src/DirectionNode/Neighbors/Alignment.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{Alignment:()=>r,default:()=>i,nameAlignment:()=>o,readAlignment:()=>s}),function(e){e[e.NULL=0]="NULL",e[e.NONE=1]="NONE",e[e.NEGATIVE=2]="NEGATIVE",e[e.CENTER=3]="CENTER",e[e.POSITIVE=4]="POSITIVE",e[e.INWARD_HORIZONTAL=5]="INWARD_HORIZONTAL",e[e.INWARD_VERTICAL=6]="INWARD_VERTICAL"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.NONE:return"NONE";case r.NEGATIVE:return"NEGATIVE";case r.CENTER:return"CENTER";case r.POSITIVE:return"POSITIVE";case r.INWARD_HORIZONTAL:return"HORIZONTAL";case r.INWARD_VERTICAL:return"VERTICAL"}throw new Error("Unknown Alignment given: "+e)}function s(e){if("number"===typeof e)return e;if("string"===typeof e)switch(e=e.toLowerCase()){case"none":case"no":return r.NONE;case"negative":case"neg":case"n":return r.NEGATIVE;case"positive":case"pos":case"p":return r.POSITIVE;case"center":case"c":return r.CENTER;case"vertical":case"v":return r.INWARD_VERTICAL;case"horizontal":case"h":return r.INWARD_HORIZONTAL}return r.NULL}},"./src/DirectionNode/Neighbors/AxisOverlap.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{AxisOverlap:()=>r,default:()=>i,nameAxisOverlap:()=>o,readAxisOverlap:()=>s}),function(e){e[e.NULL=18]="NULL",e[e.ALLOWED=19]="ALLOWED",e[e.PREVENTED=20]="PREVENTED",e[e.DEFAULT=21]="DEFAULT"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.ALLOWED:return"ALLOWED";case r.PREVENTED:return"PREVENTED";case r.DEFAULT:return"DEFAULT"}throw new Error("Unknown AxisOverlap given: "+e)}function s(e){if("number"===typeof e)return e;if("string"===typeof e)switch(e=e.toLowerCase()){case"a":case"allow":case"allowed":return r.ALLOWED;case"p":case"prevent":case"prevented":return r.PREVENTED;case"d":case"def":case"default":case"defaulted":return r.DEFAULT}return r.NULL}},"./src/DirectionNode/Neighbors/Neighbor.ts":(e,t,n)=>{n.r(t),n.d(t,{Neighbor:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Neighbors/Alignment.ts"),o=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),s=function(){function e(e,t){this._node=e,this._direction=t,this._neighbor=void 0,this._alignment=i.default.NULL,this._alignmentOffset=0,this._allowAxisOverlap=o.default.DEFAULT,this._separation=0,this._lineLength=0,this._xPos=NaN,this._yPos=NaN}return e.prototype.separation=function(){return this._separation},e.prototype.setSeparation=function(e){this._separation=e},e.prototype.alignmentOffset=function(){return this._alignmentOffset},e.prototype.setAlignmentOffset=function(e){this._alignmentOffset=e},e.prototype.lineLength=function(){return this._lineLength},e.prototype.setLineLength=function(e){this._lineLength=e},e.prototype.axisOverlap=function(){return this._allowAxisOverlap},e.prototype.setAxisOverlap=function(e){this._allowAxisOverlap=e},e.prototype.getAlignment=function(){return this._alignment},e.prototype.align=function(e){this._alignment=e},e.prototype.xPos=function(){return this._xPos},e.prototype.yPos=function(){return this._yPos},e.prototype.setPos=function(e,t){this._xPos=e,this._yPos=t},e.prototype.direction=function(){return this._direction},e.prototype.reverseDirection=function(){return(0,r.reverseDirection)(this._direction)},e.prototype.meet=function(e){this._neighbor=e},e.prototype.leave=function(){this._neighbor=void 0},e.prototype.neighbor=function(){return this._neighbor},e.prototype.node=function(){return this._node},e}()},"./src/DirectionNode/Neighbors/Neighbors.ts":(e,t,n)=>{n.r(t),n.d(t,{Neighbors:()=>a});var r=n("./src/DirectionNode/Neighbors/Neighbor.ts"),i=n("./src/Direction/index.ts"),o=n("./src/DirectionNode/Neighbors/Alignment.ts"),s=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),a=function(){function e(e){this._node=e,this._neighbors=new Array(i.NUM_DIRECTIONS)}return e.prototype.assignParent=function(e,t){if(e){if(void 0!==t&&(this._parentNeighbor=e.neighbors().at(t)),!this._parentNeighbor)throw new Error("Parent neighbor not found")}else this._parentNeighbor=void 0},e.prototype.parent=function(){if(!this._parentNeighbor)throw new Error("Node has no parent");return this._parentNeighbor},e.prototype.parentDirection=function(){if(!this.isRoot())return(0,i.reverseDirection)(this.parent().direction())},e.prototype.parentNode=function(){if(this.isRoot())throw new Error("Node has no parent");return this.parent().node()},e.prototype.node=function(){return this._node},e.prototype.at=function(e){return this._neighbors[e]},e.prototype.ensure=function(e){return this.at(e)||(this._neighbors[e]=new r.Neighbor(this.node(),e)),this.at(e)},e.prototype.hasNode=function(e){var t;return void 0!==e&&(!(!this.at(e)||!this.at(e).neighbor())||!this.isRoot()&&(null===(t=this.parent())||void 0===t?void 0:t.reverseDirection())===e)},e.prototype.hasNodes=function(e){var t=[void 0,void 0];return this.hasNode((0,i.getNegativeDirection)(e))&&(t[0]=(0,i.getNegativeDirection)(e)),this.hasNode((0,i.getPositiveDirection)(e))&&(t[1]=(0,i.getPositiveDirection)(e)),t},e.prototype.hasChildAt=function(e){return this.isRoot()?this.hasNode(e):this.hasNode(e)&&this.parentDirection()!==e},e.prototype.hasChild=function(e){return this.hasChildAt(e)},e.prototype.hasAncestor=function(e){for(var t,n=this.node();!n.neighbors().isRoot();){if(n==e)return!0;if(!(n=null===(t=n.neighbors().parent())||void 0===t?void 0:t.node()))throw new Error("node was not root but had no parent")}return n==e},e.prototype.hasAnyNeighbors=function(){return this.hasChildAt(i.Direction.DOWNWARD)||this.hasChildAt(i.Direction.UPWARD)||this.hasChildAt(i.Direction.FORWARD)||this.hasChildAt(i.Direction.BACKWARD)||this.hasChildAt(i.Direction.INWARD)},e.prototype.nodeAt=function(e){var t,n=this.at(e);if(n){var r=n.neighbor();if(!r)throw new Error("No node for neighbor");return r}if(!this.isRoot()&&this.parent().reverseDirection()===e){var i=null===(t=this.parent())||void 0===t?void 0:t.node();if(!i)throw new Error("Parent neighbor has no node");return i}},e.prototype.root=function(){for(var e,t=this.node();!t.neighbors().isRoot();){var n=null===(e=t.neighbors().parent())||void 0===e?void 0:e.node();if(!n)break;t=n}return t},e.prototype.isRoot=function(){return!this._parentNeighbor},e.prototype.isRootlike=function(){var e,t;return this.isRoot()||(null===(e=this.parent())||void 0===e?void 0:e.direction())===i.Direction.INWARD||(null===(t=this.parent())||void 0===t?void 0:t.direction())===i.Direction.OUTWARD},e.prototype.lineLengthAt=function(e){return this.hasNode(e)?this.at(e).lineLength():0},e.prototype.separationAt=function(e){if(!(0,i.isCardinalDirection)(e))throw new Error("Direction for separation must be cardinal");if(!this.isRoot()&&e==this.parentDirection())return this.parentNode().neighbors().separationAt((0,i.reverseDirection)(e));if(!this.node().neighbors().hasNode(e))throw new Error("Node must have a child in the given direction");return this.at(e).separation()},e.prototype.getAlignment=function(e){return this.hasNode(e)?this.at(e).getAlignment():o.Alignment.NULL},e.prototype.getParentDirection=function(){if(this.isRoot())throw new Error("Node has no parent");var e=this.parentDirection();if(void 0===e)throw new Error("Node is not root but has no parent direction");return e},e.prototype.align=function(e,t){if(void 0===t){if(this.isRoot())throw new Error("Alignment must have a parent if self-directed");return this.parentNode().neighbors().align((0,i.reverseDirection)(this.getParentDirection()),e)}this.ensure(e).align(t),this.node().invalidate()},e.prototype.axisOverlap=function(e){if(void 0===e){if(this.isRoot())throw new Error("Axis overlap must be set to a parent if no direction is given");return this.parentNode().neighbors().axisOverlap((0,i.reverseDirection)(this.getParentDirection()))}return this.hasNode(e)?this.at(e).axisOverlap():s.AxisOverlap.NULL},e.prototype.setAxisOverlap=function(e,t){if(void 0===t){if(this.isRoot())throw new Error("Axis overlap must be set to a parent if no direction is given");return this.parentNode().neighbors().setAxisOverlap((0,i.reverseDirection)(this.getParentDirection()),e)}this.ensure(e).setAxisOverlap(t),this.node().invalidate()},e.prototype.parentX=function(){var e,t;return this.isRoot()?0:null!==(t=null===(e=this.parent())||void 0===e?void 0:e.xPos())&&void 0!==t?t:NaN},e.prototype.parentY=function(){var e,t;return this.isRoot()?0:null!==(t=null===(e=this.parent())||void 0===e?void 0:e.yPos())&&void 0!==t?t:NaN},e}()},"./src/DirectionNode/Neighbors/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>r.Alignment,AxisOverlap:()=>i.AxisOverlap,Neighbor:()=>o.Neighbor,Neighbors:()=>s.Neighbors,nameAlignment:()=>r.nameAlignment,nameAxisOverlap:()=>i.nameAxisOverlap,readAlignment:()=>r.readAlignment,readAxisOverlap:()=>i.readAxisOverlap});var r=n("./src/DirectionNode/Neighbors/Alignment.ts"),i=n("./src/DirectionNode/Neighbors/AxisOverlap.ts"),o=n("./src/DirectionNode/Neighbors/Neighbor.ts"),s=n("./src/DirectionNode/Neighbors/Neighbors.ts")},"./src/DirectionNode/PaintGroups/PaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroup:()=>a});var r=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),i=n("./src/DirectionNode/PaintGroups/findPaintGroupInsert.ts"),o=n("./src/DirectionNode/PaintGroups/getLastPaintGroup.ts"),s=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),a=function(){function e(e,t){var n=this;if(this._node=e,this._next=this._node,this._prev=this._node,this._explicit=t,this.node().neighbors().isRoot()){var r=this.firstAndLast(),o=r[0],s=r[1];o&&s&&(this.connect(o.paintGroup().prev(),s.paintGroup().next()),this.connect(this.node(),o),this.connect(s,this.node()))}else{var a=this.node().neighbors().parent();if(!a)throw new Error("Node must have a parent if it is not root");a.node().siblings().removeFromLayout(a.direction());var u=a.node().paintGroup(),l=(0,i.findPaintGroupInsert)(u.node(),this.node()),c=l[0],h=l[1];this.connect(c,this.node()),this.connect(this.node(),h)}this.node().invalidate(),this.node().siblings().forEach((function(e){return e.paintGroups().setPaintGroupNode(n.node())})),this.verify()}return e.prototype.clearExplicit=function(){this._explicit=!1},e.prototype.firstAndLast=function(){var e=(0,r.findPaintGroup)(this.node());if(!e.paintGroups().isPaintGroup())return[null,null];for(var t=null,n=null,i=e.paintGroup().next();i!=e&&i.neighbors().hasAncestor(e);i=i.paintGroup().next())i.neighbors().hasAncestor(this.node())&&(t?n=i:(n=i,t=i));return t||(n=this.node(),t=this.node()),[(null===n||void 0===n?void 0:n.paintGroups().isPaintGroup())?n:null,t.paintGroups().isPaintGroup()?t:null]},e.prototype.node=function(){return this._node},e.prototype.connect=function(e,t){var n=e===this.node()?this:e.paintGroup();if(!n)throw new Error("a paint group is missing");n._next=t;var r=t===this.node()?this:t.paintGroup();if(!r)throw new Error("b paint group is missing");r._prev=e},e.prototype.next=function(){return this._next},e.prototype.prev=function(){return this._prev},e.prototype.explicit=function(){return this._explicit},e.prototype.append=function(e){var t=(0,i.findPaintGroupInsert)(this.node(),e),n=t[0],r=t[1],s=(0,o.getLastPaintGroup)(e);this.connect(n,e),this.connect(s,r),this.verify()},e.prototype.merge=function(e){var t=(0,i.findPaintGroupInsert)(this.node(),e),n=t[0],r=t[1],o=n,s=e.paintGroup().next(),a=e.paintGroup().prev();this.connect(o,s),this.connect(a,r),this.verify()},e.prototype.disconnect=function(){var e=(0,o.getLastPaintGroup)(this.node());this.connect(this.node().paintGroup().prev(),e.paintGroup().next()),this.connect(e,this.node()),this.verify()},e.prototype.verify=function(){for(var e=(0,s.default)(),t=this.next();t!==this.node();t=t.paintGroup().next())e();for(t=this.prev();t!==this.node();t=t.paintGroup().prev())e()},e.prototype.crease=function(){this._explicit=!0},e.prototype.uncrease=function(){if(this._explicit=!1,!this.node().neighbors().isRoot()){var e=this.node().neighbors().parent();if(!e)throw new Error("Node is root but has no parent");var t=this.node().paintGroup().last();e.node().siblings().insertIntoLayout(e.direction()),t!==this.node()?this.connect(t,this.next()):this.connect(this.prev(),this.next()),this._next=this.node(),this._prev=this.node();var n=(0,r.findPaintGroup)(e.node());n.siblings().forEach((function(e){return e.paintGroups().setPaintGroupNode(n)})),this.node().paintGroups().clearPaintGroup(),this.node().invalidate(),this.verify()}},e.prototype.last=function(){for(var e=this.node().siblings().prev();e!==this.node()&&!e.paintGroups().isPaintGroup();)e=e.siblings().prev();return e},e.prototype.forEach=function(e){var t=this.node(),n=t;do{if(!t.paintGroups().isPaintGroup())throw new Error("Paint group returned is not a paint group");if(e(t),n===(t=t.paintGroup().prev())&&t!==this.node())throw new Error("loop detected");n=t}while(t!==this.node())},e.prototype.dump=function(){var e=[],t=this.node(),n=(0,s.default)();do{e.push(t),t=t.paintGroup().next(),n()}while(t!==this.node());return e},e}()},"./src/DirectionNode/PaintGroups/PaintGroups.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroups:()=>i});var r=n("./src/DirectionNode/PaintGroups/PaintGroup.ts"),i=function(){function e(e){this._node=e,this._paintGroupNode=e,this._paintGroup=void 0}return e.prototype.node=function(){return this._node},e.prototype.isPaintGroup=function(){return!!this._paintGroup},e.prototype.clearPaintGroup=function(){this._paintGroup=void 0},e.prototype.paintGroupNode=function(){return this._paintGroupNode},e.prototype.setPaintGroupNode=function(e){if(!e)throw new Error("Refusing to set paint group root to null");this._paintGroupNode=e},e.prototype.paintGroup=function(){if(!this._paintGroup){var e=this.paintGroupNode();if(!e)throw new Error("Paint group root is null");if(e===this.node())throw new Error("This root paint group doesn't have a paint group object");return e.paintGroups().paintGroup()}return this._paintGroup},e.prototype.setPaintGroup=function(e){this._paintGroup=e},e.prototype.crease=function(){this.isPaintGroup()?this.paintGroup().crease():this._paintGroup=new r.PaintGroup(this.node(),!0)},e.prototype.uncrease=function(){this.paintGroup()&&this.paintGroup().uncrease()},e}()},"./src/DirectionNode/PaintGroups/comesBefore.ts":(e,t,n)=>{n.r(t),n.d(t,{comesBefore:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/PaintGroups/pathToRoot.ts"),o=function(e,t){if(e===t)return!1;if(e.neighbors().isRoot())return!0;if(t.neighbors().isRoot())return!1;var n=(0,i.pathToRoot)(e).reverse(),o=(0,i.pathToRoot)(t).reverse(),s=0;for(s=0;s<Math.min(o.length,n.length)&&o[s]===n[s];++s);if(--s<0)return!1;var a=n[s];if(a===e)return!0;if(a===t)return!1;var u=a.siblings().layoutOrder(),l=function(e){return u.indexOf((0,r.reverseDirection)(e[s+1].neighbors().parentDirection()))};return l(n)<l(o)}},"./src/DirectionNode/PaintGroups/findClosestPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{findClosestPaintGroup:()=>i});var r=n("./src/DirectionNode/PaintGroups/findDistance.ts"),i=function(e,t){var n=t.map((function(t){return(0,r.findDistance)(e,t)}));return t[n.reduce((function(e,t,r){return-1===e||t<=n[e]?r:e}),-1)]}},"./src/DirectionNode/PaintGroups/findDistance.ts":(e,t,n)=>{n.r(t),n.d(t,{findDistance:()=>i});var r=n("./src/DirectionNode/PaintGroups/pathToRoot.ts"),i=function(e,t){if(e===t)return 0;var n=(0,r.pathToRoot)(e).reverse(),i=(0,r.pathToRoot)(t).reverse(),o=0;for(o=0;o<Math.min(i.length,n.length)&&i[o]===n[o];++o);return 0===o?1/0:n.length-o+(i.length-o)}},"./src/DirectionNode/PaintGroups/findPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{findPaintGroup:()=>r});var r=function(e){if(!e.paintGroups().paintGroupNode()){for(var t=e;!t.neighbors().isRoot()&&!t.paintGroups().isPaintGroup();){if(t.paintGroups().paintGroupNode())return e.paintGroups().setPaintGroupNode(t.paintGroups().paintGroupNode()),e.paintGroups().paintGroupNode();t=t.neighbors().parentNode()}e.paintGroups().setPaintGroupNode(t)}return e.paintGroups().paintGroupNode()}},"./src/DirectionNode/PaintGroups/findPaintGroupInsert.ts":(e,t,n)=>{n.r(t),n.d(t,{findPaintGroupInsert:()=>a});var r=n("./src/DirectionNode/PaintGroups/findClosestPaintGroup.ts"),i=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),o=n("./src/DirectionNode/PaintGroups/comesBefore.ts"),s=n("./src/DirectionNode/PaintGroups/getLastPaintGroup.ts"),a=function e(t,n){if(!t.paintGroups().isPaintGroup())return e(t.paintGroup().node(),n);for(var a=[],u=(0,i.default)(),l=t.paintGroup().next();l!==t;)a.push(l),u(),l=l.paintGroup().next();a.push((0,s.getLastPaintGroup)(t));var c=(0,r.findClosestPaintGroup)(n,a);if((0,o.comesBefore)(c,n)){var h=(0,s.getLastPaintGroup)(c);return[h,h.paintGroup().next()]}return[c.paintGroup().prev(),c]}},"./src/DirectionNode/PaintGroups/getLastPaintGroup.ts":(e,t,n)=>{n.r(t),n.d(t,{getLastPaintGroup:()=>i});var r=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),i=function(e){for(var t=e.paintGroups().isPaintGroup()?e.paintGroup().next():e,n=(0,r.default)();t!==e;){if(!t.neighbors().hasAncestor(e))return t.paintGroup().prev();t=t.paintGroup().next(),n()}return t===e?t.paintGroup().prev():t}},"./src/DirectionNode/PaintGroups/index.ts":(e,t,n)=>{n.r(t),n.d(t,{PaintGroup:()=>i.PaintGroup,PaintGroups:()=>r.PaintGroups});var r=n("./src/DirectionNode/PaintGroups/PaintGroups.ts"),i=n("./src/DirectionNode/PaintGroups/PaintGroup.ts")},"./src/DirectionNode/PaintGroups/makeLimit.ts":(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r=function(e){void 0===e&&(e=5e4);var t=0;return function(){if(++t>e)throw new Error("Endless loop after "+t+" iterations: ")}}},"./src/DirectionNode/PaintGroups/pathToRoot.ts":(e,t,n)=>{n.r(t),n.d(t,{pathToRoot:()=>i});var r=n("./src/DirectionNode/PaintGroups/makeLimit.ts"),i=function(e){for(var t=[],n=(0,r.default)();!e.neighbors().isRoot();)t.push(e),e=e.neighbors().parentNode(),n();return t.push(e),t}},"./src/DirectionNode/Siblings/PreferredAxis.ts":(e,t,n)=>{var r;n.r(t),n.d(t,{PreferredAxis:()=>r,default:()=>i,namePreferredAxis:()=>o,readPreferredAxis:()=>s}),function(e){e[e.NULL=0]="NULL",e[e.PARENT=1]="PARENT",e[e.PERPENDICULAR=2]="PERPENDICULAR",e[e.HORIZONTAL=3]="HORIZONTAL",e[e.VERTICAL=4]="VERTICAL"}(r||(r={}));const i=r;function o(e){switch(e){case r.NULL:return"NULL";case r.PARENT:return"PARENT";case r.PERPENDICULAR:return"PERPENDICULAR";case r.HORIZONTAL:return"HORIZONTAL";case r.VERTICAL:return"VERTICAL"}throw new Error("Unknown PreferredAxis given: "+e)}function s(e){if("number"===typeof e)return e;switch(e=e.toLowerCase()){case"pa":case"par":case"parent":return r.PARENT;case"pe":case"perp":case"perpendicular":return r.PERPENDICULAR;case"v":case"vert":case"vertical":return r.VERTICAL;case"h":case"horz":case"horizontal":return r.HORIZONTAL}return r.NULL}},"./src/DirectionNode/Siblings/Siblings.ts":(e,t,n)=>{n.r(t),n.d(t,{Siblings:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Siblings/PreferredAxis.ts"),o=[r.Direction.INWARD,r.Direction.BACKWARD,r.Direction.FORWARD,r.Direction.DOWNWARD,r.Direction.UPWARD,r.Direction.OUTWARD],s=[r.Direction.INWARD,r.Direction.DOWNWARD,r.Direction.UPWARD,r.Direction.BACKWARD,r.Direction.FORWARD,r.Direction.OUTWARD],a=function(){function e(e){this._node=e,this._prev=this._node,this._next=this._node,this._layoutPreference=i.PreferredAxis.HORIZONTAL}return e.prototype.forEach=function(e){var t=this.node();do{e(t),t=t.siblings().prev()}while(t!==this.node())},e.prototype.node=function(){return this._node},e.prototype.verify=function(){for(var e=0,t=this.next();t!==this.node();t=t.siblings().next()){if(e>1e5)throw new Error;++e}},e.prototype.removeFromLayout=function(e){var t=this.node().neighbors().nodeAt(e);if(t){var n=this.node().siblings().earlier(e),r=t.siblings().head(t);n?this.connect(n,t.siblings().next()):this.connect(r.siblings().prev(),t.siblings().next()),this.connect(t,r),this.verify(),t.siblings().verify()}},e.prototype.connect=function(e,t){e.siblings()._next=t,t.siblings()._prev=e},e.prototype.insertIntoLayout=function(e){var t=this.node().neighbors().nodeAt(e);if(t){var n=t.siblings().head(),r=this.node().siblings().later(e),i=this.node().siblings().earlier(e),o=t;i?this.connect(i,n):r?this.connect(r.siblings().head().siblings().prev(),n):this.connect(this.prev(),n),r?this.connect(o,r.siblings().head()):this.connect(o,this.node()),this.verify()}},e.prototype.next=function(){return this._next},e.prototype.prev=function(){return this._prev},e.prototype.head=function(e){for(var t,n,r=this.node();;){n=!1;for(var i=r.siblings().layoutOrder(),o=0;o<i.length;++o){var s=i[o],a=r.neighbors().hasNode(s)?r.neighbors().nodeAt(s):void 0;if(a&&a!=e&&(null===(t=r.neighbors().parent())||void 0===t?void 0:t.reverseDirection())!==s&&!a.paintGroups().isPaintGroup()){r=a,n=!0;break}}if(!n)break}return r},e.prototype.earlier=function(e){for(var t,n,r=this.node().siblings().layoutOrder(),i=!1,o=r.length-1;o>=0;--o){var s=r[o];if(s!==e){if(i&&(this.node().neighbors().isRoot()||s!==(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection()))&&this.node().neighbors().hasNode(s)){var a=this.node().neighbors().nodeAt(s);if(a&&!a.paintGroups().isPaintGroup()){n=a;break}}}else i=!0}return n},e.prototype.later=function(e){for(var t,n,r=this.node().siblings().layoutOrder(),i=!1,o=0;o<r.length;++o){var s=r[o];if(s!==e){if(i&&(this.node().neighbors().isRoot()||s!==(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection()))&&this.node().neighbors().hasNode(s)){var a=this.node().neighbors().nodeAt(s);if(a&&!a.paintGroups().isPaintGroup()){n=a;break}}}else i=!0}return n},e.prototype.horzToVert=function(){var e=this.node().neighbors().isRoot()?null:this.node().neighbors().parentDirection(),t=e===r.Direction.BACKWARD?null:this.node().neighbors().nodeAt(r.Direction.BACKWARD),n=e===r.Direction.FORWARD?null:this.node().neighbors().nodeAt(r.Direction.FORWARD),i=e===r.Direction.UPWARD?null:this.node().neighbors().nodeAt(r.Direction.UPWARD),o=e===r.Direction.DOWNWARD?null:this.node().neighbors().nodeAt(r.Direction.DOWNWARD),s=t||n;s&&(s=s.siblings().head());var a=n||t,u=o||i;u&&(u=u.siblings().head());var l=i||o;if(s&&u){var c=s.siblings().prev();if(!l)throw new Error("Undefined siblings");var h=l.siblings().next();if(!l||!a||!h)throw new Error("Undefined siblings");this.connect(c,u),this.connect(a,h),this.connect(l,s),this.verify()}},e.prototype.vertToHorz=function(){var e=this.node().neighbors().isRoot()?null:this.node().neighbors().parentDirection(),t=e===r.Direction.BACKWARD?null:this.node().neighbors().nodeAt(r.Direction.BACKWARD),n=e===r.Direction.FORWARD?null:this.node().neighbors().nodeAt(r.Direction.FORWARD),i=e===r.Direction.UPWARD?null:this.node().neighbors().nodeAt(r.Direction.UPWARD),o=e===r.Direction.DOWNWARD?null:this.node().neighbors().nodeAt(r.Direction.DOWNWARD),s=t||n;s&&(s=s.siblings().head());var a=n||t,u=o||i;u&&(u=u.siblings().head());var l=i||o;if(s&&u){if(!l||!a)throw new Error("Undefined siblings");this.connect(u.siblings().prev(),s),this.connect(l,a.siblings().next()),this.connect(a,u),this.verify()}},e.prototype.dump=function(){var e=[],t=this.node();do{t=t.siblings().next(),e.push(t)}while(t!==this.node());return e},e.prototype.sanitizeLayoutPreference=function(e){var t,n=null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.direction();if(void 0===n)throw new Error("Cannot sanitize root layout preference");var o=(0,r.getDirectionAxis)(n);return e===i.PreferredAxis.VERTICAL?e=o===r.Axis.VERTICAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR:e===i.PreferredAxis.HORIZONTAL&&(e=o===r.Axis.HORIZONTAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR),e},e.prototype.getLayoutPreference=function(){return this._layoutPreference},e.prototype.convertLayoutPreference=function(e){var t=this.node();t.siblings().getLayoutPreference()===i.PreferredAxis.PARENT?r.Axis.VERTICAL===(0,r.getDirectionAxis)(e)?t.siblings()._layoutPreference=i.PreferredAxis.VERTICAL:t.siblings()._layoutPreference=i.PreferredAxis.HORIZONTAL:t.siblings().getLayoutPreference()===i.PreferredAxis.PERPENDICULAR&&(r.Axis.VERTICAL===(0,r.getDirectionAxis)(e)?t.siblings()._layoutPreference=i.PreferredAxis.HORIZONTAL:t.siblings()._layoutPreference=i.PreferredAxis.VERTICAL)},e.prototype.canonicalLayoutPreference=function(){var e;if(this.node().neighbors().isRoot())throw new Error("Root nodes do not have a canonical layout preference");var t=null===(e=this.node().neighbors().parent())||void 0===e?void 0:e.direction();if(void 0===t)throw new Error("Node is not root but has no parent");var n=this.getLayoutPreference();switch(this.getLayoutPreference()){case i.PreferredAxis.HORIZONTAL:n=(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR;break;case i.PreferredAxis.VERTICAL:n=(0,r.getDirectionAxis)(t)===r.Axis.VERTICAL?i.PreferredAxis.PARENT:i.PreferredAxis.PERPENDICULAR;break;case i.PreferredAxis.PERPENDICULAR:case i.PreferredAxis.PARENT:n=this.getLayoutPreference();break;case i.PreferredAxis.NULL:throw new Error("Node's PreferredAxis must not be null")}return n},e.prototype.setLayoutPreference=function(e){var t;if(this.node().neighbors().isRoot()){if(e!==i.PreferredAxis.VERTICAL&&e!==i.PreferredAxis.HORIZONTAL)throw new Error("Root layout preference can only be VERTICAL or HORIZONTAL");if(this.getLayoutPreference()===e)return;return e===i.PreferredAxis.VERTICAL?this.horzToVert():this.vertToHorz(),void(this._layoutPreference=e)}e=this.sanitizeLayoutPreference(e);var n=this.canonicalLayoutPreference();if(this._layoutPreference=e,n!==this.canonicalLayoutPreference()){var o=null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.direction();if(!o)throw new Error("unreachable");var s=(0,r.getDirectionAxis)(o);n===i.PreferredAxis.PARENT?s===r.Axis.HORIZONTAL?this.horzToVert():this.vertToHorz():s===r.Axis.VERTICAL?this.horzToVert():this.vertToHorz(),this.node().invalidate()}},e.prototype.pull=function(e){var t,n;if(this.node().neighbors().isRoot()||(null===(t=this.node().neighbors().parent())||void 0===t?void 0:t.reverseDirection())===r.Direction.OUTWARD)(0,r.isVerticalDirection)(e)?this.setLayoutPreference(i.PreferredAxis.VERTICAL):this.setLayoutPreference(i.PreferredAxis.HORIZONTAL);else{var o=null===(n=this.node().neighbors().parent())||void 0===n?void 0:n.direction();if(void 0===o)throw new Error("unreachable");(0,r.getDirectionAxis)(e)===(0,r.getDirectionAxis)(o)?this.setLayoutPreference(i.PreferredAxis.PARENT):this.setLayoutPreference(i.PreferredAxis.PERPENDICULAR)}},e.prototype.layoutOrder=function(){var e;if(this.node().neighbors().isRoot())return this.getLayoutPreference()===i.PreferredAxis.HORIZONTAL||this.getLayoutPreference()===i.PreferredAxis.PERPENDICULAR?o:s;var t=null===(e=this.node().neighbors().parent())||void 0===e?void 0:e.direction();if(void 0===t)throw new Error("unreachable");return this.canonicalLayoutPreference()===i.PreferredAxis.PERPENDICULAR?(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?s:o:(0,r.getDirectionAxis)(t)===r.Axis.HORIZONTAL?o:s},e}()},"./src/DirectionNode/Siblings/index.ts":(e,t,n)=>{n.r(t),n.d(t,{PreferredAxis:()=>i.PreferredAxis,Siblings:()=>r.Siblings,namePreferredAxis:()=>i.namePreferredAxis,readPreferredAxis:()=>i.readPreferredAxis});var r=n("./src/DirectionNode/Siblings/Siblings.ts"),i=n("./src/DirectionNode/Siblings/PreferredAxis.ts")},"./src/DirectionNode/connectNode.ts":(e,t,n)=>{n.r(t),n.d(t,{connectNode:()=>s});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/Neighbors/Alignment.ts"),o=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts"),s=function(e,t,n){if(t==r.Direction.OUTWARD)throw new Error("By rule, nodes cannot be spawned in the outward direction.");if(void 0===t)throw new Error("Direction must not be undefined");if(t===e.neighbors().parentDirection())throw new Error("Cannot connect a node in the parent's direction");e.neighbors().hasNode(t)&&e.disconnect(t),n.neighbors().isRoot()||n.disconnect(),n.neighbors().hasNode((0,r.reverseDirection)(t))&&n.disconnect((0,r.reverseDirection)(t));var s=e.neighbors().ensure(t);return s.getAlignment()===i.default.NULL&&s.align(i.default.NONE),s.meet(n),n.neighbors().assignParent(e,t),n.paintGroups().paintGroup().explicit()?(0,o.findPaintGroup)(e).paintGroups().paintGroup().append(n):(e.siblings().insertIntoLayout(t),n.paintGroups().setPaintGroupNode(e.paintGroups().paintGroupNode()),n.siblings().forEach((function(t){return t.paintGroups().setPaintGroupNode(e.paintGroups().paintGroupNode())})),n.paintGroups().paintGroup().next()!==n&&(0,o.findPaintGroup)(e).paintGroups().paintGroup().merge(n),n.paintGroups().clearPaintGroup()),e.invalidate(),n}},"./src/DirectionNode/disconnectNode.ts":(e,t,n)=>{n.r(t),n.d(t,{disconnectNode:()=>i});var r=n("./src/Direction/index.ts"),i=function(e,t){if(void 0===t)return e.neighbors().isRoot()?e:e.neighbors().parentNode().disconnect((0,r.reverseDirection)(e.neighbors().parentDirection()));if(e.neighbors().hasNode(t)){if(!e.neighbors().isRoot()&&e.neighbors().parentDirection()===t)return e.neighbors().parentNode().disconnect((0,r.reverseDirection)(e.neighbors().parentDirection()));var n=e.neighbors().at(t),i=n.neighbor(),o=!i.paintGroups().isPaintGroup();return i.paintGroups().isPaintGroup()||i.paintGroups().crease(),n.leave(),i.neighbors().assignParent(void 0),i.paintGroups().paintGroup().disconnect(),o&&i.paintGroups().paintGroup().clearExplicit(),i.siblings().convertLayoutPreference(t),e.invalidate(),i}}},"./src/DirectionNode/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>u.Alignment,AxisOverlap:()=>u.AxisOverlap,CommitLayout:()=>a.CommitLayout,DirectionNode:()=>r.DirectionNode,Extent:()=>a.Extent,Fit:()=>s.Fit,Layout:()=>a.Layout,LayoutPhase:()=>a.LayoutPhase,Neighbor:()=>u.Neighbor,Neighbors:()=>u.Neighbors,PaintGroup:()=>o.PaintGroup,PaintGroups:()=>o.PaintGroups,PreferredAxis:()=>i.PreferredAxis,Siblings:()=>i.Siblings,checkExtentsEqual:()=>a.checkExtentsEqual,nameAlignment:()=>u.nameAlignment,nameAxisOverlap:()=>u.nameAxisOverlap,nameFit:()=>s.nameFit,nameLayoutPhase:()=>a.nameLayoutPhase,namePreferredAxis:()=>i.namePreferredAxis,readAlignment:()=>u.readAlignment,readAxisOverlap:()=>u.readAxisOverlap,readFit:()=>s.readFit,readPreferredAxis:()=>i.readPreferredAxis});var r=n("./src/DirectionNode/DirectionNode.ts"),i=n("./src/DirectionNode/Siblings/index.ts"),o=n("./src/DirectionNode/PaintGroups/index.ts"),s=n("./src/DirectionNode/Fit.ts"),a=n("./src/DirectionNode/Layout/index.ts"),u=n("./src/DirectionNode/Neighbors/index.ts")},"./src/index.ts":(e,t,n)=>{n.r(t),n.d(t,{Alignment:()=>i.Alignment,Axis:()=>r.Axis,AxisOverlap:()=>i.AxisOverlap,CommitLayout:()=>i.CommitLayout,Direction:()=>r.Direction,DirectionCaret:()=>o.DirectionCaret,DirectionNode:()=>i.DirectionNode,Extent:()=>i.Extent,Fit:()=>i.Fit,Layout:()=>i.Layout,LayoutPhase:()=>i.LayoutPhase,NUM_DIRECTIONS:()=>r.NUM_DIRECTIONS,Neighbor:()=>i.Neighbor,Neighbors:()=>i.Neighbors,PaintGroup:()=>i.PaintGroup,PaintGroups:()=>i.PaintGroups,PreferredAxis:()=>i.PreferredAxis,SHRINK_SCALE:()=>o.SHRINK_SCALE,Siblings:()=>i.Siblings,alternateDirection:()=>r.alternateDirection,checkExtentsEqual:()=>i.checkExtentsEqual,deserializeParsegraph:()=>l.deserializeParsegraph,directionSign:()=>r.directionSign,forEachCardinalDirection:()=>r.forEachCardinalDirection,forEachDirection:()=>r.forEachDirection,getDirectionAxis:()=>r.getDirectionAxis,getNegativeDirection:()=>r.getNegativeDirection,getPerpendicularAxis:()=>r.getPerpendicularAxis,getPositiveDirection:()=>r.getPositiveDirection,isCardinalDirection:()=>r.isCardinalDirection,isHorizontalDirection:()=>r.isHorizontalDirection,isNegativeDirection:()=>r.isNegativeDirection,isPositiveDirection:()=>r.isPositiveDirection,isVerticalDirection:()=>r.isVerticalDirection,nameAlignment:()=>i.nameAlignment,nameAxis:()=>r.nameAxis,nameAxisOverlap:()=>i.nameAxisOverlap,nameDirection:()=>r.nameDirection,nameFit:()=>i.nameFit,nameLayoutPhase:()=>i.nameLayoutPhase,namePreferredAxis:()=>i.namePreferredAxis,paintGroupBounds:()=>s.paintGroupBounds,paintNodeBounds:()=>u.paintNodeBounds,paintNodeLines:()=>a.paintNodeLines,readAlignment:()=>i.readAlignment,readAxisOverlap:()=>i.readAxisOverlap,readDirection:()=>r.readDirection,readFit:()=>i.readFit,readPreferredAxis:()=>i.readPreferredAxis,reverseDirection:()=>r.reverseDirection,serializeParsegraph:()=>l.serializeParsegraph,turnLeft:()=>r.turnLeft,turnNegative:()=>r.turnNegative,turnPositive:()=>r.turnPositive,turnRight:()=>r.turnRight});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=n("./src/DirectionCaret.ts"),s=n("./src/paintGroupBounds.ts"),a=n("./src/paintNodeLines.ts"),u=n("./src/paintNodeBounds.ts"),l=n("./src/serializeParsegraph.ts")},"./src/paintGroupBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{paintGroupBounds:()=>o});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/PaintGroups/findPaintGroup.ts");function o(e){if(!e.neighbors().isRoot()&&!e.paintGroups().isPaintGroup())throw new Error("Node must be a paint group");var t=e,n=[NaN,NaN],o={};do{(t=t.siblings().next()).value().size(n);var s={left:n[0]/2,top:n[1]/2,right:n[0]/2,bottom:n[1]/2};o[t.id()]=s;for(var a=t.siblings().layoutOrder(),u=0;u<a.length;++u){var l=a[u];if(l!==r.Direction.OUTWARD&&l!==r.Direction.INWARD&&t.neighbors().hasChildAt(l)){var c=t.neighbors().nodeAt(l);if((0,i.findPaintGroup)(c)===e){var h=o[c.id()];if(!h)throw new Error("Child paint group bounds must have been calculated before its parent");if(Number.isNaN(h.left))throw new Error("Bounds must not be NaN");var d=t.neighbors().at(l);switch(l){case r.Direction.UPWARD:s.top=Math.max(s.top,h.top+d.separation()),s.left=Math.max(s.left,h.left-d.alignmentOffset()),s.right=Math.max(s.right,h.right+d.alignmentOffset()),s.bottom=Math.max(s.bottom,h.bottom-d.separation());break;case r.Direction.DOWNWARD:s.top=Math.max(s.top,h.top-d.separation()),s.left=Math.max(s.left,h.left-d.alignmentOffset()),s.right=Math.max(s.right,h.right+d.alignmentOffset()),s.bottom=Math.max(s.bottom,h.bottom+d.separation());break;case r.Direction.FORWARD:s.top=Math.max(s.top,h.top-d.alignmentOffset()),s.left=Math.max(s.left,h.left-d.separation()),s.right=Math.max(s.right,h.right+d.separation()),s.bottom=Math.max(s.bottom,h.bottom+d.alignmentOffset());break;case r.Direction.BACKWARD:s.top=Math.max(s.top,h.top-d.alignmentOffset()),s.left=Math.max(s.left,h.left+d.separation()),s.right=Math.max(s.right,h.right-d.separation()),s.bottom=Math.max(s.bottom,h.bottom+d.alignmentOffset());break;default:throw new Error("Unexpected node direction: "+(0,r.nameDirection)(l))}}else switch(d=t.neighbors().at(l),l){case r.Direction.UPWARD:s.top=Math.max(s.top,n[1]/2+d.lineLength());break;case r.Direction.DOWNWARD:s.bottom=Math.max(s.bottom,n[1]/2+d.lineLength());break;case r.Direction.FORWARD:s.right=Math.max(s.right,n[0]/2+d.lineLength());break;case r.Direction.BACKWARD:s.left=Math.max(s.left,n[0]/2+d.lineLength());break;default:throw new Error("Unexpected node direction: "+(0,r.nameDirection)(l))}}}}while(t!==e);return o[t.id()]}},"./src/paintNodeBounds.ts":(e,t,n)=>{n.r(t),n.d(t,{paintNodeBounds:()=>o});var r=n("./src/DirectionNode/index.ts"),i=[NaN,NaN];function o(e,t){if(2!==arguments.length||!(e instanceof r.DirectionNode)||"function"!==typeof t)throw new Error("Usage: paintNodeBounds(node, painter)");var n=e.layout();n.groupSize(i),t(n.groupX(),n.groupY(),i[0],i[1])}},"./src/paintNodeLines.ts":(e,t,n)=>{n.r(t),n.d(t,{paintNodeLines:()=>a});var r=n("./src/Direction/index.ts"),i=n("./src/DirectionNode/index.ts"),o=[NaN,NaN],s=function(e,t,n,i){var s;if(i.neighbors().parentDirection()!=n&&i.neighbors().hasChild(n)){var a=i.neighbors().at(n),u=i.layout(),l=u.groupScale(),c=null===(s=a.neighbor())||void 0===s?void 0:s.layout().groupScale();if("number"!==typeof c||isNaN(c))throw console.log(a.node),new Error(a.node+"'s groupScale must be a number but was "+c);var h=e*c,d=u.groupX(),f=u.groupY();u.size(o);var p=(0,r.directionSign)(n)*l*(a.lineLength()-((0,r.isVerticalDirection)(n)?o[1]:o[0])/2);(0,r.isVerticalDirection)(n)?t(d,f+p/2+l*(0,r.directionSign)(n)*o[1]/2,h,Math.abs(p)):t(d+p/2+l*(0,r.directionSign)(n)*o[0]/2,f,Math.abs(p),h)}};function a(e,t,n){if(!(e instanceof i.DirectionNode)||3!==arguments.length||isNaN(t)||"function"!==typeof n)throw new Error("Usage: paintNodeLines(node, lineThickness, painter)");(0,r.forEachCardinalDirection)((function(r){s(t,n,r,e)}))}},"./src/serializeParsegraph.ts":(e,t,n)=>{n.r(t),n.d(t,{deserializeParsegraph:()=>s,serializeParsegraph:()=>o});var r=n("./src/index.ts"),i=n("./src/DirectionNode/DirectionNode.ts"),o=function(e){var t={};return e.paintGroup().forEach((function(e){e.siblings().forEach((function(e){t[e.id()]={value:e.value(),scale:e.scale(),fit:e.nodeFit(),layoutPreference:e.siblings().getLayoutPreference(),parentId:e.neighbors().isRoot()?null:e.neighbors().parentNode().id(),parentDir:e.neighbors().isRoot()?null:e.neighbors().parentDirection(),alignment:e.neighbors().isRoot()?r.Alignment.NONE:e.neighbors().parentNode().neighbors().getAlignment((0,r.reverseDirection)(e.neighbors().parentDirection())),paintGroup:e.paintGroups().isPaintGroup()}}))})),{__parsegraph:t}},s=function(e){e.__parsegraph&&(e=e.__parsegraph);var t={},n=null;return Object.keys(e).forEach((function(r){var o=e[r],s=new i.DirectionNode(o.value);s.setScale(o.scale),s.setNodeFit(o.fit),s.setId(r),t[r]=s,null===o.parentId&&(n=t[r])})),Object.keys(e).forEach((function(n){if(null!==e[n].parentId){var i=t[e[n].parentId],o=(0,r.reverseDirection)(e[n].parentDir);e[n].paintGroup&&t[n].paintGroups().crease(),i.connect(o,t[n]),i.neighbors().align(o,e[n].alignment),t[n].siblings().setLayoutPreference(e[n].layoutPreference)}else t[n].siblings().setLayoutPreference(e[n].layoutPreference)})),n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./src/index.ts")})(),e.exports=t()},172:(e,t,n)=>{var r=n(31);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var t=!1,n=[],a=8;for(;a<e.length;){i[3]=e[a++],i[2]=e[a++],i[1]=e[a++],i[0]=e[a++];var u=s[0]+4,l=new Uint8Array(u);l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++];var c=String.fromCharCode(l[0])+String.fromCharCode(l[1])+String.fromCharCode(l[2])+String.fromCharCode(l[3]);if(!n.length&&"IHDR"!==c)throw new Error("IHDR header missing");if("IEND"===c){t=!0,n.push({name:c,data:new Uint8Array(0)});break}for(var h=4;h<u;h++)l[h]=e[a++];i[3]=e[a++],i[2]=e[a++],i[1]=e[a++],i[0]=e[a++];var d=o[0];if(r.buf(l)!==d)throw new Error("CRC values for "+c+" header do not match, PNG file is likely corrupted");var f=new Uint8Array(l.buffer.slice(4));n.push({name:c,data:f})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var i=new Uint8Array(4),o=new Int32Array(i.buffer),s=new Uint32Array(i.buffer)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,m);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var N=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),D=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var B,G=Object.assign;function M(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function F(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case D:return"Portal";case _:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return G({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){$(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return G({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function oe(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ne=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var De=null,Ae=null,we=null;function _e(e){if(e=bi(e)){if("function"!==typeof De)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),De(e.stateNode,e.type,t))}}function Pe(e){Ae?we?we.push(e):we=[e]:Ae=e}function Ee(){if(Ae){var e=Ae,t=we;if(we=Ae=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Se(e,t){return e(t)}function Re(){}var Ce=!1;function Le(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Se(e,t,n)}finally{Ce=!1,(null!==Ae||null!==we)&&(Re(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ke=!1;if(c)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ce){ke=!1}function Ie(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,Ge=null,Me=!1,We=null,Fe={onError:function(e){Be=!0,Ge=e}};function ze(e,t,n,r,i,o,s,a,u){Be=!1,Ge=null,Ie.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return je(i),e;if(s===r)return je(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,qe=i.unstable_requestPaint,$e=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function Nt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Dt,At,wt,_t,Pt=!1,Et=[],St=null,Rt=null,Ct=null,Lt=new Map,Ot=new Map,kt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Bt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Dt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Gt(e){var t=mi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Dt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ne=r,n.target.dispatchEvent(r),Ne=null,t.shift()}return!0}function Wt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){Pt=!1,null!==St&&Mt(St)&&(St=null),null!==Rt&&Mt(Rt)&&(Rt=null),null!==Ct&&Mt(Ct)&&(Ct=null),Lt.forEach(Wt),Ot.forEach(Wt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&zt(St,e),null!==Rt&&zt(Rt,e),null!==Ct&&zt(Ct,e),Lt.forEach(t),Ot.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Gt(n),null===n.blockedOn&&kt.shift()}var Vt=N.ReactCurrentBatchConfig,jt=!0;function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Xt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Yt(e,t,n,r){if(jt){var i=Zt(e,t,n,r);if(null===i)jr(e,t,r,Kt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Bt(St,e,t,n,r,i),!0;case"dragenter":return Rt=Bt(Rt,e,t,n,r,i),!0;case"mouseover":return Ct=Bt(Ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lt.set(o,Bt(Lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Bt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Zt(e,t,n,r))&&jr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Kt=null;function Zt(e,t,n,r){if(Kt=null,null!==(e=mi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=G({},ln,{view:0,detail:0}),dn=on(hn),fn=G({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(G({},fn,{dataTransfer:0})),yn=on(G({},hn,{relatedTarget:0})),vn=on(G({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=G({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),Nn=on(G({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function _n(){return wn}var Pn=G({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Pn),Sn=on(G({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(G({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=on(G({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=G({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Ln),kn=[9,13,27,32],Tn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Bn=c&&"TextEvent"in window&&!In,Gn=c&&(!Tn||In&&8<In&&11>=In),Mn=String.fromCharCode(32),Wn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Pe(r),0<(t=Xr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Kn(e){Mr(e,0)}function Zn(e){if(Y(Ni(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Yn=Xn=null)}function nr(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];Hn(t,Yn,e,xe(e)),Le(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function or(e,t){if("click"===e)return Zn(t)}function sr(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,mr=null,br=!1;function Nr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Xr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Ar={},wr={};function _r(e){if(Ar[e])return Ar[e];if(!Dr[e])return e;var t,n=Dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Ar[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);var Pr=_r("animationend"),Er=_r("animationiteration"),Sr=_r("animationstart"),Rr=_r("transitionend"),Cr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Cr.set(e,t),u(t,[e])}for(var kr=0;kr<Lr.length;kr++){var Tr=Lr[kr];Or(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Or(Pr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Sr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Gr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,l){if(ze.apply(this,arguments),Be){if(!Be)throw Error(o(198));var c=Ge;Be=!1,Ge=null,Me||(Me=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Gr(i,a,l),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Gr(i,a,l),o=u}}}if(Me)throw e=We,Me=!1,We=null,e}function Wr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(qt(t)){case 1:var i=Ht;break;case 4:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=mi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}Le((function(){var r=o,i=xe(n),s=[];e:{var a=Cr.get(e);if(void 0!==a){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Pr:case Er:case Sr:u=vn;break;case Rr:u=Cn;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Sn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Oe(p,d))&&c.push(Hr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Ne||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(h=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:Ni(u),f=null==l?a:Ni(l),(a=new c(g,p+"leave",u,n,i)).target=h,a.relatedTarget=f,g=null,mi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,g=c),h=g,u&&l)e:{for(d=l,p=0,f=c=u;f;f=Yr(f))p++;for(f=0,g=d;g;g=Yr(g))f++;for(;0<p-f;)c=Yr(c),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yr(c),d=Yr(d)}c=null}else c=null;null!==u&&Kr(s,a,u,c,!1),null!==l&&null!==h&&Kr(s,h,l,c,!0)}if("select"===(u=(a=r?Ni(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var y=qn;else if(jn(a))if($n)y=sr;else{y=ir;var v=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(s,y,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?Ni(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(yr=v,vr=r,mr=null);break;case"focusout":mr=vr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Nr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Nr(s,n,i)}var m;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Gn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(m=en()):(Qt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(v=Xr(r,b)).length&&(b=new Nn(b,e,null,n,i),s.push({event:b,listeners:v}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Wn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Tn&&Fn(e,t)?(e=en(),Jt=Qt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new Nn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=m))}Mr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Oe(n,o))&&s.unshift(Hr(n,u,a)):i||null!=(u=Oe(n,o))&&s.push(Hr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Zr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(qr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,yi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function mi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Di=[],Ai=-1;function wi(e){return{current:e}}function _i(e){0>Ai||(e.current=Di[Ai],Di[Ai]=null,Ai--)}function Pi(e,t){Ai++,Di[Ai]=e.current,e.current=t}var Ei={},Si=wi(Ei),Ri=wi(!1),Ci=Ei;function Li(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){_i(Ri),_i(Si)}function Ti(e,t,n){if(Si.current!==Ei)throw Error(o(168));Pi(Si,t),Pi(Ri,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return G({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ci=Si.current,Pi(Si,e),Pi(Ri,Ri.current),!0}function Gi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ii(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,_i(Ri),_i(Si),Pi(Si,e)):_i(Ri),Pi(Ri,n)}var Mi=null,Wi=!1,Fi=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Ui(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Wi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ye(Je,Ui),i}finally{bt=t,Fi=!1}}return null}var Vi=[],ji=0,Hi=null,Xi=0,Yi=[],Ki=0,Zi=null,qi=1,$i="";function Qi(e,t){Vi[ji++]=Xi,Vi[ji++]=Hi,Hi=e,Xi=t}function Ji(e,t,n){Yi[Ki++]=qi,Yi[Ki++]=$i,Yi[Ki++]=Zi,Zi=e;var r=qi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qi=1<<32-st(t)+i|n<<i|r,$i=o+e}else qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Vi[--ji],Vi[ji]=null,Xi=Vi[--ji],Vi[ji]=null;for(;e===Zi;)Zi=Yi[--Ki],Yi[Ki]=null,$i=Yi[--Ki],Yi[Ki]=null,qi=Yi[--Ki],Yi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var yo=N.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=G({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=wi(null),bo=null,No=null,xo=null;function Do(){xo=No=bo=null}function Ao(e){var t=mo.current;_i(mo),e._currentValue=t}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){bo=e,xo=No=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Na=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===No){if(null===bo)throw Error(o(308));No=e,bo.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var Eo=null;function So(e){null===Eo?Eo=[e]:Eo.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,Co(e,r)}function Co(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function To(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ru)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Co(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,Co(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Go(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(s=0,c=l=u=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=G({},h,d);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=f,u=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Gu|=s,e.lanes=s,e.memoizedState=h}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:G({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=To(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Io(e,o,i))&&(rl(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=To(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Io(e,o,i))&&(rl(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=To(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Io(e,i,r))&&(rl(t,e,r,n),Bo(t,e,r))}};function Vo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function jo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Oi(t)?Ci:Si.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Oi(t)?Ci:Si.current,i.context=Li(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Zo(o)===t.type)?((r=i(t,n.props)).ref=Yo(e,t,n),r.return=e,r):((r=Il(n.type,n.key,n.props,null,e.mode,r)).ref=Yo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case D:return(t=Wl(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case D:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:h(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,a,u){for(var l=null,c=null,h=o,g=o=0,y=null;null!==h&&g<a.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var v=f(i,h,a[g],u);if(null===v){null===h&&(h=y);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===c?l=v:c.sibling=v,c=v,h=y}if(g===a.length)return n(i,h),io&&Qi(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],u))&&(o=s(h,o,g),null===c?l=h:c.sibling=h,c=h);return io&&Qi(i,g),l}for(h=r(i,h);g<a.length;g++)null!==(y=p(h,i,g,a[g],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),o=s(y,o,g),null===c?l=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(i,e)})),io&&Qi(i,g),l}function y(i,a,u,l){var c=I(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,g=a,y=a=0,v=null,m=u.next();null!==g&&!m.done;y++,m=u.next()){g.index>y?(v=g,g=null):v=g.sibling;var b=f(i,g,m.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,y),null===h?c=b:h.sibling=b,h=b,g=v}if(m.done)return n(i,g),io&&Qi(i,y),c;if(null===g){for(;!m.done;y++,m=u.next())null!==(m=d(i,m.value,l))&&(a=s(m,a,y),null===h?c=m:h.sibling=m,h=m);return io&&Qi(i,y),c}for(g=r(i,g);!m.done;y++,m=u.next())null!==(m=p(g,i,y,m.value,l))&&(e&&null!==m.alternate&&g.delete(null===m.key?y:m.key),a=s(m,a,y),null===h?c=m:h.sibling=m,h=m);return e&&g.forEach((function(e){return t(i,e)})),io&&Qi(i,y),c}return function e(r,o,s,u){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var l=s.key,c=o;null!==c;){if(c.key===l){if((l=s.type)===A){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Zo(l)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Yo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===A?((o=Bl(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Il(s.type,s.key,s.props,null,r.mode,u)).ref=Yo(r,o,s),u.return=r,r=u)}return a(r);case D:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Wl(s,r.mode,u)).return=r,r=o}return a(r);case O:return e(r,o,(c=s._init)(s._payload),u)}if(te(s))return g(r,o,s,u);if(I(s))return y(r,o,s,u);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Ml(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var $o=qo(!0),Qo=qo(!1),Jo={},es=wi(Jo),ts=wi(Jo),ns=wi(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(Pi(ns,t),Pi(ts,e),Pi(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(es),Pi(es,t)}function os(){_i(es),_i(ts),_i(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(Pi(ts,e),Pi(es,n))}function as(e){ts.current===e&&(_i(es),_i(ts))}var us=wi(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function hs(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ds=N.ReactCurrentDispatcher,fs=N.ReactCurrentBatchConfig,ps=0,gs=null,ys=null,vs=null,ms=!1,bs=!1,Ns=0,xs=0;function Ds(){throw Error(o(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ws(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),bs){s=0;do{if(bs=!1,Ns=0,25<=s)throw Error(o(301));s+=1,vs=ys=null,t.updateQueue=null,ds.current=la,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==ys&&null!==ys.next,ps=0,vs=ys=gs=null,ms=!1,t)throw Error(o(300));return e}function _s(){var e=0!==Ns;return Ns=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function Es(){if(null===ys){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ys.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ys=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ys=e).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function Ss(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ys,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,l=null,c=s;do{var h=c.lane;if((ps&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,a=r):l=l.next=d,gs.lanes|=h,Gu|=h}c=c.next}while(null!==c&&c!==s);null===l?a=r:l.next=u,ar(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Gu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cs(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(Na=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ls(){}function Os(e,t){var n=gs,r=Es(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,Na=!0),r=r.queue,js(Is.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Ws(9,Ts.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(o(349));0!==(30&ps)||ks(n,t,i)}return i}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Bs(t)&&Gs(e)}function Is(e,t,n){return n((function(){Bs(t)&&Gs(e)}))}function Bs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Gs(e){var t=Co(e,1);null!==t&&rl(t,e,1,-1)}function Ms(e){var t=Ps();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return Es().memoizedState}function zs(e,t,n,r){var i=Ps();gs.flags|=e,i.memoizedState=Ws(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var i=Es();r=void 0===r?null:r;var o=void 0;if(null!==ys){var s=ys.memoizedState;if(o=s.destroy,null!==r&&As(r,s.deps))return void(i.memoizedState=Ws(t,n,o,r))}gs.flags|=e,i.memoizedState=Ws(1|t,n,o,r)}function Vs(e,t){return zs(8390656,8,e,t)}function js(e,t){return Us(2048,8,e,t)}function Hs(e,t){return Us(4,2,e,t)}function Xs(e,t){return Us(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ys.bind(null,t,e),n)}function Zs(){}function qs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&As(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&As(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,Na=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Gu|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Es().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ro(e,t,n,r))){rl(n,e,r,tl()),oa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,So(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ro(e,t,i,r))&&(rl(n,e,r,i=tl()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){bs=ms=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var sa={readContext:Po,useCallback:Ds,useContext:Ds,useEffect:Ds,useImperativeHandle:Ds,useInsertionEffect:Ds,useLayoutEffect:Ds,useMemo:Ds,useReducer:Ds,useRef:Ds,useState:Ds,useDebugValue:Ds,useDeferredValue:Ds,useTransition:Ds,useMutableSource:Ds,useSyncExternalStore:Ds,useId:Ds,unstable_isNewReconciler:!1},aa={readContext:Po,useCallback:function(e,t){return Ps().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Vs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ps().memoizedState=e},useState:Ms,useDebugValue:Zs,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Js.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Ps();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cu)throw Error(o(349));0!==(30&ps)||ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vs(Is.bind(null,r,s,e),[e]),r.flags|=2048,Ws(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ps(),t=Cu.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(qi&~(1<<32-st(qi)-1)).toString(32)+n),0<(n=Ns++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Po,useCallback:qs,useContext:Po,useEffect:js,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Xs,useMemo:$s,useReducer:Rs,useRef:Fs,useState:function(){return Rs(Ss)},useDebugValue:Zs,useDeferredValue:function(e){return Qs(Es(),ys.memoizedState,e)},useTransition:function(){return[Rs(Ss)[0],Es().memoizedState]},useMutableSource:Ls,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1},la={readContext:Po,useCallback:qs,useContext:Po,useEffect:js,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Xs,useMemo:$s,useReducer:Cs,useRef:Fs,useState:function(){return Cs(Ss)},useDebugValue:Zs,useDeferredValue:function(e){var t=Es();return null===ys?t.memoizedState=e:Qs(t,ys.memoizedState,e)},useTransition:function(){return[Cs(Ss)[0],Es().memoizedState]},useMutableSource:Ls,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=To(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Xu=r),da(0,t)},n}function ga(e,t,n){(n=To(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ya(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=To(-1,1)).tag=2,Io(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=N.ReactCurrentOwner,Na=!1;function xa(e,t,n,r){t.child=null===e?Qo(t,null,n,r):$o(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=ws(e,t,n,r,o,i),n=_s(),null===e||Na?(io&&n&&eo(t),t.flags|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Aa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||kl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Tl(o,r)).ref=t.ref,e.return=t,t.child=e}function wa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(Na=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(Na=!0)}}return Ea(e,t,n,r,i)}function _a(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Tu,ku),ku|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Tu,ku),ku|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Tu,ku),ku|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Tu,ku),ku|=r;return xa(e,t,i,n),t.child}function Pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Oi(n)?Ci:Si.current;return o=Li(t,o),_o(t,i),n=ws(e,t,n,r,o,i),r=_s(),null===e||Na?(io&&r&&eo(t),t.flags|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(Oi(n)){var o=!0;Bi(t)}else o=!1;if(_o(t,i),null===t.stateNode)ja(e,t),jo(t,n,r),Xo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Po(l):l=Li(t,l=Oi(n)?Ci:Si.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&Ho(t,s,r,l),Lo=!1;var d=t.memoizedState;s.state=d,Mo(t,r,s,i),u=t.memoizedState,a!==r||d!==u||Ri.current||Lo?("function"===typeof c&&(zo(t,n,c,r),u=t.memoizedState),(a=Lo||Vo(t,n,a,r,d,u,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ko(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:vo(t.type,a),s.props=l,h=t.pendingProps,d=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=Po(u):u=Li(t,u=Oi(n)?Ci:Si.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==u)&&Ho(t,s,r,u),Lo=!1,d=t.memoizedState,s.state=d,Mo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ri.current||Lo?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(l=Lo||Vo(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,o,i)}function Ra(e,t,n,r,i,o){Pa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Gi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):xa(e,t,a,o),t.memoizedState=r.state,i&&Gi(t,n,!0),t.child}function Ca(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),is(e,t.containerInfo)}function La(e,t,n,r,i){return po(),go(i),t.flags|=256,xa(e,t,n,r),t.child}var Oa,ka,Ta,Ia,Ba={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Pi(us,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=Gl(u,i,0,null),e=Bl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ga(n),t.memoizedState=Ba,e):Wa(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Gl({mode:"visible",children:r.children},i,0,null),(s=Bl(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,a),t.child.memoizedState=Ga(a),t.memoizedState=Ba,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fa(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(u=0!==(a&e.childLanes),Na||u){if(null!==(r=Cu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Co(e,i),rl(r,e,i,-1))}return yl(),Fa(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[Ki++]=qi,Yi[Ki++]=$i,Yi[Ki++]=Zi,qi=e.id,$i=e.overflow,Zi=t),t=Wa(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Tl(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Tl(r,a):(a=Bl(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?Ga(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Ba,i}return e=(a=e.child).sibling,i=Tl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wa(e,t){return(t=Gl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&go(r),$o(t,e.child,null,n),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function Ua(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(us,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Tl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Oi(t.type)&&ki(),Ya(t),null;case 3:return r=t.stateNode,os(),_i(Ri),_i(Si),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),ka(e,t),Ya(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ta(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ya(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Wr("cancel",r),Wr("close",r);break;case"iframe":case"object":case"embed":Wr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Wr(Ir[i],r);break;case"source":Wr("error",r);break;case"img":case"image":case"link":Wr("error",r),Wr("load",r);break;case"details":Wr("toggle",r);break;case"input":q(r,s),Wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wr("invalid",r);break;case"textarea":ie(r,s),Wr("invalid",r)}for(var u in me(n,s),i=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Wr("scroll",r)}switch(n){case"input":X(r),J(r,s,!0);break;case"textarea":X(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Wr("cancel",e),Wr("close",e),i=r;break;case"iframe":case"object":case"embed":Wr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Wr(Ir[i],e);i=r;break;case"source":Wr("error",e),i=r;break;case"img":case"image":case"link":Wr("error",e),Wr("load",e),i=r;break;case"details":Wr("toggle",e),i=r;break;case"input":q(e,r),i=Z(e,r),Wr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=G({},r,{value:void 0}),Wr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Wr("invalid",e)}for(s in me(n,i),l=i)if(l.hasOwnProperty(s)){var c=l[s];"style"===s?ye(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Wr("scroll",e):null!=c&&b(e,s,c,u))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ya(t),null;case 13:if(_i(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==oo&&(al(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&us.current)?0===Iu&&(Iu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return os(),ka(e,t),null===e&&Ur(t.stateNode.containerInfo),Ya(t),null;case 10:return Ao(t.type._context),Ya(t),null;case 19:if(_i(us),null===(s=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Xa(s,!1);else{if(0!==Iu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ls(e))){for(t.flags|=128,Xa(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Vu&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ya(t),null}else 2*$e()-s.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=us.current,Pi(us,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ku)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Za(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&ki(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),_i(Ri),_i(Si),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(_i(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(us),null;case 4:return os(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ka=function(){},Ta=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"select":i=G({},i,{value:void 0}),r=G({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Wr("scroll",e),s||u===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var qa=!1,$a=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_l(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[yi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var hu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||eu(n,t);case 6:var r=hu,i=du;hu=null,fu(e,t,n),du=i,null!==(hu=r)&&(du?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(du?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=du,hu=n.stateNode.containerInfo,du=!0,fu(e,t,n),hu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tu(n,t,s),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$a&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_l(n,t,a)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fu(e,t,n),$a=r):fu(e,t,n);break;default:fu(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Rl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,du=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(s,a,i),hu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){_l(e,e.return,y)}try{ru(5,e,e.return)}catch(y){_l(e,e.return,y)}}break;case 1:yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(y){_l(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===s.type&&null!=s.name&&$(i,s),be(u,a);var c=be(u,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ye(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(u){case"input":Q(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(y){_l(e,e.return,y)}}break;case 6:if(yu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){_l(e,e.return,y)}}break;case 3:if(yu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(y){_l(e,e.return,y)}break;case 4:default:yu(t,e),mu(e);break;case 13:yu(t,e),mu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Uu=$e())),4&r&&gu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(c=$a)||h,yu(t,e),$a=c):yu(t,e),mu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){_l(r,n,y)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){Du(d);continue}}null!==p?(p.return=f,Ja=p):Du(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",a))}catch(y){_l(e,e.return,y)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){_l(e,e.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yu(t,e),mu(e),4&r&&gu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;lu(e,uu(e),s);break;default:throw Error(o(161))}}catch(a){_l(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Ja=e,Nu(e,t,n)}function Nu(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||qa;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||$a;a=qa;var l=$a;if(qa=s,($a=u)&&!l)for(Ja=i;null!==Ja;)u=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Au(i):null!==u?(u.return=s,Ja=u):Au(i);for(;null!==o;)Ja=o,Nu(o,t,n),o=o.sibling;Ja=i,qa=a,$a=l}xu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):xu(e)}}function xu(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(o(163))}$a||512&t.flags&&ou(t)}catch(f){_l(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function Du(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Au(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var o=t.return;try{ou(t)}catch(u){_l(t,o,u)}break;case 5:var s=t.return;try{ou(t)}catch(u){_l(t,s,u)}}}catch(u){_l(t,t.return,u)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var wu,_u=Math.ceil,Pu=N.ReactCurrentDispatcher,Eu=N.ReactCurrentOwner,Su=N.ReactCurrentBatchConfig,Ru=0,Cu=null,Lu=null,Ou=0,ku=0,Tu=wi(0),Iu=0,Bu=null,Gu=0,Mu=0,Wu=0,Fu=null,zu=null,Uu=0,Vu=1/0,ju=null,Hu=!1,Xu=null,Yu=null,Ku=!1,Zu=null,qu=0,$u=0,Qu=null,Ju=-1,el=0;function tl(){return 0!==(6&Ru)?$e():-1!==Ju?Ju:Ju=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ru)&&0!==Ou?Ou&-Ou:null!==yo.transition?(0===el&&(el=gt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function rl(e,t,n,r){if(50<$u)throw $u=0,Qu=null,Error(o(185));vt(e,n,r),0!==(2&Ru)&&e===Cu||(e===Cu&&(0===(2&Ru)&&(Mu|=n),4===Iu&&ul(e,Ou)),il(e,r),1===n&&0===Ru&&0===(1&t.mode)&&(Vu=$e()+500,Wi&&Ui()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Cu?Ou:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Wi=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),si((function(){0===(6&Ru)&&Ui()})),n=null;else{switch(Nt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Ju=-1,el=0,0!==(6&Ru))throw Error(o(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var r=dt(e,e===Cu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Ru;Ru|=2;var s=gl();for(Cu===e&&Ou===t||(ju=null,Vu=$e()+500,fl(e,t));;)try{bl();break}catch(u){pl(e,u)}Do(),Pu.current=s,Ru=i,null!==Lu?t=0:(Cu=null,Ou=0,t=Iu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Bu,fl(e,0),ul(e,r),il(e,$e()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(s=pt(e))&&(r=s,t=sl(e,s))),1===t))throw n=Bu,fl(e,0),ul(e,r),il(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Dl(e,zu,ju);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Uu+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Dl.bind(null,e,zu,ju),t);break}Dl(e,zu,ju);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(Dl.bind(null,e,zu,ju),r);break}Dl(e,zu,ju);break;default:throw Error(o(329))}}}return il(e,$e()),e.callbackNode===n?ol.bind(null,e):null}function sl(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zu,zu=n,null!==t&&al(t)),e}function al(e){null===zu?zu=e:zu.push.apply(zu,e)}function ul(e,t){for(t&=~Wu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ru))throw Error(o(327));Al();var t=dt(e,0);if(0===(1&t))return il(e,$e()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Bu,fl(e,0),ul(e,t),il(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,zu,ju),il(e,$e()),null}function cl(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Vu=$e()+500,Wi&&Ui())}}function hl(e){null!==Zu&&0===Zu.tag&&0===(6&Ru)&&Al();var t=Ru;Ru|=1;var n=Su.transition,r=bt;try{if(Su.transition=null,bt=1,e)return e()}finally{bt=r,Su.transition=n,0===(6&(Ru=t))&&Ui()}}function dl(){ku=Tu.current,_i(Tu)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ki();break;case 3:os(),_i(Ri),_i(Si),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:_i(us);break;case 10:Ao(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Cu=e,Lu=e=Tl(e.current,null),Ou=ku=t,Iu=0,Bu=null,Wu=Mu=Gu=0,zu=Fu=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Eo=null}return e}function pl(e,t){for(;;){var n=Lu;try{if(Do(),ds.current=sa,ms){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ms=!1}if(ps=0,vs=ys=gs=null,bs=!1,Ns=0,Eu.current=null,null===n||null===n.return){Iu=1,Bu=t,Lu=null;break}e:{var s=e,a=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ma(p,a,u,0,t),1&p.mode&&ya(s,c,t),l=c;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}if(0===(1&t)){ya(s,c,t),yl();break e}l=Error(o(426))}else if(io&&1&u.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ma(v,a,u,0,t),go(ca(l,u));break e}}s=l=ca(l,u),4!==Iu&&(Iu=2),null===Fu?Fu=[s]:Fu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Go(s,pa(0,l,t));break e;case 1:u=l;var m=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yu||!Yu.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Go(s,ga(s,u,t));break e}}s=s.return}while(null!==s)}xl(n)}catch(N){t=N,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function gl(){var e=Pu.current;return Pu.current=sa,null===e?sa:e}function yl(){0!==Iu&&3!==Iu&&2!==Iu||(Iu=4),null===Cu||0===(268435455&Gu)&&0===(268435455&Mu)||ul(Cu,Ou)}function vl(e,t){var n=Ru;Ru|=2;var r=gl();for(Cu===e&&Ou===t||(ju=null,fl(e,t));;)try{ml();break}catch(i){pl(e,i)}if(Do(),Ru=n,Pu.current=r,null!==Lu)throw Error(o(261));return Cu=null,Ou=0,Iu}function ml(){for(;null!==Lu;)Nl(Lu)}function bl(){for(;null!==Lu&&!Ze();)Nl(Lu)}function Nl(e){var t=wu(e.alternate,e,ku);e.memoizedProps=e.pendingProps,null===t?xl(e):Lu=t,Eu.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,ku)))return void(Lu=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Iu=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Iu&&(Iu=5)}function Dl(e,t,n){var r=bt,i=Su.transition;try{Su.transition=null,bt=1,function(e,t,n,r){do{Al()}while(null!==Zu);if(0!==(6&Ru))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Cu&&(Lu=Cu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Cl(tt,(function(){return Al(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Su.transition,Su.transition=null;var a=bt;bt=1;var u=Ru;Ru|=4,Eu.current=null,function(e,t){if(ei=jt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,u=-1,l=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(u=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},jt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,v=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:vo(t.type,y),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;1===N.nodeType?N.textContent="":9===N.nodeType&&N.documentElement&&N.removeChild(N.documentElement);break;default:throw Error(o(163))}}catch(x){_l(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=nu,nu=!1}(e,n),vu(n,e),pr(ti),jt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),qe(),Ru=u,bt=a,Su.transition=s}else e.current=n;if(Ku&&(Ku=!1,Zu=e,qu=i),s=e.pendingLanes,0===s&&(Yu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Xu,Xu=null,e;0!==(1&qu)&&0!==e.tag&&Al(),s=e.pendingLanes,0!==(1&s)?e===Qu?$u++:($u=0,Qu=e):$u=0,Ui()}(e,t,n,r)}finally{Su.transition=i,bt=r}return null}function Al(){if(null!==Zu){var e=Nt(qu),t=Su.transition,n=bt;try{if(Su.transition=null,bt=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,qu=0,0!==(6&Ru))throw Error(o(331));var i=Ru;for(Ru|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var u=s.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ja=c;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:ru(8,h,s)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(su(h),h===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=s.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(null!==y)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var m=s.sibling;if(null!==m){m.return=s.return,Ja=m;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var N=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==N)N.return=a,Ja=N;else e:for(a=b;null!==Ja;){if(0!==(2048&(u=Ja).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(D){_l(u,u.return,D)}if(u===a){Ja=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Ja=x;break e}Ja=u.return}}if(Ru=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(D){}r=!0}return r}finally{bt=n,Su.transition=t}}return!1}function wl(e,t,n){e=Io(e,t=pa(0,t=ca(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function _l(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Io(t,e=ga(t,e=ca(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Pl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Ou&n)===n&&(4===Iu||3===Iu&&(130023424&Ou)===Ou&&500>$e()-Uu?fl(e,0):Wu|=n),il(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Co(e,t))&&(vt(e,t,n),il(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Rl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),El(e,n)}function Cl(e,t){return Ye(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Ll(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)kl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Bl(n.children,i,s,t);case w:a=8,i|=8;break;case _:return(e=Ol(12,n,t,2|i)).elementType=_,e.lanes=s,e;case R:return(e=Ol(13,n,t,i)).elementType=R,e.lanes=s,e;case C:return(e=Ol(19,n,t,i)).elementType=C,e.lanes=s,e;case k:return Gl(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:a=10;break e;case E:a=9;break e;case S:a=11;break e;case L:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ol(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Bl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Gl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,o,s,a,u){return e=new Fl(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ol(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Ul(e){if(!e)return Ei;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ii(e,n,t)}return t}function Vl(e,t,n,r,i,o,s,a,u){return(e=zl(n,r,!0,e,0,o,0,a,u)).context=Ul(null),n=e.current,(o=To(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Io(n,o,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function jl(e,t,n,r){var i=t.current,o=tl(),s=nl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=To(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Io(i,t,s))&&(rl(e,i,s,o),Bo(e,i,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){Xl(e,t),(e=e.alternate)&&Xl(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)Na=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Na=!1,function(e,t,n){switch(t.tag){case 3:Ca(t),po();break;case 5:ss(t);break;case 1:Oi(t.type)&&Bi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(us,1&us.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Pi(us,1&us.current),null!==(e=Ha(e,t,n))?e.sibling:null);Pi(us,1&us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);Na=0!==(131072&e.flags)}else Na=!1,io&&0!==(1048576&t.flags)&&Ji(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ja(e,t),e=t.pendingProps;var i=Li(t,Si.current);_o(t,n),i=ws(null,t,r,e,i,n);var s=_s();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,Bi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Xo(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),xa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return kl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===L)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Sa(null,t,r,e,n);break e;case 11:t=Da(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ca(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,ko(e,t),Mo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=La(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=La(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Pa(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Ma(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Pi(mo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=To(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wo(s.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),wo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=Po(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Aa(e,t,r,i=vo(r.type,i),n);case 15:return wa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),ja(e,t),t.tag=1,Oi(r)?(e=!0,Bi(t)):e=!1,_o(t,n),jo(t,r,i),Xo(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return _a(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}function ql(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hl(s);a.call(e)}}jl(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(s);o.call(e)}}var s=Vl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=s,e[pi]=s.current,Ur(8===e.nodeType?e.parentNode:e),hl(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hl(u);a.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),hl((function(){jl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(s)}ql.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));jl(e,t,null,null)},ql.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){jl(null,e,null,null)})),t[pi]=null}},ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&0!==t&&t<kt[n].priority;n++);kt.splice(n,0,e),0===n&&Gt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(mt(t,1|n),il(t,$e()),0===(6&Ru)&&(Vu=$e()+500,Ui()))}break;case 13:hl((function(){var t=Co(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Yl(e,1)}},Dt=function(e){if(13===e.tag){var t=Co(e,134217728);if(null!==t)rl(t,e,134217728,tl());Yl(e,134217728)}},At=function(e){if(13===e.tag){var t=nl(e),n=Co(e,t);if(null!==n)rl(n,e,t,tl());Yl(e,t)}},wt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},De=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));Y(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cl,Re=hl;var tc={usingClientEntryPoint:!1,Events:[bi,Ni,xi,Pe,Ee,cl]},nc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(o(299));var n=!1,r="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Zl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ql(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(hl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var N=b.prototype=new m;N.constructor=b,g(N,v.prototype),N.isPureReactComponent=!0;var x=Array.isArray,D=Object.prototype.hasOwnProperty,A={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)D.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:A.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+S(u,0):o,x(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",x(e))for(var l=0;l<e.length;l++){var c=o+S(a=e[l],l);u+=R(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=R(a=a.value,t,i,c=o+S(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},k={transition:null},T={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:k,ReactCurrentOwner:A};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)D.call(t,l)&&!w.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],l=a+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[a]=n,r=a);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var l=[],c=[],h=1,d=null,f=3,p=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function N(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(y=!1,N(e),!g)if(null!==r(l))g=!0,k(D);else{var t=r(c);null!==t&&T(x,t.startTime-e)}}function D(e,n){g=!1,y&&(y=!1,m(P),P=-1),p=!0;var o=f;try{for(N(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!R());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),N(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var h=r(c);null!==h&&T(x,h.startTime-n),u=!1}return u}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,w=!1,_=null,P=-1,E=5,S=-1;function R(){return!(t.unstable_now()-S<E)}function C(){if(null!==_){var e=t.unstable_now();S=e;var n=!0;try{n=_(!0,e)}finally{n?A():(w=!1,_=null)}}else w=!1}if("function"===typeof b)A=function(){b(C)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=C,A=function(){O.postMessage(null)}}else A=function(){v(C,0)};function k(e){_=e,w||(w=!0,A())}function T(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,k(D))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(y?(m(P),P=-1):y=!0,T(x,o-s))):(e.sortIndex=a,n(l,e),g||p||(g=!0,k(D))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d6190975.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="parsegraph-freeform:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),u&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],u=r[2],l=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)u(n)}for(t&&t(r);l<s.length;l++)o=s[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkparsegraph_freeform=self.webpackChunkparsegraph_freeform||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=n(679),i=n(41),o=n.n(i),s=n(773),a=n(444),u=n(505),l=n.n(u),c=n(235),h=n(203),d=n(942),f=n.n(d);const p=!1,g=!0;class y{constructor(e,t,n,r){this._bbox=new(f())(e,t,n,r),this.clear()}clear(){this._rects=[]}occlude(e,t,n,r){if(!(0,u.containsAny)(this._bbox.x(),this._bbox.y(),this._bbox.width(),this._bbox.height(),e,t,n,r))return!1;if(this._rects.some((i=>(0,u.containsAny)(i.x(),i.y(),i.w(),i.h(),e,t,n,r))))return!1;const i=new(f())(e,t,n,r);return this._rects.push(i),!0}}const v=new(o())(0,0,0,1);class m{text(){return this._text}constructor(e,t,n,r,i,o,s){this._text=e,this._x=t,this._y=n,this._size=r,this._scale=i,this._color=o,this._strokeColor=s}x(){return this._x}scale(){return this._scale}y(){return this._y}size(){return this._size}color(){var e;return null!==(e=this._color)&&void 0!==e?e:v}strokeColor(){return this._strokeColor}}class b{constructor(e){this.clear(),this._lineWidth=2,this._scaleMultiplier=e,this._font="sans-serif"}draw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this._labels.push(new m(e,t,n,r,i,o,s))}clear(){this._labels=[]}lineWidth(){return this._lineWidth}setLineWidth(e){this._lineWidth=e}font(){return this._font}setFont(e){this._font=e}setScaleMultiplier(e){this._scaleMultiplier=e}render(e,t,n,r,i,o){const s=t,a=n,u=o,l=r/u,c=i/u;this._labels=this._labels.sort(((e,t)=>t.size()-e.size()));const h=new y(l/2-s,c/2-a,l,c);this._labels.filter((t=>{if(t.scale()>this._scaleMultiplier/u)return!1;e.font="".concat(Math.round(t.size()/u),"px ").concat(this.font());const n=e.measureText(t.text()),r=n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,i=n.width;return h.occlude(t.x(),t.y(),i,r)})).forEach((t=>{const n=e;n.font="".concat(Math.round(t.size()/u),"px ").concat(this.font()),n.strokeStyle=t.strokeColor()?t.strokeColor().asRGB():t.color().luminance()<.1?"white":"black",n.miterLimit=this.lineWidth(),n.lineWidth=this.lineWidth()/u,n.lineCap="round",n.textAlign="center",n.textBaseline="middle",e.strokeText(t.text(),t.x(),t.y()),e.fillStyle=t.color().asRGB(),e.fillText(t.text(),t.x(),t.y())}))}}const N=10,x=N,D=new(o())(.2,.2,.9,1),A=new(o())(.95,.9,0,1),w=new(o())(.5,1,.5,.1),_=new(o())(0,0,0,.5),P=new(o())(0,0,0,1),E=new(o())(.9,.9,.9,.8);let S=0;const R=(e,t,n,r)=>Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),C=e=>"string"===typeof e.value()||"number"===typeof e.value();class L{constructor(){this._saveGraph=()=>{},this._container=null,this._widget=null,this._painters=new WeakMap,this._mousePos=[NaN,NaN],this._worldLabels=new b(1),this._showInCamera=!0,this._cam=new(l()),this._showEditor=!1}logMessage(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.join(" "),i=document.createElement("span");for(i.style.display="inline",i.style.pointerEvents="none",i.style.userSelect="none",i.innerText=r;this._logContainer.childElementCount>10;)this._logContainer.firstChild.remove();this._logContainer.appendChild(i),setTimeout((()=>{i.remove()}),5e3)}logContainer(){return this._logContainer||(this._logContainer=document.createElement("div"),this._logContainer.style.fontSize="18px",this._logContainer.style.color="grey",this._logContainer.style.display="flex",this._logContainer.style.flexDirection="column"),this._logContainer}mountLog(e){e.appendChild(this.logContainer())}setSaveGraph(e){this._saveGraph=e}moveToId(e){const t=((e,t)=>{let n=null;return e.paintGroup().forEach((e=>{e.siblings().forEach((e=>{e.id()===t&&(n=e)}))})),n})(this._userCaret.root(),e);t&&(this._userCaret.moveTo(t),this.refresh())}save(){this._saveGraph(this._widget,this._userCaret.node())}showInCamera(){this._showInCamera=!0,this._widget&&this.repaint()}removeNode(){if(this._userCaret.node().neighbors().isRoot())return this._userCaret.node().setValue(void 0),this.save(),void this.repaint();const e=this._userCaret.node();this._userCaret.moveTo(e.neighbors().parentNode()),e.disconnect(),this.save(),this.repaint()}toggleAlignment(){const e=this._userCaret.node();if(e.neighbors().isRoot())return e.siblings().setLayoutPreference(e.siblings().getLayoutPreference()===r.PreferredAxis.HORIZONTAL?r.PreferredAxis.VERTICAL:r.PreferredAxis.HORIZONTAL),this.logMessage("Preferred axis is now "+(0,r.namePreferredAxis)(e.siblings().getLayoutPreference())),this.save(),void this.repaint();const t=(0,r.reverseDirection)(e.neighbors().parentDirection()),n=e.neighbors().parentNode().neighbors().getAlignment(t);e.neighbors().parentNode().neighbors().align(t,((e,t)=>{if((0,r.getDirectionAxis)(t)===r.Axis.Z)return e===r.Alignment.INWARD_VERTICAL?r.Alignment.INWARD_HORIZONTAL:r.Alignment.INWARD_VERTICAL;switch(e){case r.Alignment.NEGATIVE:return r.Alignment.CENTER;case r.Alignment.CENTER:return r.Alignment.POSITIVE;case r.Alignment.POSITIVE:return r.Alignment.NONE;default:return r.Alignment.NEGATIVE}})(n,t)),this.logMessage("Alignment is now "+(0,r.nameAlignment)(e.neighbors().parentNode().neighbors().getAlignment(t))),this.save(),this.repaint()}spawnMove(e,t){this._userCaret.node().neighbors().hasNode(e)?(t&&!this._userCaret.node().neighbors().isRoot()?this.pullNode():this._userCaret.move(e),this.repaint()):(this._userCaret.spawnMove(e),this.repaint(),this.save())}absoluteSizeRect(e){if(!e)return null;const t=new(f()),n=e.layout();t.setX(n.absoluteX()),t.setY(n.absoluteY());const r=[0,0];return n.absoluteSize(r),t.setWidth(r[0]),t.setHeight(r[1]),t}mount(e){if(this._container===e)return;this._container=e;const t=e;let n=null,[i,o]=[NaN,NaN];const a=[0,0],u=[0,0];let l=!1;t.addEventListener("mousedown",(e=>{if(!this._widget)return;if(this.carouselContainer().contains(e.target))return;n=null,[i,o]=[e.clientX,e.clientY],this.setMousePos(i,o);const[t,r]=this._cam.transform(i,o);a[0]=t,a[1]=r;let s=this._widget.layout().nodeUnderCoords(t,r,1,u);n=Date.now(),l=this._userCaret.node()===s;const c=this.absoluteSizeRect(s);s&&(l||g.containsAll(c)||s.neighbors().hasAncestor(this._userCaret.node()))&&(!l&&g.containsAll(c)&&(this._userCaret.moveTo(s),this.refresh()),this.logMessage("Mouse down on node"),f=!0,this.refresh())})),t.addEventListener("mouseup",(e=>{if(!this._widget)return;let t=!1;if(f&&(t=p(i,o),t&&this.repaint()),!isNaN(n)&&Date.now()-n<1e3){const[e,t]=this._cam.transform(i,o);let n=this._widget.layout().nodeUnderCoords(e,t,1,u);l&&n===this._userCaret.node()?this.toggleEditor():n&&(this._userCaret.moveTo(n),this.refresh())}n=null,[i,o]=[NaN,NaN],this.refresh()})),t.addEventListener("mousemove",(e=>{if(!this._widget)return;const t=e.clientX-i,r=e.clientY-o;n&&!f&&(this._cam.adjustOrigin(t/this._cam.scale(),r/this._cam.scale()),this.refresh()),[i,o]=[e.clientX,e.clientY]}));const h=new Map,d=()=>{let e=0;for(let t of h.keys())++e;return e};let f=!1;t.addEventListener("touchstart",(e=>{if(this._widget&&!this.carouselContainer().contains(e.target)){e.preventDefault();for(let t=0;t<e.changedTouches.length;++t){const r=e.changedTouches[t];[i,o]=[r.clientX,r.clientY],h.set(r.identifier,{mouseX:r.clientX,mouseY:r.clientY});const[s,a]=g.transform(i,o),u=[0,0];let c=this._widget.layout().nodeUnderCoords(s,a,1,u);const d=this.absoluteSizeRect(c);c&&g.containsAll(d)?(f=!0,l=this._userCaret.node()===c,l||(this._userCaret.moveTo(c),this.refresh()),n=Date.now()):(this.hideEditor(),n=Date.now())}}}));const p=(e,t)=>{const i=this._userCaret.node().layout(),[o,s]=g.transform(e,t),a=R(o,s,i.absoluteX(),i.absoluteY()),u=[0,0];this._userCaret.node().layout().size(u),u[0]*=i.absoluteScale(),u[1]*=i.absoluteScale();const l=Math.abs(s-i.absoluteY()),c=Math.abs(o-i.absoluteX());if(f=!1,o===i.absoluteX()||l>c){if(a>u[1]/2)return s>i.absoluteY()?this.spawnMove(r.Direction.DOWNWARD,!0):this.spawnMove(r.Direction.UPWARD,!0),n=NaN,!0}else if(a>u[0]/2)return o>i.absoluteX()?this.spawnMove(r.Direction.FORWARD,!0):this.spawnMove(r.Direction.BACKWARD,!0),n=NaN,!0;return!1};t.addEventListener("touchend",(e=>{if(!this._widget)return;let[t,r]=[NaN,NaN];const i=1===d();for(let n=0;n<e.changedTouches.length;++n){const i=e.changedTouches[n],o=h.get(i.identifier);o&&(t=o.mouseX,r=o.mouseY,this.setMousePos(t,r),h.delete(i.identifier))}if(!isNaN(t)&&f&&i)if(p(t,r))this.repaint();else if(!isNaN(n)&&Date.now()-n<1e3){const[e,n]=this._cam.transform(t,r);let i=this._widget.layout().nodeUnderCoords(e,n,1,u);l&&i===this._userCaret.node()&&this.toggleEditor()}})),t.addEventListener("touchmove",(e=>{if(e.preventDefault(),d()>1){const[t,n]=[...h.values()],r=R(t.mouseX,t.mouseY,n.mouseX,n.mouseY);for(let o=0;o<e.changedTouches.length;++o){const t=e.changedTouches[o],n=h.get(t.identifier);n&&(n.mouseX=t.clientX,n.mouseY=t.clientY)}const i=R(t.mouseX,t.mouseY,n.mouseX,n.mouseY);return g.zoomToPoint(i/r,...(0,c.midPoint)(t.mouseX,t.mouseY,n.mouseX,n.mouseY)),this._checkScale=!0,void this.refresh()}for(let t=0;t<e.changedTouches.length;++t){const n=e.changedTouches[t],r=h.get(n.identifier);if(!r)continue;const i=n.clientX-r.mouseX,o=n.clientY-r.mouseY;f||(g.adjustOrigin(i/g.scale(),o/g.scale()),this.refresh()),r.mouseX=n.clientX,r.mouseY=n.clientY}})),t.addEventListener("wheel",(e=>{isNaN(i)||(g.zoomToPoint(Math.pow(1.1,e.deltaY>0?-1:1),i,o),this._checkScale=!0,this.refresh())})),t.addEventListener("keydown",(e=>{if(this._showEditor)return;const t=e=>{this._userCaret.node().neighbors().isRoot()||e===this._userCaret.node().neighbors().parentDirection()&&(this._userCaret.fitExact(),this._userCaret.node().neighbors().parentNode().siblings().pull((0,r.reverseDirection)(this._userCaret.node().neighbors().parentDirection())),this.repaint())};switch(e.key){case"-":isNaN(i)||(this._checkScale=!0,g.zoomToPoint(Math.pow(1.1,-1),i,o),this.refresh());break;case"+":case"=":isNaN(i)||(this._checkScale=!0,g.zoomToPoint(Math.pow(1.1,1),i,o),this.refresh());break;case"Escape":this.showInCamera();break;case"x":case"Backspace":this.removeNode();break;case"o":this.moveOutward();break;case"i":this.spawnMove(r.Direction.INWARD);break;case"J":t(r.Direction.DOWNWARD);break;case"K":t(r.Direction.UPWARD);break;case"L":t(r.Direction.FORWARD);break;case"H":t(r.Direction.BACKWARD);break;case"v":this.toggleAlignment();break;case"j":this.spawnMove(r.Direction.DOWNWARD);break;case"k":this.spawnMove(r.Direction.UPWARD);break;case"l":this.spawnMove(r.Direction.FORWARD);break;case"h":this.spawnMove(r.Direction.BACKWARD);break;case"ArrowUp":g.adjustOrigin(0,10/g.scale()),this.refresh();break;case"ArrowDown":g.adjustOrigin(0,-10/g.scale()),this.refresh();break;case"ArrowRight":g.adjustOrigin(-10/g.scale(),0),this.refresh();break;case"ArrowLeft":g.adjustOrigin(10/g.scale(),0),this.refresh();break;case"`":case"~":this.toggleNodeScale();break;case"u":this.undo();break;case"R":this.redo();break;case"Enter":this.toggleEditor(),this.refresh();break;default:return}e.preventDefault()}));const g=this._cam;new ResizeObserver((()=>{g.setSize(t.offsetWidth,t.offsetHeight),this.refresh()})).observe(t),t.style.background=D.asRGBA();const y=document.createElement("canvas");y.style.position="fixed",y.style.inset=0,this._textCanvas=y,this._ctx=y.getContext("2d");const v=new s.BasicGLProvider;v.container(),v.container().style.position="fixed",v.container().style.inset=0,t.appendChild(v.container()),this._glProvider=v,t.appendChild(y),t.appendChild(this.carouselContainer()),t.addEventListener("focus",(()=>{this._showEditor&&this.toggleEditor()}))}moveOutward(){this._userCaret.has(r.Direction.OUTWARD)?(this._userCaret.move(r.Direction.OUTWARD),this.refresh()):this._userCaret.node().neighbors().isRoot()||(this._userCaret.move(this._userCaret.node().neighbors().parentDirection()),this.refresh())}mountEditor(e){this.createEditor(),e.appendChild(this._editorContainer)}undo(){this._undo&&this._undo()}redo(){this._redo&&this._redo()}setUndo(e){this._undo=e}setRedo(e){this._redo=e}repaint(){requestAnimationFrame((()=>{this._layout=this.createLayout(),this._worldLabels=new b(1),this._ensureVisible=!0,this.paint()}))}node(){return this._userCaret.node()}layout(){return this._userCaret.node().layout()}pullNode(){if(this.node().neighbors().isRoot())this.toggleAlignment();else{if(this.node().nodeFit()===r.Fit.EXACT)this._userCaret.fitLoose();else{const e=this._userCaret.node().neighbors().parentDirection();this.logMessage("Pulling this node "+(0,r.nameDirection)(e)),this._userCaret.fitExact(),this._userCaret.node().neighbors().parentNode().siblings().pull((0,r.reverseDirection)(e))}this.save(),this.repaint()}}toggleNodeFit(){this.node().nodeFit()===r.Fit.EXACT?(this.node().setNodeFit(r.Fit.LOOSE),this.logMessage("Fit is now LOOSE")):(this.node().setNodeFit(r.Fit.EXACT),this.logMessage("Fit is now EXACT")),this.save(),this.repaint()}toggleNodeScale(){1===this.node().scale()?this._userCaret.shrink():this._userCaret.grow(),this.save(),this.repaint()}togglePreferredAxis(){this.node().siblings().setLayoutPreference((e=>{switch(e){case r.PreferredAxis.HORIZONTAL:return r.PreferredAxis.VERTICAL;case r.PreferredAxis.VERTICAL:return r.PreferredAxis.HORIZONTAL;case r.PreferredAxis.PARENT:return r.PreferredAxis.PERPENDICULAR;case r.PreferredAxis.PERPENDICULAR:default:return r.PreferredAxis.PARENT}})(this.node().siblings().getLayoutPreference())),this.logMessage("Preferred axis is now "+(0,r.namePreferredAxis)(this.node().siblings().getLayoutPreference())),this.repaint(),this.save()}refresh(){requestAnimationFrame((()=>{this.paint()}))}show(e){if(!e)throw new Error("Refusing to show falsy widget");this._widget!==e?(this._widget=e,this._userCaret=new r.DirectionCaret(e),this.repaint()):this.repaint()}createEditor(){const e=document.createElement("div");e.style.display="none",e.style.flexGrow="1",this._editorContainer=e;const t=this.createEditorComp();e.appendChild(t),this._editor=t;const n=document.createElement("div");n.className="buttons",e.appendChild(n);const r=document.createElement("button"),i=()=>{this._userCaret.node().setValue(""===t.value?void 0:t.value),this.toggleEditor(),this.repaint(),this.save()};r.addEventListener("click",i),r.addEventListener("touchend",i),r.innerHTML="Save",n.appendChild(r);const o=document.createElement("button");return o.addEventListener("click",(()=>this.toggleEditor())),o.addEventListener("touchend",(()=>this.toggleEditor())),o.innerHTML="Cancel",n.appendChild(o),e}setToggleNodeActions(e){this._toggleNodeActions=e}createEditorComp(){const e=document.createElement("textarea");return e.style.width="100%",e.style.boxSizing="border-box",e.addEventListener("keypress",(t=>{if("Escape"===t.key)this.toggleEditor(),this._container.focus();else if("Enter"===t.key){if(t.shiftKey)return;this._userCaret.node().setValue(""===e.value?void 0:e.value),this.toggleEditor(),this._container.focus(),this.repaint(),this.save()}})),e}hideEditor(){this._showEditor&&(this._toggleNodeActions&&this._toggleNodeActions(),this._showEditor=!1,this._editorContainer.style.display="none",this.refresh())}showEditor(){this._showEditor||(this._toggleNodeActions&&this._toggleNodeActions(),this._showEditor=!0,this._editorContainer.style.display="block",this._editor.focus(),C(this._userCaret.node())?this._editor.value=this._userCaret.node().value():this._editor.value="",this.refresh())}toggleEditor(){this._showEditor?this.hideEditor():this.showEditor()}createLayout(){return new r.CommitLayout(this._widget,{size:(e,t)=>{if(t[0]=N,C(e)?(t[1]=0,e.value().toString().split("\n").forEach((e=>{t[1]+=x,this._ctx.resetTransform(),this._ctx.font="".concat(N,"px sans-serif");const{width:n}=this._ctx.measureText(e);t[0]=Math.max(t[0],n+6)})),t[1]=Math.max(t[1],x),t[1]+=5):(t[0]=7.5,t[1]=7.5),e.neighbors().hasNode(r.Direction.INWARD)){const n=e.neighbors().nodeAt(r.Direction.INWARD),i=[0,0];n.layout().extentSize(i),e.neighbors().getAlignment(r.Direction.INWARD)===r.Alignment.INWARD_VERTICAL?(C(e)||(t[0]=4,t[1]=4),t[0]=Math.max(t[0],2+n.scale()*i[0]),t[0]+=1.25,t[1]+=(6+i[1])*n.scale()):(C(e)||(t[0]=1,t[1]=1),t[0]+=(6+i[0])*n.scale(),t[1]=Math.max(t[1],1+n.scale()*i[1]),t[1]+=2.5)}},getSeparation:(e,t)=>t===r.Axis.Z?6:5,paint:e=>{let t=this._painters.get(e);t&&t.glProvider()===this._glProvider?t.clear():(t=new a.WebGLBlockPainter(this._glProvider),this._painters.set(e,t));let n=0;e.siblings().forEach((e=>{(0,r.paintNodeLines)(e,1,(()=>{++n})),(0,r.paintNodeBounds)(e,(()=>{++n}))})),t.initBuffer(n),e.siblings().forEach((e=>{(0,r.paintNodeLines)(e,1.5,((e,n,r,i)=>{t.setBorderColor(new(o())(0,0,0,0)),t.setBackgroundColor(E),t.drawBlock(e,n,r,i,0,0)})),(0,r.paintNodeBounds)(e,((n,i,o,s)=>{t.setBackgroundColor(w),t.setBorderColor(_);const a=e.layout().groupScale();C(e)||e.neighbors().hasNode(r.Direction.INWARD)?t.drawBlock(n,i,o,s,5*a,1*a):t.drawBlock(n,i,o,s,o,1*a)}))}))}})}canPaint(){return this._container&&this._widget}paint(){if(!this.canPaint())return;this._layout&&this._layout.startingNode()===this._widget||(this._layout=this.createLayout());const e=Date.now();for(;this._layout.crank();)if(Date.now()-e>1e3/60){this.refresh();break}this.render()}render(){if(!this.canPaint())return;if(!this._cam.canProject()||!this._glProvider.canProject())return;const e=this._cam;if(this._showInCamera){const t=4/this._userCaret.node().layout().absoluteScale();return!isNaN(t)&&isFinite(t)&&(e.setScale(4/this._userCaret.node().layout().absoluteScale()),(0,h.showNodeInCamera)(this._userCaret.node(),e),this._showInCamera=!1),void this.refresh()}const t=[NaN,NaN],n=this._userCaret.node().layout();if(this._widget.layout().extentSize(t),t[0]>0&&t[1]>0){const n=4;if(this._checkScale&&Math.max(...t)*e.scale()<Math.min(e.height(),e.width())/n){const r=Math.min(e.height(),e.width())/n/(e.scale()*Math.max(...t));return isNaN(r)||(e.zoomToPoint(r,e.width()/2,e.height()/2),this._checkScale=!1),void this.refresh()}}const i=[NaN,NaN];if(n.absoluteSize(i),i[0]>0&&i[1]>0&&this._ensureVisible&&!e.containsAny(new(f())(n.absoluteX(),n.absoluteY(),i[0],i[1])))return(0,h.showNodeInCamera)(this._userCaret.node(),e),void this.refresh();this._ensureVisible=!1;const s=this._cam.project(),a=this._userCaret,u=this._glProvider,l=this._ctx,d=u.gl();u.render(),d.viewport(0,0,e.width(),e.height()),d.clearColor(D.r(),D.g(),D.b(),D.a()),d.enable(d.BLEND),d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.clear(d.COLOR_BUFFER_BIT),this._textCanvas.width=e.width(),this._textCanvas.height=e.height(),l.resetTransform(),l.clearRect(0,0,this._textCanvas.width,this._textCanvas.height),l.scale(e.scale(),e.scale()),l.translate(e.x(),e.y());let p=this._widget,g=!1;do{const e=this._painters.get(p);e?(e.render((0,c.matrixMultiply3x3)((0,c.makeScale3x3)(p.layout().absoluteScale()),(0,c.makeTranslation3x3)(p.layout().absoluteX(),p.layout().absoluteY()),s)),l.save(),l.translate(p.layout().absoluteX(),p.layout().absoluteY()),l.scale(p.layout().absoluteScale(),p.layout().absoluteScale()),p.siblings().forEach((e=>{if(e.layout().needsAbsolutePos())return void(g=!0);if(!C(e))return;l.fillStyle=_.asRGBA(),l.save();const t=e.value().toString().split("\n");if(e.neighbors().hasNode(r.Direction.INWARD)){const n=[0,0];e.layout().size(n);const i=e.layout().groupScale();e.neighbors().getAlignment(r.Direction.INWARD)===r.Alignment.INWARD_VERTICAL?(l.textAlign="center",l.textBaseline="top",l.translate(e.layout().groupX(),e.layout().groupY()-i*n[1]/2+3*i),t.length>1&&l.translate(0,e.layout().groupScale()*(-(t.length-1)*x/2+5))):(l.textAlign="left",l.textBaseline="middle",l.translate(e.layout().groupX()-i*n[0]/2+3,e.layout().groupY()),t.length>1&&l.translate(0,-(t.length-1)*(e.layout().groupScale()*x)/2))}else l.textAlign="center",l.textBaseline="middle",l.translate(e.layout().groupX(),e.layout().groupY()),t.length>1&&l.translate(0,-(t.length-1)*(e.layout().groupScale()*x)/2);this._ctx.font="".concat(N,"px sans-serif"),l.scale(e.layout().groupScale(),e.layout().groupScale()),l.fillStyle=P.asRGBA(),t.forEach((e=>{l.fillText(e,0,0),l.translate(0,x)})),this._worldLabels.draw(t[0],e.layout().absoluteX(),e.layout().absoluteY(),15,e.layout().absoluteScale(),new(o())(1,1,1,1),new(o())(0,0,0,1)),l.restore()})),l.restore(),p=p.paintGroup().next()):g=!0}while(p!==this._widget);if(a.node()){const t=a.node().layout();l.lineWidth=.5*t.absoluteScale(),l.lineJoin="round",l.strokeStyle=A.asRGBA();const n=[0,0];t.size(n),C(a.node())||a.node().neighbors().hasNode(r.Direction.INWARD)?(l.beginPath(),l.roundRect(t.absoluteX()-t.absoluteScale()*n[0]/2+1/4*t.absoluteScale(),t.absoluteY()-t.absoluteScale()*n[1]/2+1/4*t.absoluteScale(),t.absoluteScale()*n[0]-.5*t.absoluteScale(),t.absoluteScale()*n[1]-.5*t.absoluteScale(),5*t.absoluteScale()/2.13),l.stroke()):(l.beginPath(),l.arc(t.absoluteX(),t.absoluteY(),n[0]/2*t.absoluteScale()-1/4*t.absoluteScale(),0,2*Math.PI),l.stroke()),l.resetTransform(),this.showNodeActions()?(this.carouselContainer().style.display="block",this.carouselContainer().style.transform="scale(".concat(e.scale(),") translate(").concat(t.absoluteX()+e.x(),"px, ").concat(t.absoluteY()+e.y(),"px) scale(").concat(1/e.scale(),") translate(-").concat(e.width()/2,"px, -").concat(e.height()/2,"px) translate(-50%, -50%)"),this.carouselAnchor().style.width="".concat(n[0]*t.absoluteScale()*e.scale(),"px"),this.carouselAnchor().style.height="".concat(n[1]*t.absoluteScale()*e.scale(),"px")):this.carouselContainer().style.display="none"}if(g){if(S>1e3)return void console.log("Failed to fully render after ",S,"attempts");S++,this.refresh()}else S=0,l.scale(e.scale(),e.scale()),l.translate(e.x(),e.y()),this._worldLabels.render(l,e.x(),e.y(),e.width(),e.height(),e.scale())}showNodeActions(){return this._showEditor}carouselAnchor(){return this._carouselAnchor||(this._carouselAnchor=document.createElement("div"),this._carouselAnchor.style.position="relative",this._carouselAnchor.style.pointerEvents="none",this.carouselContainer().appendChild(this._carouselAnchor)),this._carouselAnchor}carouselContainer(){return this._carouselContainer||(this._carouselContainer=document.createElement("div"),this._carouselContainer.style.position="absolute",this._carouselContainer.style.left="50%",this._carouselContainer.style.top="50%",this._carouselContainer.style.transformOrigin="center"),this._carouselContainer}setMousePos(e,t){this._mousePos[0]=e,this._mousePos[1]=t}}var O=n(319);function k(e){switch(typeof e){case"object":return null===e?new r.DirectionNode("null"):Array.isArray(e)?function(e){const t=new r.DirectionCaret;return e.forEach(((e,n)=>{t.connectMove(0===n?"i":"f",k(e))})),t.root()}(e):function(e){const t=new r.DirectionCaret;t.spawnMove("i");let n=!1;return Object.keys(e).forEach((r=>{n=!0;const i=e[r];t.connect("b",k(r)),t.connect("f",k(i)),t.spawnMove("d")})),n||(t.spawn("b"),t.spawn("f")),t.root()}(e);case"string":case"number":case"boolean":return new r.DirectionNode(JSON.stringify(e));default:return new r.DirectionNode(typeof e)}}function T(e,t){let n=e.shift();if("("===n.val){const t=new r.DirectionCaret;t.spawnMove("i"),t.shrink();let n=!1;t.push();let i=!0;for(;e.length>1&&")"!==e[0].val;){if("\n"===e[0].val){e.shift(),n=!0;continue}const r=T(e,i?t.node():null);i=!1,n?(t.pop(),t.spawnMove("d"),t.push(),t.connectMove("f",r),n=!1):r!==t.node()&&t.connectMove("f",r)}return e.shift(),t.root()}return t?(t.setValue(n.val),t):new r.DirectionNode(n.val)}function I(e){const t=(0,O.tokenize)(e);for(;t.length>0&&"\n"===t[0].val;)t.shift();let n=T(t);const i=n;for(;t.length>0;){const e=new r.DirectionNode,i=T(t,e);for(e===i||e.connect(r.Direction.FORWARD,i),n.connect(r.Direction.DOWNWARD,e),n=e;t.length>0&&"\n"===t[0].val;)t.shift()}return i}const B=n(172);function G(e){return String.fromCharCode(...e)}const M=n(382).hp;const W=e=>{const t=new r.DirectionCaret;for(let n=0;n<e;++n)switch(Math.floor(7*Math.random())){case 0:t.has(r.Direction.FORWARD)?t.pull(r.Direction.FORWARD):t.spawnMove(r.Direction.FORWARD);break;case 1:t.has(r.Direction.BACKWARD)?t.pull(r.Direction.BACKWARD):t.spawnMove(r.Direction.BACKWARD);break;case 2:t.has(r.Direction.DOWNWARD)?t.pull(r.Direction.DOWNWARD):t.spawnMove(r.Direction.DOWNWARD);break;case 3:t.has(r.Direction.UPWARD)?t.pull(r.Direction.UPWARD):t.spawnMove(r.Direction.UPWARD);break;case 4:t.has(r.Direction.INWARD)?t.pull(r.Direction.INWARD):t.spawnMove(r.Direction.INWARD);break;case 5:t.shrink();break;default:t.node().neighbors().isRoot()?t.node().siblings().setLayoutPreference(r.PreferredAxis.VERTICAL):t.moveTo(t.node().neighbors().parentNode())}return t.root()},F=e=>{let t=10;if(e)try{"string"===typeof e?t=Number.parseInt(e):"number"===typeof e&&(t=e)}catch(i){console.log(i)}const n=new r.DirectionCaret;for(let r=0;r<t;++r){n.spawnMove("d"),n.push();for(let e=0;e<t;++e)n.spawnMove("f",e);n.pop()}return n.root()},z=()=>{const e=new r.DirectionCaret;for(let t=0;t<10;++t){e.spawnMove("f"),e.push();for(let n=0;n<10;++n)e.spawnMove(t%2!==0?"u":"d",n);e.pop()}return e.root()},U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;const t=new r.DirectionCaret;for(let n=0;n<24;++n)for(let r=0;r<60;r+=e){let e="";e+=0===n||12===n?12:n<12?n:n-12,e+=":",e+=r<10?"0"+r:r,e+=" "+(n>=12?"PM":"AM"),t.spawnMove("d",e)}return t.root()},V=(e,t,n)=>{if(!n||n.length<=0)throw new Error("No labels to spawn from");e.push();try{if(e.node().setValue(n[0]),(n=[...n]).length%4===0&&e.crease(),n.shift(),0===n.length)return e.root();e.align(t,"c"),e.spawnMove(t),e.push();try{e.pull(t),e.spawnMove(t),e.shrink(),V(e,t,n)}finally{e.pop()}e.spawnMove((0,r.turnPositive)(t)),e.pull(t),e.spawnMove(t),e.shrink(),V(e,t,n)}finally{e.pop()}return e.root()},j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const o=new r.DirectionNode(n[0]),s=e?r.Direction.DOWNWARD:r.Direction.FORWARD,a=(0,r.reverseDirection)(s);return n.length>0&&(o.connect(s,V(new r.DirectionCaret,s,n)),o.connect(a,V(new r.DirectionCaret,a,n))),o.neighbors().nodeAt(s).setValue(),o.neighbors().nodeAt(a).setValue(),o},H=e=>j(e,"Finals","Conference Finals","Conference Semifinals","First Round"),X=e=>j(e,"Championship","Conference Championship","Divisional Round","Wild Card");var Y=n(579);function K(t){let{openGraph:i,onClose:o}=t;const[s,a]=(0,e.useState)(null),[u,l]=(0,e.useState)("words"),[c,h]=(0,e.useState)(null),d=(0,e.useCallback)((()=>{console.log(u);try{if("png"===u)return void s.arrayBuffer().then((e=>{i(function(e){const t=(e,t)=>{if("exif"===e.toLowerCase())try{return n(654)(M.from(t.buffer))}catch(r){return r.toString()+" "+G(t)}return t.length<200?G(t):t.toString().substring(0,50)};try{return k(B(e).map((e=>({name:e.name,length:e.data.length,data:t(e.name,e.data)}))))}catch(i){return new r.DirectionNode(i.toString())}}(new Uint8Array(e)))}));if("jpeg"===u)return void s.arrayBuffer().then((e=>{i(function(e){try{return console.log(e),k(n(698).create(e).parse())}catch(t){return new r.DirectionNode(t.toString())}}(e))}));s.text().then((e=>{switch(u){case"words":i(function(e){const t=new r.DirectionCaret;return e.split(/(\r\n|\n|\r)/g).forEach((e=>{t.push(),e.split(/\s/g).forEach((e=>{t.spawnMove("f",e)})),t.pop(),t.spawnMove("d")})),t.root()}(e));break;case"lisp":i(I(e));break;case"json":i(k(JSON.parse(e)));break;case"parsegraph":const t=JSON.parse(e);i((0,r.deserializeParsegraph)(t),t.selectedNode);break;case"lines":i(function(e){const t=new r.DirectionCaret;return e.split(/(\r\n|\n|\r)/g).forEach((e=>{t.spawn("f",e),t.spawnMove("d")})),t.root()}(e));break;default:throw new Error("Unsupported import type: "+u)}}))}catch(e){console.log(e),alert(e)}finally{o&&o()}}),[o,u,s,i]),f=(0,e.useCallback)((e=>{for(const t of e.target.files)switch(h(t.name),a(t),t.name.split(".").pop().toLowerCase()){case"png":l("png");break;case"jpg":case"jpeg":l("jpeg");break;case"lisp":l("lisp");break;case"parsegraph":case"graph":l("parsegraph");break;case"json":if(t.name.endsWith("parsegraph.json")){l("parsegraph");break}l("json");break;case"txt":if(t.name.endsWith("parsegraph.txt")){l("parsegraph");break}l("lines");break;case"ini":l("lines");break;default:l("words")}}),[]);return(0,Y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d()},style:{display:"flex",flexDirection:"column",justifyContent:"stretch"},children:[(0,Y.jsx)("span",{style:{display:"block",paddingBottom:"0.5em",fontSize:"18px"},children:"Load a Parsegraph from a file."}),(0,Y.jsx)("label",{htmlFor:"fileUpload",style:{display:"block",background:s?"#0a8a0a":"#5f5fff",color:"white",padding:"5px",borderRadius:"3px",marginBottom:"5px",flexGrow:"1"},children:s?null!==c&&void 0!==c?c:"File selected":"Choose file"}),(0,Y.jsx)("input",{style:{display:"none"},id:"fileUpload",type:"file",onChange:f}),(0,Y.jsxs)("label",{style:{display:"flex",gap:"5px"},children:["Type: ",(0,Y.jsxs)("select",{style:{flexGrow:"1"},value:u,onChange:e=>l(e.target.value),children:[(0,Y.jsx)("option",{value:"words",children:"Words"}),(0,Y.jsx)("option",{value:"parsegraph",children:"Parsegraph"}),(0,Y.jsx)("option",{value:"lines",children:"Lines"}),(0,Y.jsx)("option",{value:"lisp",children:"Lisp"}),(0,Y.jsx)("option",{value:"json",children:"JSON"}),(0,Y.jsx)("option",{value:"png",children:"PNG"}),(0,Y.jsx)("option",{value:"jpeg",children:"JPEG"})]})]}),(0,Y.jsxs)("div",{className:"buttons",children:[(0,Y.jsx)("input",{type:"submit",style:{flexGrow:"1"},onClick:d,value:"Import"}),o&&(0,Y.jsx)("button",{style:{flexGrow:"1"},onClick:o,children:"Cancel"})]})]})}const Z=(e,t)=>fetch("/public/"+t).then((e=>e.json())).then((n=>{e((0,r.deserializeParsegraph)(n),null,t)}));function q(t){let{openGraph:n,onClose:r}=t;const[i,o]=(0,e.useState)(""),s=()=>{Z(n,i),r&&r()};return(0,Y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s()},children:[(0,Y.jsx)("span",{style:{display:"block",paddingBottom:"0.5em",fontSize:"18px"},children:p?"Load a public Parsegraph.":"Public servers not accessible"}),(0,Y.jsxs)("label",{style:{display:"flex",gap:"5px"},children:["Name: ",(0,Y.jsx)("input",{disabled:!p,style:{flexGrow:"1"},value:i,onChange:e=>o(e.target.value)})]}),(0,Y.jsxs)("div",{className:"buttons",children:[(0,Y.jsx)("input",{disabled:!p||!i,type:"submit",style:{flexGrow:"1"},onClick:s,value:"Load"}),r&&(0,Y.jsx)("button",{style:{flexGrow:"1"},onClick:r,children:"Cancel"})]})]})}const $=e=>fetch("/surface.lisp").then((e=>e.text())).then((t=>{e(I(t))})),Q=e=>fetch("/package.json").then((e=>e.text())).then((t=>{e(k(JSON.parse(t)))}));function J(t){let{openGraph:n,onClose:i}=t;const[o,s]=(0,e.useState)("blank"),[a,u]=(0,e.useState)(5),[l,c]=(0,e.useState)(!1),h=()=>{switch(o){case"blank":n(new r.DirectionNode);break;case"lisp":$(n);break;case"json":Q(n);break;case"grid":n(F());break;case"daily_planner_5":n(U(5));break;case"daily_planner_10":n(U(10));break;case"daily_planner_15":n(U(15));break;case"daily_planner_30":n(U(30));break;case"daily_planner_60":n(U(60));break;case"random":n(W(250));break;case"alt_columns":n(z());break;case"march_madness":n(H(!1));break;case"march_madness_vert":n(H(!0));break;case"playoffs":n(X(!1));break;case"playoffs_vert":n(X(!0));break;case"march":n(j(l,...ee(a)));break;default:n(new r.DirectionNode("Unknown import type: "+o))}i&&i()};return(0,Y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()},children:[(0,Y.jsx)("span",{style:{display:"block",paddingBottom:"0.5em",fontSize:"18px"},children:"Create a new Parsegraph."}),(0,Y.jsxs)("label",{style:{display:"flex",gap:"5px"},children:["Template: ",(0,Y.jsxs)("select",{style:{flexGrow:"1"},value:o,onChange:e=>s(e.target.value),children:[(0,Y.jsx)("option",{value:"blank",children:"Blank"}),(0,Y.jsx)("option",{value:"json",children:"Sample JSON"}),(0,Y.jsx)("option",{value:"lisp",children:"Sample Lisp"}),(0,Y.jsx)("option",{value:"grid",children:"Grid"}),(0,Y.jsx)("option",{value:"daily_planner_5",children:"Daily planner (5m)"}),(0,Y.jsx)("option",{value:"daily_planner_10",children:"Daily planner (10m)"}),(0,Y.jsx)("option",{value:"daily_planner_15",children:"Daily planner (15m)"}),(0,Y.jsx)("option",{value:"daily_planner_30",children:"Daily planner (30m)"}),(0,Y.jsx)("option",{value:"daily_planner_60",children:"Daily planner (hourly)"}),(0,Y.jsx)("option",{value:"alt_columns",children:"Alternating columns"}),(0,Y.jsx)("option",{value:"random",children:"Random graph"}),(0,Y.jsx)("option",{value:"march_madness",children:"March Madness"}),(0,Y.jsx)("option",{value:"march_madness_vert",children:"March Madness (Vertical)"}),(0,Y.jsx)("option",{value:"playoffs",children:"Playoffs"}),(0,Y.jsx)("option",{value:"playoffs_vert",children:"Playoffs (Vertical)"}),(0,Y.jsx)("option",{value:"march",children:"Tournament"})]})]}),"march"===o&&(0,Y.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"8px",margin:"8px 0"},children:[(0,Y.jsxs)("label",{style:{display:"flex"},children:["Rounds:\xa0",(0,Y.jsx)("input",{value:a,onChange:e=>u(Number.parseInt(e.target.value)),type:"range",min:"1",max:"10"}),(0,Y.jsx)("span",{style:{display:"inline-block",minWidth:"2em"},children:a})]}),(0,Y.jsxs)("label",{style:{display:"flex",justifyContent:"space-between"},children:["Vertical?",(0,Y.jsx)("input",{style:{minWidth:"2em"},type:"checkbox",checked:l,onChange:e=>c(e.target.checked)})]})]}),(0,Y.jsxs)("div",{className:"buttons",children:[(0,Y.jsx)("input",{type:"submit",style:{flexGrow:"1"},onClick:h,value:"Create"}),i&&(0,Y.jsx)("button",{style:{flexGrow:"1"},onClick:i,children:"Cancel"})]})]})}const ee=e=>{if("string"===typeof e)try{e=Number.parseInt(e)}catch(r){e=2}const t=[],n=t=>{switch(t){case 0:return"Championship";case 1:return"Semifinals";case 2:return"Quarterfinals";default:return"Round "+(e-t)}};for(let i=0;i<e;++i)t.push(n(i));return t};function te(t){let{onClose:n,openGraph:r,sampleName:i}=t;const[o,s]=(0,e.useState)("template");return(0,e.useEffect)((()=>{var e,t;if(!i||!r)return;const n=i.split("_");switch(n[0]){case"lisp":$(r);break;case"json":Q(r);break;case"grid":r(F(n[1]));break;case"playoffs":r(X(null===(e=n[1])||void 0===e?void 0:e.toLowerCase().startsWith("vert")));break;case"march":const i=null===(t=n[2])||void 0===t?void 0:t.toLowerCase().startsWith("vert");if("madness"===n[1]){r(H(i));break}r(j(i,...ee(n[1])));break;default:return}}),[i,r]),(0,Y.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"stretch",flexDirection:"column",alignItems:"stretch",gap:"3px",padding:"12px",boxSizing:"border-box"},children:[(0,Y.jsxs)("h3",{style:{margin:"0",marginBottom:".5em"},children:["template"===o?"New":"public"===o?"Load":"Open"," Parsegraph"]}),(0,Y.jsxs)("div",{className:"tabs",style:{display:"flex",gap:"5px"},children:[(0,Y.jsx)("button",{className:"template"===o?"active":null,onClick:()=>{s("template")},children:"New"}),(0,Y.jsx)("button",{className:"import"===o?"active":null,onClick:()=>{s("import")},children:"Open"}),(p||!g)&&(0,Y.jsx)("button",{className:"public"===o?"active":null,onClick:()=>{s("public")},children:"Public"})]}),"template"===o&&(0,Y.jsx)(J,{openGraph:r,onClose:n}),"import"===o&&(0,Y.jsx)(K,{openGraph:r,onClose:n}),"public"===o&&(0,Y.jsx)(q,{openGraph:r,onClose:n})]})}let ne=0;const re=()=>{const e=[];for(let t=0;t<ne;++t)e.push("  ");return e.join("")};function ie(e,t){const n=e.neighbors().hasNode(r.Direction.INWARD);e.neighbors().hasNode(r.Direction.INWARD)&&(t.push("("),ne++),void 0!==e.value()&&(t.push(e.value()),t.push(" ")),n&&(ie(e.neighbors().nodeAt(r.Direction.INWARD),t),t.push(")"),ne--),e.neighbors().hasNode(r.Direction.FORWARD)&&ie(e.neighbors().nodeAt(r.Direction.FORWARD),t),e.neighbors().hasNode(r.Direction.DOWNWARD)&&(t.push("\n"+re()),ie(e.neighbors().nodeAt(r.Direction.DOWNWARD),t))}function oe(e){if(e.neighbors().hasNode(r.Direction.INWARD)){let t=e.neighbors().nodeAt(r.Direction.INWARD);if(t.neighbors().hasNode(r.Direction.BACKWARD)){const e={};for(;t;)t.neighbors().nodeAt(r.Direction.BACKWARD)&&t.neighbors().nodeAt(r.Direction.FORWARD)&&(e[oe(t.neighbors().nodeAt(r.Direction.BACKWARD))]=oe(t.neighbors().nodeAt(r.Direction.FORWARD))),t=t.neighbors().nodeAt(r.Direction.DOWNWARD);return e}{const e=[];for(;t;)e.push(oe(t)),t=t.neighbors().nodeAt(r.Direction.FORWARD);return e}}if(void 0!==e.value())return JSON.parse(e.value());throw new Error("Unhandled empty node")}function se(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}const ae=(e,t)=>e.endsWith(t)?e:e.endsWith(".")?t.startsWith(".")?e+t.substring(1):e+t:t.startsWith(".")?e+t:e+"."+t;function ue(t){var n;let{graph:i,onExport:o,onClose:s}=t;const[a,u]=(0,e.useState)("parsegraph"),[l,c]=(0,e.useState)(null!==(n=i.value())&&void 0!==n?n:"graph"),h=()=>{try{switch(a){case"lisp":const e=[];ie(i,e),se(ae(l,".lisp"),e.join(""));break;case"json":se(ae(l,".json"),JSON.stringify(oe(i)));break;case"parsegraph":se(ae(l,".parsegraph"),JSON.stringify((0,r.serializeParsegraph)(i)));break;case"words":se(ae(l,".txt"),function(e){const t=new r.DirectionCaret(e),n=[];for(;;){t.push();const e=[];for(;t.has("f");)t.move("f"),e.push(t.node().value());if(t.pop(),n.push(e.join(" ")),!t.has("d"))break;t.move("d")}return n.join("\n")}(i));break;case"lines":se(ae(l,".txt"),function(e){const t=new r.DirectionCaret(e),n=[];for(;t.has("f")&&(t.move("f"),n.push(t.node().value()),t.move("b")),t.has("d");)t.move("d");return n.join("\n")}(i));break;case"public":if(!p)throw new Error("Public servers not accessible");fetch("/public/"+l,{body:JSON.stringify((0,r.serializeParsegraph)(i)),headers:{"Content-Type":"application/json"},method:"POST"}).then((e=>{console.log(e)}));break;default:throw new Error("Unsupported export type: "+a)}o&&o()}catch(e){alert(e),console.log(e)}s&&s()};return(0,Y.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()},style:{display:"flex",flexDirection:"column",gap:"3px"},children:[(0,Y.jsxs)("label",{style:{display:"flex",gap:"5px"},children:["Name:\xa0",(0,Y.jsx)("input",{style:{flexGrow:"1"},value:l,onChange:e=>c(e.target.value)})]}),(0,Y.jsxs)("label",{style:{display:"flex",gap:"5px"},children:["Format: ",(0,Y.jsxs)("select",{style:{flexGrow:"1"},value:a,onChange:e=>u(e.target.value),children:[(0,Y.jsx)("option",{value:"parsegraph",children:"Parsegraph"}),(0,Y.jsx)("option",{value:"words",children:"Words"}),(0,Y.jsx)("option",{value:"lines",children:"Lines"}),(0,Y.jsx)("option",{value:"lisp",children:"Lisp"}),(0,Y.jsx)("option",{value:"json",children:"JSON"}),p&&(0,Y.jsx)("option",{value:"public",children:"Public"})]})]}),(0,Y.jsxs)("div",{className:"buttons",children:[(0,Y.jsx)("input",{type:"submit",onClick:h,value:"Save"}),(0,Y.jsx)("button",{onClick:s,children:"Cancel"})]})]})}function le(t){let{onExport:n,onClose:r,graph:i}=t;const[o,s]=(0,e.useState)("export");return(0,Y.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"stretch",flexDirection:"column",alignItems:"stretch",gap:"3px",padding:"12px",boxSizing:"border-box"},children:[(0,Y.jsx)("h3",{style:{margin:"0",marginBottom:".5em"},children:"Save Parsegraph"}),"export"===o&&(0,Y.jsx)(ue,{graph:i,onExport:n,onClose:r})]})}const ce=crypto.randomUUID();class he{constructor(){this._actions=[],this._actionIndex=this._actions.length-1}hasWidget(){return this._actionIndex>=0&&this._actionIndex<this._actions.length}widget(){return this.hasWidget()?(0,r.deserializeParsegraph)(this._actions[this._actionIndex]):null}selectedNode(){return this.hasWidget()?this._actions[this._actionIndex].selectedNode:null}save(e,t){const n=(0,r.serializeParsegraph)(e);t&&(n.selectedNode="object"===typeof t?t.id():t),this.hasWidget()&&JSON.stringify(this._actions[this._actionIndex])===JSON.stringify(n)||(this._actionIndex<this._actions.length-1&&this._actions.splice(this._actionIndex+1),this._actions.push(n),this._actionIndex=this._actions.length-1)}undo(){this._actionIndex>0&&--this._actionIndex}redo(){this._actionIndex<this._actions.length-1&&++this._actionIndex}}let de;const fe=e=>{const t=new URLSearchParams(window.location.search).get("public");if(t)return de||(de=((e,t)=>fetch("/public/"+t).then((e=>e.json())).then((t=>{e((0,r.deserializeParsegraph)(t))})))(e,t)),de.then((t=>{t&&e((0,r.deserializeParsegraph)(t))}))};function pe(e){let{viewport:t}=e;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("button",{className:"dir",style:{position:"absolute",right:"50%",top:"50%",transform:"translate(50%, -50%)"},onClick:()=>t.spawnMove(r.Direction.INWARD),children:"+"}),(0,Y.jsx)("button",{className:"dir",style:{position:"absolute",right:"100%",top:"50%",transform:"translate(0, -50%)"},onClick:()=>t.spawnMove(r.Direction.BACKWARD),children:"+"}),(0,Y.jsx)("button",{className:"dir",style:{position:"absolute",bottom:"100%",left:"50%",transform:"translate(-50%, 0)"},onClick:()=>t.spawnMove(r.Direction.UPWARD),children:"+"}),(0,Y.jsx)("button",{className:"dir",style:{position:"absolute",left:"50%",top:"100%",transform:"translate(-50%, 0)"},onClick:()=>t.spawnMove(r.Direction.DOWNWARD),children:"+"}),(0,Y.jsx)("button",{className:"dir",style:{position:"absolute",left:"100%",top:"50%",transform:"translate(0, -50%)"},onClick:()=>t.spawnMove(r.Direction.FORWARD),children:"+"})]})}function ge(t){let{viewport:n}=t;const r=(0,e.useRef)();return(0,e.useEffect)((()=>{n&&r.current&&n.mountLog(r.current)})),(0,Y.jsx)("div",{id:"log",ref:r})}function ye(t){let{viewport:n}=t;const r=(0,e.useRef)();return(0,e.useEffect)((()=>{n&&r.current&&n.mountEditor(r.current)}),[n,r]),(0,Y.jsx)("div",{ref:r})}function ve(t){let{viewport:n}=t;const r=(0,e.useRef)();return(0,e.useEffect)((()=>{r.current&&n.mount(r.current)}),[r,n]),(0,Y.jsx)("div",{style:{position:"fixed",inset:"0"},ref:r,tabIndex:0})}function me(e){let{viewport:t}=e;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("button",{className:"edit",onClick:()=>t.toggleAlignment(),children:"Align"}),(0,Y.jsx)("button",{className:"edit",onClick:()=>t.togglePreferredAxis(),children:"Preferred Axis"}),(0,Y.jsx)("button",{className:"edit",onClick:()=>t.toggleNodeScale(),children:"Scale"}),(0,Y.jsx)("button",{className:"edit",onClick:()=>t.toggleNodeFit(),children:"Fit"}),(0,Y.jsx)("button",{className:"edit",onClick:()=>t.pullNode(),children:"Pull"})]})}function be(e){let{undo:t,redo:n}=e;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("button",{onClick:()=>t(),children:"Undo"}),(0,Y.jsx)("button",{onClick:()=>n(),children:"Redo"})]})}const Ne=function(){const[n]=(0,e.useState)(new L),[i]=(0,e.useState)(new he),[o,s]=(0,e.useState)(!1),[a,u]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[h,d]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),y=new URLSearchParams(window.location.search),[v,m]=(0,e.useState)(y.get("public")),[b,N]=(0,e.useState)(y.get("sample")),x=(0,e.useCallback)((e=>{u(i.hasWidget()),i.hasWidget()&&(n.show(i.widget()),n.moveToId(i.selectedNode()),e||n.showInCamera())}),[n,i]),D=(0,e.useCallback)((()=>{p&&v&&fetch("/public/"+v+"?sid="+ce,{body:JSON.stringify((0,r.serializeParsegraph)(i.widget())),headers:{"Content-Type":"application/json"},method:"POST"}).then((e=>{n.logMessage("Saved to "+v),s(!1)})).catch((e=>{console.log(e),n.logMessage("Failed to save")}))}),[i,v,n]),[A,w]=(0,e.useState)(null),[_,P]=(0,e.useState)(null);(0,e.useEffect)((()=>{P(A?(0,t.createRoot)(A):null)}),[A]),(0,e.useEffect)((()=>{n&&_&&_.render((0,Y.jsx)(pe,{viewport:n}))}),[_,n]),(0,e.useEffect)((()=>{n&&w(n.carouselContainer())}),[n]),(0,e.useEffect)((()=>{if(!l)return;if(!v)return;if(!p)return;const e=new EventSource("/public/"+v+"?sid="+ce);return e.onmessage=e=>{const t=n._userCaret.node().id();i.save((0,r.deserializeParsegraph)(JSON.parse(e.data))),x(!0),n.moveToId(t)},e.onerror=()=>{c(!1)},()=>{e.close()}}),[l,i,x,v,n]),(0,e.useEffect)((()=>{i&&p&&fe(((e,t)=>{(t||l)&&(i.save(e,t),x(!0))}))}),[l,i,x]);const[E,S]=(0,e.useState)(!1),R=(0,e.useCallback)((()=>{i.undo(),l&&p&&D(),x()}),[l,D,i,x]),C=(0,e.useCallback)((()=>{i.redo(),l&&p&&D(),x()}),[l,D,i,x]);return(0,e.useEffect)((()=>{i&&(n.setSaveGraph(((e,t)=>{i.save(e,t),l&&p?D():s(!0)})),n.setUndo(R),n.setRedo(C),n.setToggleNodeActions((()=>{S((e=>!e))})),i._actionIndex<0||n.show(i.widget()))}),[i,n,x,l,D,R,C]),(0,e.useEffect)((()=>{l||(window.onbeforeunload=o?()=>"Are you sure you want to lose your unexported changes?":null)}),[o,l]),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:"App",children:[(0,Y.jsx)(ve,{viewport:n}),(!a||h)&&(0,Y.jsx)("div",{className:"modal",children:(0,Y.jsx)(te,{sampleName:b,onClose:a?()=>d(!1):null,openGraph:(e,t,n)=>{N(null),m(n),i.save(e,t),x()}})}),f&&a&&(0,Y.jsx)("div",{className:"modal",children:(0,Y.jsx)(le,{onExport:()=>{s(!1)},graph:i.widget(),onClose:()=>g(!1)})})]}),(0,Y.jsxs)("div",{className:"AppMenu",children:[(0,Y.jsxs)("div",{style:{flexGrow:"1",display:"flex",gap:"5px"},children:[(0,Y.jsx)("button",{onClick:e=>window.location.href="/",children:"<<"}),a&&!E&&(0,Y.jsx)("button",{tabIndex:0,onClick:()=>{g(!1),d((e=>!e))},children:"Open"}),a&&(0,Y.jsxs)("div",{style:{flexGrow:"1",display:"flex",flexDirection:"column"},children:[(0,Y.jsxs)("div",{className:"buttons",style:{paddingTop:"0"},children:[!E&&a&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("button",{onClick:()=>n.showInCamera(),children:"Re-center"}),(0,Y.jsx)("button",{onClick:()=>n.moveOutward(),children:"Outward"}),(0,Y.jsx)("button",{onClick:()=>n.toggleEditor(),children:"Edit"})]}),E&&(0,Y.jsx)(me,{viewport:n}),!E&&(0,Y.jsx)("button",{className:"edit",style:{background:"red",color:"white"},onClick:()=>n.removeNode(),children:"Remove"}),!E&&(0,Y.jsx)(be,{undo:R,redo:C}),p&&v&&(0,Y.jsxs)("button",{onClick:()=>{c((e=>!e))},children:["Auto-publish ",l?"ON":"OFF"]})]}),(0,Y.jsx)(ye,{viewport:n})]}),a&&!E&&(0,Y.jsx)("button",{onClick:()=>{d(!1),g((e=>!e))},children:"Save"}),p&&v&&(0,Y.jsxs)("button",{onClick:()=>D(),children:["Publish to ",v]})]}),(0,Y.jsx)(ge,{viewport:n})]})]})},xe=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,Y.jsx)(e.StrictMode,{children:(0,Y.jsx)(Ne,{})})),xe()})()})();
//# sourceMappingURL=main.0d4e3202.js.map